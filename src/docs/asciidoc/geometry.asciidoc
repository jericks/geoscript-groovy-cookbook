== Geometry Recipes

=== Creating Geometries

[source,groovy]
.Create a Point with an XY
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createPoint,indent=0]
----
[.thumb]
image::geometry_create_point.png[]

[source,groovy]
.Create a LineString from Coordinates
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createLineStringFromCoordinates,indent=0]
----
[.thumb]
image::geometry_create_linestring_coordinates.png[]

[source,groovy]
.Create a Polygon from a List of Coordinates
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createPolygon,indent=0]
----
[.thumb]
image::geometry_create_polygon.png[]

[source,groovy]
.Create a MultiPoint with a List of Points
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createMultiPoint,indent=0]
----
[.thumb]
image::geometry_create_multipoint.png[]

[source,groovy]
.Create a MultiLineString with a List of LineStrings
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createMultiLineString,indent=0]
----
[.thumb]
image::geometry_create_multilinestring.png[]

[source,groovy]
.Create a MultiPolygon with a List of Polygons
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createMultiPolygon,indent=0]
----
[.thumb]
image::geometry_create_multipolygon.png[]

[source,groovy]
.Create a CircularString with a List of Points
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createCircularString,indent=0]
----
[.thumb]
image::geometry_create_circularstring.png[]

[source,groovy]
.Create a CircularRing with a List of Points
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createCircularRing,indent=0]
----
[.thumb]
image::geometry_create_circularring.png[]

[source,groovy]
.Create a CompoundCurve with a List of CircularStrings and LineStrings
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createCompoundCurve,indent=0]
----
[.thumb]
image::geometry_create_compoundcurve.png[]

[source,groovy]
.Create a CompoundRing with a connected List of CircularStrings and LineStrings
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createCompoundRing,indent=0]
----
[.thumb]
image::geometry_create_compoundring.png[]

=== Procesing Geometries

[source,groovy]
.Get the area of a Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=getArea,indent=0]
----
....
include::output/geometry_getarea.txt[]
....

[source,groovy]
.Get the length of a Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=getLength,indent=0]
----
....
include::output/geometry_getlength.txt[]
....

[source,groovy]
.Buffer a Point
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=bufferPoint,indent=0]
----
[.thumb]
image::geometry_buffer_point.png[]

[source,groovy]
.Buffer a LineString with a butt cap
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=bufferLineString1,indent=0]
----
[.thumb]
image::geometry_buffer_line1.png[]

[source,groovy]
.Buffer a LineString with a round cap
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=bufferLineString2,indent=0]
----
[.thumb]
image::geometry_buffer_line2.png[]

[source,groovy]
.Buffer a LineString with a square cap
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=bufferLineString3,indent=0]
----
[.thumb]
image::geometry_buffer_line3.png[]

[source,groovy]
.Buffer a LineString on the right side only
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=bufferLineStringSingleSided1,indent=0]
----
[.thumb]
image::geometry_buffer_line_singlesided1.png[]

[source,groovy]
.Buffer a LineString on the left side only
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=bufferLineStringSingleSided2,indent=0]
----
[.thumb]
image::geometry_buffer_line_singlesided2.png[]

[source,groovy]
.Check whether a Geometry contains another Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=contains1,indent=0]
----
[.thumb]
image::geometry_contains_1.png[]
....
include::output/geometry_contains_1.txt[]
....

----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=contains2,indent=0]
----
[.thumb]
image::geometry_contains_2.png[]
....
include::output/geometry_contains_2.txt[]
....

[source,groovy]
.Create a convexhull Geometry around a Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=convexHull,indent=0]
----
[.thumb]
image::geometry_convexhull.png[]

[source,groovy]
.Check whether a Geometry covers another Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=covers1,indent=0]
----
[.thumb]
image::geometry_covers_1.png[]
....
include::output/geometry_covers_1.txt[]
....

----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=covers2,indent=0]
----
[.thumb]
image::geometry_covers_2.png[]
....
include::output/geometry_covers_2.txt[]
....

[source,groovy]
.Check whether a Geometry is covered by another Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=coveredBy1,indent=0]
----
[.thumb]
image::geometry_coveredby_1.png[]
....
include::output/geometry_coveredby_1.txt[]
....

----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=coveredBy2,indent=0]
----
[.thumb]
image::geometry_coveredby_2.png[]
....
include::output/geometry_coveredby_2.txt[]
....

[source,groovy]
.Check whether one Geometry crosses another Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=crosses,indent=0]
----
[.thumb]
image::geometry_crosses.png[]
....
include::output/geometry_crosses.txt[]
....

[source,groovy]
.Calculate the difference between two Geometries
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=difference,indent=0]
----
[.thumb]
image::geometry_difference.png[]

[source,groovy]
.Check whether one Geometry is disjoint from another Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=disjoint,indent=0]
----
[.thumb]
image::geometry_distjoint.png[]
....
include::output/geometry_disjoint.txt[]
....

[source,groovy]
.Calculate the distance bewteen two Geometries
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=distance,indent=0]
----
[.thumb]
image::geometry_distance.png[]
....
include::output/geometry_distance.txt[]
....

[source,groovy]
.Get Bounds from a Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=bounds,indent=0]
----
[.thumb]
image::geometry_bounds.png[]

[source,groovy]
.Create a Geometry of a String
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createFromText,indent=0]
----
[.thumb]
image::geometry_createfromtext.png[]

[source,groovy]
.Create a Sierpinski Carpet in a given Bounds and with a number of points
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createSierpinskiCarpet,indent=0]
----
[.thumb]
image::geometry_sierpinskicarpet.png[]

[source,groovy]
.Create a Kock Snowflake in a given Bounds and with a number of points
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createKochSnowflake,indent=0]
----
[.thumb]
image::geometry_kochsnowflake.png[]

[source,groovy]
.Create a number of random points within a given Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createRandomPoints,indent=0]
----
[.thumb]
image::geometry_create_random_points.png[]

[source,groovy]
.Create a number of random points within a given Geometry where the points are contrained to the cells of a grid
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=createRandomPointsInGrid,indent=0]
----
[.thumb]
image::geometry_create_random_points_ingrid.png[]

=== Reading and Writing Geometries

The geoscript.geom.io package has several Readers and Writers for converting geoscript.geom.Geometry to and from strings.

==== Readers and Writers

[source,groovy]
.Find all Geometry Readers
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=getGeometryReaders,indent=0]
----
....
include::output/geometry_list_readers.txt[]
....

[source,groovy]
.Find a Geometry Reader
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=findGeometryReader,indent=0]
----
[.thumb]
image::geometry_find_reader.png[]

[source,groovy]
.Find all Geometry Writers
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=getGeometryWriters,indent=0]
----
....
include::output/geometry_list_writers.txt[]
....

[source,groovy]
.Find a Geometry Writer
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=findGeometryWriter,indent=0]
----
....
include::output/geometry_find_writer.txt[]
....

==== WKB

[source,groovy]
.Read a Geometry from WKB using the WkbReader
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromWKBReader,indent=0]
----
[.thumb]
image::geometry_read_wkbreader.png[]

[source,groovy]
.Read a Geometry from WKB using the Geometry.fromWKB() static method
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromWKB,indent=0]
----
[.thumb]
image::geometry_read_geometryfromwkb.png[]

[source,groovy]
.Get the WKB of a Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToWKB,indent=0]
----
....
include::output/geometry_to_wkb.txt[]
....

[source,groovy]
.Write a Geometry to  WKB using the WkbWriter
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToWKBUsingWriter,indent=0]
----
....
include::output/geometry_to_wkb_using_writer.txt[]
....

==== WKT

[source,groovy]
.Read a Geometry from WKT using the WktReader
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromWKTReader,indent=0]
----
[.thumb]
image::geometry_read_wktreader.png[]

[source,groovy]
.Read a Geometry from WKT using the Geometry.fromWKT() static method
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromWKT,indent=0]
----
[.thumb]
image::geometry_read_geometryfromwkt.png[]

[source,groovy]
.Get the WKT of a Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToWKT,indent=0]
----
....
include::output/geometry_to_wkt.txt[]
....

[source,groovy]
.Write a Geometry to  WKT using the WktWriter
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToWKTUsingWriter,indent=0]
----
....
include::output/geometry_to_wkt_using_writer.txt[]
....

==== GeoJSON

[source,groovy]
.Read a Geometry from GeoJSON using the GeoJSONReader
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromGeoJSONReader,indent=0]
----
[.thumb]
image::geometry_read_geojsonreader.png[]

[source,groovy]
.Read a Geometry from GeoJSON using the Geometry.fromGeoJSON() static method
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromGeoJSON,indent=0]
----
[.thumb]
image::geometry_read_geometryfromgeojson.png[]

[source,groovy]
.Get the GeoJSON of a Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToGeoJSON,indent=0]
----
....
include::output/geometry_to_geojson.txt[]
....

[source,groovy]
.Write a Geometry to  GeoJSON using the GeoJSONWriter
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToGeoJSONUsingWriter,indent=0]
----
....
include::output/geometry_to_geojson_using_writer.txt[]
....

==== KML

[source,groovy]
.Read a Geometry from KML using the KmlReader
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromKMLReader,indent=0]
----
[.thumb]
image::geometry_read_kmlreader.png[]

[source,groovy]
.Read a Geometry from KML using the Geometry.fromKml() static method
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromKML,indent=0]
----
[.thumb]
image::geometry_read_geometryfromkml.png[]

[source,groovy]
.Get the KML of a Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToKML,indent=0]
----
....
include::output/geometry_to_kml.txt[]
....

[source,groovy]
.Write a Geometry to KML using the KmlWriter
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToKMLUsingWriter,indent=0]
----
....
include::output/geometry_to_kml_using_writer.txt[]
....

==== Geobuf

[source,groovy]
.Read a Geometry from Geobuf using the GeobufReader
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromGeobufReader,indent=0]
----
[.thumb]
image::geometry_read_geobufreader.png[]

[source,groovy]
.Read a Geometry from Geobuf using the Geometry.fromGeobuf() static method
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=readGeometryFromGeobuf,indent=0]
----
[.thumb]
image::geometry_read_geometryfromgeobuf.png[]

[source,groovy]
.Get the Geobuf of a Geometry
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToGeobuf,indent=0]
----
....
include::output/geometry_to_geobuf.txt[]
....

[source,groovy]
.Write a Geometry to Geobuf using the GeobufWriter
----
include::{sourcedir}/geoscript/cookbook/GeometryRecipes.groovy[tags=writeGeometryToGeobufUsingWriter,indent=0]
----
....
include::output/geometry_to_geobuf_using_writer.txt[]
....