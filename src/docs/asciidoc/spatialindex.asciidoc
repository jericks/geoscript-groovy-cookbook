== Spatial Index Recipes

=== Using STRtree

[source,groovy]
.Create a STRtree spatial index
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createSTRtree_create,indent=0]
----

[source,groovy]
.Insert Geometries and their Bounds
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createSTRtree_insert,indent=0]
----

[source,groovy]
.Get the size of the index
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createSTRtree_size,indent=0]
----
....
include::output/spatialindex_strtree_size.txt[]
....

[source,groovy]
.Query the index
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createSTRtree_results,indent=0]
----
....
include::output/spatialindex_strtree_results.txt[]
....

=== Using Quadtree

[source,groovy]
.Create a Quadtree spatial index
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createQuadtree_create,indent=0]
----

[source,groovy]
.Insert Geometries and their Bounds
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createQuadtree_insert,indent=0]
----

[source,groovy]
.Get the size of the index
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createQuadtree_size,indent=0]
----
....
include::output/spatialindex_quadtree_size.txt[]
....

[source,groovy]
.Query the index with a Bounds
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createQuadtree_results,indent=0]
----
....
include::output/spatialindex_quadtree_results.txt[]
....

[source,groovy]
.Query the entire index
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createQuadtree_allresults,indent=0]
----
....
include::output/createQuadtree_allresults.txt[]
....

[source,groovy]
.Remove an item from the index
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=createQuadtree_remove,indent=0]
----
....
include::output/spatialindex_quadtree_remove.txt[]
....

=== Using GeoHash

[source,groovy]
.Encode a Point as a String
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=geohashEncodePoint,indent=0]
----
....
include::output/spatialindex_geohash_encodepoints.txt[]
....

[source,groovy]
.Decode a String to a Point
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=geohashDecodeString,indent=0]
----
....
include::output/spatialindex_geohash_decodestring.txt[]
....

[source,groovy]
.Encode a Point as a Long
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=geohashEncodePointAsLong,indent=0]
----
....
include::output/spatialindex_geohash_encodepoints_long.txt[]
....

[source,groovy]
.Decode a String to a Point
----
include::{sourcedir}/geoscript/cookbook/SpatialIndexRecipes.groovy[tags=geohashDecodeLong,indent=0]
----
....
include::output/spatialindex_geohash_decodelong.txt[]
....