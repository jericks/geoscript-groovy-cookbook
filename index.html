<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="Jared Erickson">
<title>Geoscript Groovy Cookbook</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Geoscript Groovy Cookbook</h1>
<div class="details">
<span id="author" class="author">Jared Erickson</span><br>
<span id="revnumber">version 1.14.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#using-geoscript">Using GeoScript</a>
<ul class="sectlevel2">
<li><a href="#geoscript-groovy">geoscript-groovy</a></li>
<li><a href="#library">Library</a>
<ul class="sectlevel3">
<li><a href="#maven">Maven</a></li>
<li><a href="#gradle">Gradle</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#geometry-recipes">Geometry Recipes</a>
<ul class="sectlevel2">
<li><a href="#creating-geometries">Creating Geometries</a>
<ul class="sectlevel3">
<li><a href="#point">Point</a></li>
<li><a href="#linestring">LineString</a></li>
<li><a href="#polygon">Polygon</a></li>
<li><a href="#multipoint">MultiPoint</a></li>
<li><a href="#multilinestring">MultiLineString</a></li>
<li><a href="#multipolygon">MultiPolygon</a></li>
<li><a href="#geometrycollection">GeometryCollection</a></li>
<li><a href="#circularstring">CircularString</a></li>
<li><a href="#circularring">CircularRing</a></li>
<li><a href="#compoundcurve">CompoundCurve</a></li>
<li><a href="#compoundring">CompoundRing</a></li>
</ul>
</li>
<li><a href="#points">Points</a></li>
<li><a href="#linestrings">LineStrings</a></li>
<li><a href="#polygons">Polygons</a></li>
<li><a href="#multilinestrings">MultiLineStrings</a></li>
<li><a href="#multipolygons">MultiPolygons</a></li>
<li><a href="#geometry-collections">Geometry Collections</a></li>
<li><a href="#circular-strings">Circular Strings</a></li>
<li><a href="#circular-rings">Circular Rings</a></li>
<li><a href="#compound-curves">Compound Curves</a></li>
<li><a href="#compound-rings">Compound Rings</a></li>
<li><a href="#processing-geometries">Processing Geometries</a></li>
<li><a href="#prepared-geometry">Prepared Geometry</a></li>
<li><a href="#reading-and-writing-geometries">Reading and Writing Geometries</a>
<ul class="sectlevel3">
<li><a href="#readers-and-writers">Readers and Writers</a></li>
<li><a href="#wkb">WKB</a></li>
<li><a href="#wkt">WKT</a></li>
<li><a href="#twkb">TWKB</a></li>
<li><a href="#geojson">GeoJSON</a></li>
<li><a href="#geopackage">GeoPackage</a></li>
<li><a href="#kml">KML</a></li>
<li><a href="#geobuf">Geobuf</a></li>
<li><a href="#gml-2">GML 2</a></li>
<li><a href="#gml-3">GML 3</a></li>
<li><a href="#gpx">GPX</a></li>
<li><a href="#georss">GeoRSS</a></li>
<li><a href="#google-polyline">Google Polyline</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bounds-recipes">Bounds Recipes</a>
<ul class="sectlevel2">
<li><a href="#creating-bounds">Creating Bounds</a></li>
<li><a href="#getting-bounds-properties">Getting Bounds Properties</a></li>
<li><a href="#processing-bounds">Processing Bounds</a></li>
</ul>
</li>
<li><a href="#projection-recipes">Projection Recipes</a>
<ul class="sectlevel2">
<li><a href="#creating-projections">Creating Projections</a></li>
<li><a href="#getting-projection-properties">Getting Projection Properties</a></li>
<li><a href="#using-projections">Using Projections</a></li>
<li><a href="#using-geodetic">Using Geodetic</a></li>
<li><a href="#using-decimal-degrees">Using Decimal Degrees</a></li>
</ul>
</li>
<li><a href="#spatial-index-recipes">Spatial Index Recipes</a>
<ul class="sectlevel2">
<li><a href="#using-strtree">Using STRtree</a></li>
<li><a href="#using-quadtree">Using Quadtree</a></li>
<li><a href="#using-geohash">Using GeoHash</a></li>
</ul>
</li>
<li><a href="#viewer-recipes">Viewer Recipes</a>
<ul class="sectlevel2">
<li><a href="#drawing-geometries">Drawing geometries</a></li>
<li><a href="#plotting-geometries">Plotting geometries</a></li>
</ul>
</li>
<li><a href="#plot-recipes">Plot Recipes</a>
<ul class="sectlevel2">
<li><a href="#processing-charts">Processing Charts</a></li>
<li><a href="#creating-bar-charts">Creating Bar Charts</a></li>
<li><a href="#creating-pie-charts">Creating Pie Charts</a></li>
<li><a href="#creating-box-charts">Creating Box Charts</a></li>
<li><a href="#creating-curve-charts">Creating Curve Charts</a></li>
<li><a href="#creating-regression-charts">Creating Regression Charts</a></li>
<li><a href="#creating-scatter-plot-charts">Creating Scatter Plot Charts</a></li>
</ul>
</li>
<li><a href="#feature-recipes">Feature Recipes</a>
<ul class="sectlevel2">
<li><a href="#creating-fields">Creating Fields</a></li>
<li><a href="#creating-schemas">Creating Schemas</a></li>
<li><a href="#getting-schema-properties">Getting Schema Properties</a></li>
<li><a href="#getting-schema-fields">Getting Schema Fields</a></li>
<li><a href="#modifying-schemas">Modifying Schemas</a></li>
<li><a href="#combining-schemas">Combining Schemas</a></li>
<li><a href="#creating-features-from-a-schema">Creating Features from a Schema</a></li>
<li><a href="#reading-and-writing-schemas">Reading and Writing Schemas</a>
<ul class="sectlevel3">
<li><a href="#finding-schema-writer-and-readers">Finding Schema Writer and Readers</a></li>
<li><a href="#string">String</a></li>
<li><a href="#json">JSON</a></li>
<li><a href="#xml">XML</a></li>
</ul>
</li>
<li><a href="#creating-features">Creating Features</a></li>
<li><a href="#getting-feature-properties">Getting Feature Properties</a></li>
<li><a href="#getting-feature-attributes">Getting Feature Attributes</a></li>
<li><a href="#reading-and-writing-features">Reading and Writing Features</a>
<ul class="sectlevel3">
<li><a href="#finding-feature-writer-and-readers">Finding Feature Writer and Readers</a></li>
<li><a href="#geojson-2">GeoJSON</a></li>
<li><a href="#geobuf-2">GeoBuf</a></li>
<li><a href="#georss-2">GeoRSS</a></li>
<li><a href="#gml">GML</a></li>
<li><a href="#gpx-2">GPX</a></li>
<li><a href="#kml-2">KML</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#filter-recipes">Filter Recipes</a>
<ul class="sectlevel2">
<li><a href="#creating-filters">Creating Filters</a></li>
<li><a href="#using-filters">Using Filters</a></li>
<li><a href="#evaluating-filters">Evaluating Filters</a></li>
<li><a href="#creating-literals">Creating Literals</a></li>
<li><a href="#creating-properties">Creating Properties</a></li>
<li><a href="#evaluating-properties">Evaluating Properties</a></li>
<li><a href="#creating-functions">Creating Functions</a></li>
<li><a href="#evaluating-functions">Evaluating Functions</a></li>
<li><a href="#process-functions">Process Functions</a></li>
<li><a href="#creating-colors">Creating Colors</a></li>
<li><a href="#getting-color-formats">Getting Color Formats</a></li>
<li><a href="#displaying-colors">Displaying Colors</a></li>
<li><a href="#using-color-palettes">Using Color Palettes</a></li>
<li><a href="#creating-expressions-from-cql">Creating Expressions from CQL</a></li>
<li><a href="#create-expression-from-static-imports">Create Expression from static imports</a></li>
</ul>
</li>
<li><a href="#process-recipes">Process Recipes</a>
<ul class="sectlevel2">
<li><a href="#execute-a-built-in-process">Execute a built-in Process</a></li>
<li><a href="#listing-built-in-processes">Listing built-in Processes</a></li>
<li><a href="#executing-a-new-process">Executing a new Process</a></li>
<li><a href="#process-functions-2">Process Functions</a></li>
</ul>
</li>
<li><a href="#render-recipes">Render Recipes</a>
<ul class="sectlevel2">
<li><a href="#creating-maps">Creating Maps</a></li>
<li><a href="#map-properties">Map Properties</a></li>
<li><a href="#advanced-properties">Advanced Properties</a></li>
<li><a href="#map-cubes">Map Cubes</a></li>
<li><a href="#rendering-maps">Rendering Maps</a>
<ul class="sectlevel3">
<li><a href="#finding-renderers">Finding Renderers</a></li>
<li><a href="#image">Image</a></li>
<li><a href="#png">PNG</a></li>
<li><a href="#jpeg">JPEG</a></li>
<li><a href="#gif">GIF</a></li>
<li><a href="#geotiff">GeoTIFF</a></li>
<li><a href="#ascii">ASCII</a></li>
<li><a href="#base64">Base64</a></li>
<li><a href="#pdf">PDF</a></li>
<li><a href="#svg">SVG</a></li>
</ul>
</li>
<li><a href="#displaying-maps">Displaying Maps</a>
<ul class="sectlevel3">
<li><a href="#finding-displayers">Finding Displayers</a></li>
<li><a href="#window">Window</a></li>
<li><a href="#mapwindow">MapWindow</a></li>
</ul>
</li>
<li><a href="#drawing">Drawing</a>
<ul class="sectlevel3">
<li><a href="#drawing-to-a-file-or-gui">Drawing to a File or GUI</a></li>
<li><a href="#drawing-to-an-image">Drawing to an Image</a></li>
</ul>
</li>
<li><a href="#plotting">Plotting</a>
<ul class="sectlevel3">
<li><a href="#plotting-to-a-file-or-gui">Plotting to a File or GUI</a></li>
<li><a href="#plotting-to-an-image">Plotting to an Image</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#style-recipes">Style Recipes</a>
<ul class="sectlevel2">
<li><a href="#creating-basic-styles">Creating Basic Styles</a></li>
<li><a href="#creating-strokes">Creating Strokes</a></li>
<li><a href="#creating-fills">Creating Fills</a></li>
<li><a href="#creating-shapes">Creating Shapes</a></li>
<li><a href="#creating-icons">Creating Icons</a></li>
<li><a href="#creating-labels">Creating Labels</a></li>
<li><a href="#creating-transforms">Creating Transforms</a></li>
<li><a href="#creating-gradients">Creating Gradients</a></li>
<li><a href="#creating-unique-values">Creating Unique Values</a></li>
<li><a href="#creating-color-maps">Creating Color Maps</a></li>
<li><a href="#creating-channel-selection-and-contrast-enhancement">Creating Channel Selection and Contrast Enhancement</a></li>
<li><a href="#reading-and-writing-styles">Reading and Writing Styles</a>
<ul class="sectlevel3">
<li><a href="#finding-style-readers-and-writers">Finding Style Readers and Writers</a></li>
<li><a href="#sld">SLD</a></li>
<li><a href="#css">CSS</a></li>
<li><a href="#ysld">YSLD</a></li>
<li><a href="#simple-style-reader">Simple Style Reader</a></li>
<li><a href="#color-table">Color Table</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#workspace-recipes">Workspace Recipes</a>
<ul class="sectlevel2">
<li><a href="#using-workspaces">Using Workspaces</a></li>
<li><a href="#creating-an-in-memory-workspace">Creating an in Memory Workspace</a></li>
<li><a href="#add-layers-features-in-chunks">Add Layer&#8217;s Features in Chunks</a></li>
<li><a href="#using-a-directory-workspace">Using a Directory Workspace</a></li>
<li><a href="#investigating-workspaces">Investigating Workspaces</a></li>
<li><a href="#creating-workspaces">Creating Workspaces</a>
<ul class="sectlevel3">
<li><a href="#creating-a-workspace-from-a-connection-string">Creating a Workspace from a connection string</a></li>
<li><a href="#creating-a-workspace-from-a-connection-map">Creating a Workspace from a connection map</a></li>
<li><a href="#creating-directory-workspaces">Creating Directory Workspaces</a></li>
<li><a href="#creating-geopackage-workspaces">Creating GeoPackage Workspaces</a></li>
<li><a href="#creating-h2-workspaces">Creating H2 Workspaces</a></li>
<li><a href="#creating-geobuf-workspaces">Creating Geobuf Workspaces</a></li>
<li><a href="#creating-property-workspaces">Creating Property Workspaces</a></li>
<li><a href="#creating-sqlite-workspaces">Creating SQLite Workspaces</a></li>
<li><a href="#creating-postgis-workspaces">Creating PostGIS Workspaces</a></li>
<li><a href="#creating-mysql-workspaces">Creating MySQL Workspaces</a></li>
<li><a href="#creating-spatialite-workspaces">Creating SpatiaLite Workspaces</a></li>
<li><a href="#creating-wfs-workspaces">Creating WFS Workspaces</a></li>
<li><a href="#creating-ogr-workspaces">Creating OGR Workspaces</a></li>
</ul>
</li>
<li><a href="#database-workspace">Database Workspace</a>
<ul class="sectlevel3">
<li><a href="#sql">SQL</a></li>
<li><a href="#view">View</a></li>
<li><a href="#index">Index</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#layer-recipes">Layer Recipes</a>
<ul class="sectlevel2">
<li><a href="#getting-a-layers-properties">Getting a Layer&#8217;s Properties</a></li>
<li><a href="#getting-a-layers-features">Getting a Layer&#8217;s Features</a>
<ul class="sectlevel3">
<li><a href="#each-feature">Each Feature</a></li>
<li><a href="#read-all-features">Read all Features</a></li>
<li><a href="#collect-values">Collect values</a></li>
<li><a href="#first">First</a></li>
<li><a href="#filter">Filter</a></li>
<li><a href="#cursor">Cursor</a></li>
</ul>
</li>
<li><a href="#adding-updating-and-deleting">Adding, Updating, and Deleting</a></li>
<li><a href="#shapefiles">Shapefiles</a>
<ul class="sectlevel3">
<li><a href="#read">Read</a></li>
<li><a href="#create">Create</a></li>
</ul>
</li>
<li><a href="#property">Property</a>
<ul class="sectlevel3">
<li><a href="#read-2">Read</a></li>
<li><a href="#create-2">Create</a></li>
</ul>
</li>
<li><a href="#geoprocessing">Geoprocessing</a>
<ul class="sectlevel3">
<li><a href="#reproject">Reproject</a></li>
<li><a href="#buffer">Buffer</a></li>
<li><a href="#dissolve">Dissolve</a></li>
<li><a href="#merge">Merge</a></li>
<li><a href="#split">Split</a></li>
<li><a href="#transform">Transform</a></li>
<li><a href="#raster">Raster</a></li>
</ul>
</li>
<li><a href="#layer-algebra">Layer Algebra</a>
<ul class="sectlevel3">
<li><a href="#clip">Clip</a></li>
<li><a href="#erase">Erase</a></li>
<li><a href="#identity">Identity</a></li>
<li><a href="#intersection">Intersection</a></li>
<li><a href="#symmetric-difference">Symmetric Difference</a></li>
<li><a href="#update">Update</a></li>
<li><a href="#union">Union</a></li>
</ul>
</li>
<li><a href="#reading-and-writing-layers">Reading and Writing Layers</a>
<ul class="sectlevel3">
<li><a href="#finding-layer-writer-and-readers">Finding Layer Writer and Readers</a></li>
<li><a href="#geojson-3">GeoJSON</a></li>
<li><a href="#geobuf-3">GeoBuf</a></li>
<li><a href="#gml-4">GML</a></li>
<li><a href="#kml-3">KML</a></li>
<li><a href="#csv">CSV</a></li>
<li><a href="#georss-3">GeoRSS</a></li>
<li><a href="#gpx-3">GPX</a></li>
<li><a href="#mvt">MVT</a></li>
<li><a href="#pbf">PBF</a></li>
</ul>
</li>
<li><a href="#graticules">Graticules</a>
<ul class="sectlevel3">
<li><a href="#square">Square</a></li>
<li><a href="#hexagon">Hexagon</a></li>
<li><a href="#line">Line</a></li>
<li><a href="#rectangle">Rectangle</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#format-recipes">Format Recipes</a>
<ul class="sectlevel2">
<li><a href="#get-a-format">Get a Format</a></li>
<li><a href="#get-names">Get Names</a></li>
<li><a href="#read-a-raster">Read a Raster</a></li>
<li><a href="#write-a-raster">Write a Raster</a></li>
<li><a href="#check-for-a-raster">Check for a Raster</a></li>
<li><a href="#geotiff-2">GeoTIFF</a>
<ul class="sectlevel3">
<li><a href="#read-3">Read</a></li>
<li><a href="#write">Write</a></li>
</ul>
</li>
<li><a href="#worldimage">WorldImage</a>
<ul class="sectlevel3">
<li><a href="#read-4">Read</a></li>
</ul>
</li>
<li><a href="#arcgrid">ArcGrid</a>
<ul class="sectlevel3">
<li><a href="#read-5">Read</a></li>
</ul>
</li>
<li><a href="#netcdf">NetCDF</a>
<ul class="sectlevel3">
<li><a href="#read-6">Read</a></li>
</ul>
</li>
<li><a href="#mrsid">MrSID</a>
<ul class="sectlevel3">
<li><a href="#read-7">Read</a></li>
</ul>
</li>
<li><a href="#gtopo30">GTopo30</a>
<ul class="sectlevel3">
<li><a href="#read-8">Read</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#raster-recipes">Raster Recipes</a>
<ul class="sectlevel2">
<li><a href="#raster-properties">Raster Properties</a></li>
<li><a href="#raster-bands">Raster Bands</a></li>
<li><a href="#raster-values">Raster Values</a></li>
<li><a href="#raster-processing">Raster Processing</a>
<ul class="sectlevel3">
<li><a href="#crop">Crop</a></li>
<li><a href="#project">Project</a></li>
<li><a href="#transform-2">Transform</a></li>
<li><a href="#select-bands">Select Bands</a></li>
<li><a href="#merge-2">Merge</a></li>
<li><a href="#mosaic">Mosaic</a></li>
<li><a href="#contours">Contours</a></li>
<li><a href="#stylize">Stylize</a></li>
<li><a href="#shaded-relief">Shaded Relief</a></li>
<li><a href="#reclassify">Reclassify</a></li>
<li><a href="#scale">Scale</a></li>
<li><a href="#resample">Resample</a></li>
<li><a href="#normalize">Normalize</a></li>
<li><a href="#convolve">Convolve</a></li>
<li><a href="#invert">Invert</a></li>
<li><a href="#exponent">Exponent</a></li>
<li><a href="#absolute">Absolute</a></li>
<li><a href="#log">Log</a></li>
<li><a href="#vectorize">Vectorize</a></li>
<li><a href="#histogram">Histogram</a></li>
<li><a href="#raster-algebra">Raster Algebra</a>
<ul class="sectlevel4">
<li><a href="#add">Add</a></li>
<li><a href="#subtract">Subtract</a></li>
<li><a href="#multiply">Multiply</a></li>
<li><a href="#divide">Divide</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#world-file">World File</a></li>
<li><a href="#map-algebra">Map Algebra</a></li>
</ul>
</li>
<li><a href="#wms-recipes">WMS Recipes</a>
<ul class="sectlevel2">
<li><a href="#wms-server">WMS Server</a></li>
<li><a href="#wmslayer">WMSLayer</a></li>
</ul>
</li>
<li><a href="#tile-recipes">Tile Recipes</a>
<ul class="sectlevel2">
<li><a href="#tile">Tile</a>
<ul class="sectlevel3">
<li><a href="#tile-properties">Tile Properties</a></li>
<li><a href="#imagetile-properties">ImageTile Properties</a></li>
</ul>
</li>
<li><a href="#grid">Grid</a>
<ul class="sectlevel3">
<li><a href="#grid-properties">Grid Properties</a></li>
</ul>
</li>
<li><a href="#pyramid">Pyramid</a>
<ul class="sectlevel3">
<li><a href="#pyramid-properties">Pyramid Properties</a></li>
<li><a href="#create-pyramids">Create Pyramids</a></li>
<li><a href="#get-bounds-from-a-pyramid">Get Bounds from a Pyramid</a></li>
<li><a href="#get-a-grid-from-a-pyramid">Get a Grid from a Pyramid</a></li>
<li><a href="#get-tile-coordinates">Get Tile Coordinates</a></li>
<li><a href="#reading-and-writing-pyramids">Reading and Writing Pyramids</a>
<ul class="sectlevel4">
<li><a href="#finding-pyramid-writer-and-readers">Finding Pyramid Writer and Readers</a></li>
<li><a href="#json-2">JSON</a></li>
<li><a href="#xml-2">XML</a></li>
<li><a href="#csv-2">CSV</a></li>
<li><a href="#gdal-xml">GDAL XML</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#generating-tiles">Generating Tiles</a>
<ul class="sectlevel3">
<li><a href="#generating-image-tiles">Generating Image Tiles</a>
<ul class="sectlevel4">
<li><a href="#mbtiles">MBTiles</a></li>
<li><a href="#dbtiles">DBTiles</a></li>
<li><a href="#geopackage-2">GeoPackage</a></li>
<li><a href="#tms">TMS</a></li>
<li><a href="#utfgrid">UTFGrid</a></li>
<li><a href="#vector-tiles">Vector Tiles</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#tile-layer">Tile Layer</a>
<ul class="sectlevel3">
<li><a href="#tile-layer-properties">Tile Layer Properties</a></li>
<li><a href="#get-put-and-delete-a-tile-from-a-tilelayer">Get, put, and delete a Tile from a TileLayer</a></li>
<li><a href="#delete-tiles-from-a-tilelayer">Delete Tiles from a TileLayer</a></li>
<li><a href="#tiles">Tiles</a></li>
<li><a href="#using-tile-layers">Using Tile Layers</a></li>
<li><a href="#get-tile-layer-from-a-map">Get Tile Layer from a Map</a></li>
<li><a href="#get-tile-layer-from-a-string">Get Tile Layer from a String</a></li>
</ul>
</li>
<li><a href="#tilerenderer">TileRenderer</a>
<ul class="sectlevel3">
<li><a href="#get-default-tilerenderer">Get default TileRenderer</a></li>
<li><a href="#imagetilerenderer">ImageTileRenderer</a></li>
<li><a href="#vectortilerenderer">VectorTileRenderer</a></li>
<li><a href="#pbfvectortilerenderer">PbfVectorTileRenderer</a></li>
<li><a href="#utfgridtilerenderer">UTFGridTileRenderer</a></li>
</ul>
</li>
<li><a href="#tilecursor">TileCursor</a></li>
<li><a href="#tms-2">TMS</a></li>
<li><a href="#mbtiles-2">MBTiles</a></li>
<li><a href="#dbtiles-2">DBTiles</a></li>
<li><a href="#geopackage-3">GeoPackage</a></li>
<li><a href="#utfgrid-2">UTFGrid</a></li>
<li><a href="#vectortiles">VectorTiles</a></li>
<li><a href="#generating-tilelayer">Generating TileLayer</a></li>
<li><a href="#osm">OSM</a>
<ul class="sectlevel3">
<li><a href="#standard-osm">Standard OSM</a></li>
<li><a href="#stamen-toner">Stamen Toner</a></li>
<li><a href="#stamen-toner-lite">Stamen Toner Lite</a></li>
<li><a href="#stamen-water-color">Stamen Water Color</a></li>
<li><a href="#stamen-terrain">Stamen Terrain</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The GeoScript Groovy Cookbook contains short recipes on how to use the GeoScript Groovy library.</p>
</div>
<div class="paragraph">
<p>GeoScript is a geospatial library written in Groovy. It provides modules
for working with geometries, projections, features, layers, rasters, styles, rendering, and tiles.
It is built on top of the Java Topology Suite (JTS) and GeoTools libraries.
GeoScript Groovy is open source and licensed under the MIT license.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-geoscript"><a class="anchor" href="#using-geoscript"></a>Using GeoScript</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use GeoScript Groovy you need Java, Java Advanced Imaging (JAI), and Groovy installed and on your PATH. Next, download the latest stable release,
the latest in development build, or build the code yourself. Then put the GeoScript Groovy bin directory on your PATH.
You are now ready to use GeoScript Groovy!</p>
</div>
<div class="paragraph">
<p>GeoScript Groovy has three commands:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>geoscript-groovy (which can run Groovy files)</p>
</li>
</ol>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geoscript-groovy.png" alt="geoscript groovy">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>geoscript-groovysh (which starts a REPL shell)</p>
</li>
</ol>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geoscript-groovysh.png" alt="geoscript groovysh">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>geoscript-groovyConsole (which starts a graphical editor/mini IDE)</p>
</li>
</ol>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geoscript-groovyConsole.png" alt="geoscript groovyConsole">
</div>
</div>
<div class="sect2">
<h3 id="geoscript-groovy"><a class="anchor" href="#geoscript-groovy"></a>geoscript-groovy</h3>
<div class="paragraph">
<p>The geoscript-groovy command can run scripts file but it can also run inline scripts.</p>
</div>
<div class="listingblock">
<div class="title">Convert a shapefile to geojson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">geoscript-groovy -e &quot;println new geoscript.layer.Shapefile('states.shp').toJSONString()&quot;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Bounds of a Shapefile as a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">geoscript-groovy -e &quot;println new geoscript.layer.Shapefile('states.shp').bounds.geometry&quot;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Count the number of Features in a Shapefile</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">geoscript-groovy -e &quot;println new geoscript.layer.Shapefile('states.shp').count&quot;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Render a Shapefile to an image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">geoscript-groovy -e &quot;geoscript.render.Draw.draw(new geoscript.layer.Shapefile('states.shp'), out: 'image.png')&quot;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Pipe a Shapefile&#8217;s geometry to another command line application that buffers each feature</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">geoscript-groovy -e &quot;new geoscript.layer.Shapefile('states.shp').eachFeature{ println it.geom.centroid}&quot; | geom combine | geom buffer -d 1.5</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Pipe the results of buffering a point to convert it to KML</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">echo &quot;POINT (1 1)&quot; | geom buffer -d 10 | geoscript-groovy -e &quot;println geoscript.geom.Geometry.fromWKT(System.in.text).kml&quot;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="library"><a class="anchor" href="#library"></a>Library</h3>
<div class="sect3">
<h4 id="maven"><a class="anchor" href="#maven"></a>Maven</h4>
<div class="listingblock">
<div class="title">You can also use GeoScript Groovy as a library. If you use Maven you will need to add the Boundless Maven Repository:</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;repositories&gt;</span>
    <span class="tag">&lt;repository&gt;</span>
        <span class="tag">&lt;id&gt;</span>boundless<span class="tag">&lt;/id&gt;</span>
        <span class="tag">&lt;name&gt;</span>Boundless Maven Repository<span class="tag">&lt;/name&gt;</span>
        <span class="tag">&lt;url&gt;</span>https://repo.boundlessgeo.com/main<span class="tag">&lt;/url&gt;</span>
        <span class="tag">&lt;snapshots&gt;</span>
            <span class="tag">&lt;enabled&gt;</span>true<span class="tag">&lt;/enabled&gt;</span>
        <span class="tag">&lt;/snapshots&gt;</span>
    <span class="tag">&lt;/repository&gt;</span>
<span class="tag">&lt;/repositories&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">and then include the GeoScript Groovy dependency:</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.geoscript<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>geoscript-groovy<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>1.14.0<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gradle"><a class="anchor" href="#gradle"></a>Gradle</h4>
<div class="listingblock">
<div class="title">To use GeoScript Groovy in a Gradle project, add the following repositories:</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">repositories {
    maven {
        url <span class="string"><span class="delimiter">&quot;</span><span class="content">https://repo.boundlessgeo.com/main</span><span class="delimiter">&quot;</span></span>
    }
    maven {
        url <span class="string"><span class="delimiter">&quot;</span><span class="content">http://download.osgeo.org/webdav/geotools/</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">and the include the GeoScript Groovy dependency:</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    compile(<span class="string"><span class="delimiter">&quot;</span><span class="content">org.geoscript:geoscript-groovy:1.14.0</span><span class="delimiter">&quot;</span></span>)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="geometry-recipes"><a class="anchor" href="#geometry-recipes"></a>Geometry Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Geometry classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/geom/package-summary.html">geoscript.geom</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="creating-geometries"><a class="anchor" href="#creating-geometries"></a>Creating Geometries</h3>
<div class="sect3">
<h4 id="point"><a class="anchor" href="#point"></a>Point</h4>
<div class="listingblock">
<div class="title">Create a Point with an XY</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="integer">123</span>,<span class="integer">46</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_point.png" alt="geometry create point">
</div>
</div>
</div>
<div class="sect3">
<h4 id="linestring"><a class="anchor" href="#linestring"></a>LineString</h4>
<div class="listingblock">
<div class="title">Create a LineString from Coordinates</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString(
        [<span class="float">3.1982421875</span>, <span class="float">43.1640625</span>],
        [<span class="float">6.7138671875</span>, <span class="float">49.755859375</span>],
        [<span class="float">9.7021484375</span>, <span class="float">42.5927734375</span>],
        [<span class="float">15.3271484375</span>, <span class="float">53.798828125</span>]
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_linestring_coordinates.png" alt="geometry create linestring coordinates">
</div>
</div>
</div>
<div class="sect3">
<h4 id="polygon"><a class="anchor" href="#polygon"></a>Polygon</h4>
<div class="listingblock">
<div class="title">Create a Polygon from a List of Coordinates</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>],
       [-<span class="float">101.5576171875</span>, <span class="float">46.93526088057719</span>],
       [-<span class="float">100.12939453125</span>, <span class="float">46.51351558059737</span>],
       [-<span class="float">99.77783203125</span>, <span class="float">47.44294999517949</span>],
       [-<span class="float">100.45898437499999</span>, <span class="float">47.88688085106901</span>],
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>]
]])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_polygon.png" alt="geometry create polygon">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Polygon with holes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygonWithHoles = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(
    <span class="comment">// Exterior Ring</span>
    <span class="keyword">new</span> LinearRing(
        [-<span class="float">122.39138603210449</span>, <span class="float">47.58659965790016</span>],
        [-<span class="float">122.41250038146973</span>, <span class="float">47.57681522195182</span>],
        [-<span class="float">122.40305900573729</span>, <span class="float">47.56523364515569</span>],
        [-<span class="float">122.38117218017578</span>, <span class="float">47.56621817878201</span>],
        [-<span class="float">122.3712158203125</span>, <span class="float">47.57235661809739</span>],
        [-<span class="float">122.37602233886717</span>, <span class="float">47.584747123985615</span>],
        [-<span class="float">122.39138603210449</span>, <span class="float">47.58659965790016</span>]
    ),
    <span class="comment">// Holes</span>
    [
        <span class="keyword">new</span> LinearRing(
            [-<span class="float">122.39859580993652</span>, <span class="float">47.578957532923376</span>],
            [-<span class="float">122.40468978881836</span>, <span class="float">47.57548347095205</span>],
            [-<span class="float">122.39593505859376</span>, <span class="float">47.570271945800094</span>],
            [-<span class="float">122.3920726776123</span>, <span class="float">47.57606249728773</span>],
            [-<span class="float">122.39859580993652</span>, <span class="float">47.578957532923376</span>]
        ),
        <span class="keyword">new</span> LinearRing(
            [-<span class="float">122.3836612701416</span>, <span class="float">47.58156292813543</span>],
            [-<span class="float">122.38829612731934</span>, <span class="float">47.57114056934196</span>],
            [-<span class="float">122.37456321716309</span>, <span class="float">47.57420959047542</span>],
            [-<span class="float">122.37868309020995</span>, <span class="float">47.58023129789275</span>],
            [-<span class="float">122.3836612701416</span>, <span class="float">47.58156292813543</span>]
        )
    ]
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_polygon_withholes.png" alt="geometry create polygon withholes">
</div>
</div>
</div>
<div class="sect3">
<h4 id="multipoint"><a class="anchor" href="#multipoint"></a>MultiPoint</h4>
<div class="listingblock">
<div class="title">Create a MultiPoint with a List of Points</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint multiPoint = <span class="keyword">new</span> MultiPoint([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3876953125</span>, <span class="float">47.5820839916191</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.464599609375</span>, <span class="float">47.25686404408872</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48382568359374</span>, <span class="float">47.431803338643334</span>)
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_multipoint.png" alt="geometry create multipoint">
</div>
</div>
</div>
<div class="sect3">
<h4 id="multilinestring"><a class="anchor" href="#multilinestring"></a>MultiLineString</h4>
<div class="listingblock">
<div class="title">Create a MultiLineString with a List of LineStrings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiLineString multiLineString = <span class="keyword">new</span> MultiLineString([
        <span class="keyword">new</span> LineString (
                [-<span class="float">122.3822021484375</span>, <span class="float">47.57837853860192</span>],
                [-<span class="float">122.32452392578125</span>, <span class="float">47.48380086737799</span>]
        ),
        <span class="keyword">new</span> LineString (
                [-<span class="float">122.32452392578125</span>, <span class="float">47.48380086737799</span>],
                [-<span class="float">122.29705810546874</span>, <span class="float">47.303447043862626</span>]
        ),
        <span class="keyword">new</span> LineString (
                [-<span class="float">122.29705810546874</span>, <span class="float">47.303447043862626</span>],
                [-<span class="float">122.42889404296875</span>, <span class="float">47.23262467463881</span>]
        )
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_multilinestring.png" alt="geometry create multilinestring">
</div>
</div>
</div>
<div class="sect3">
<h4 id="multipolygon"><a class="anchor" href="#multipolygon"></a>MultiPolygon</h4>
<div class="listingblock">
<div class="title">Create a MultiPolygon with a List of Polygons</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPolygon multiPolygon = <span class="keyword">new</span> MultiPolygon(
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
            [-<span class="float">122.2723388671875</span>,  <span class="float">47.818687628247105</span>],
            [-<span class="float">122.37945556640624</span>, <span class="float">47.66168780332917</span>],
            [-<span class="float">121.95373535156249</span>, <span class="float">47.67093619422418</span>],
            [-<span class="float">122.2723388671875</span>,  <span class="float">47.818687628247105</span>]
    ]]),
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
            [-<span class="float">122.76672363281249</span>, <span class="float">47.42437092240516</span>],
            [-<span class="float">122.76672363281249</span>, <span class="float">47.59505101193038</span>],
            [-<span class="float">122.52227783203125</span>, <span class="float">47.59505101193038</span>],
            [-<span class="float">122.52227783203125</span>, <span class="float">47.42437092240516</span>],
            [-<span class="float">122.76672363281249</span>, <span class="float">47.42437092240516</span>]
    ]]),
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
            [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>],
            [-<span class="float">122.3712158203125</span>,  <span class="float">47.489368981370724</span>],
            [-<span class="float">122.33276367187499</span>, <span class="float">47.35371061951363</span>],
            [-<span class="float">122.11029052734374</span>, <span class="float">47.3704545156932</span>],
            [-<span class="float">122.08831787109375</span>, <span class="float">47.286681888764214</span>],
            [-<span class="float">122.28332519531249</span>, <span class="float">47.2270293988673</span>],
            [-<span class="float">122.2174072265625</span>,  <span class="float">47.154237057576594</span>],
            [-<span class="float">121.904296875</span>,      <span class="float">47.32579231609051</span>],
            [-<span class="float">122.06085205078125</span>, <span class="float">47.47823216312885</span>],
            [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>]
    ]])
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_multipolygon.png" alt="geometry create multipolygon">
</div>
</div>
</div>
<div class="sect3">
<h4 id="geometrycollection"><a class="anchor" href="#geometrycollection"></a>GeometryCollection</h4>
<div class="listingblock">
<div class="title">Create a GeometryCollection with a List of Geometries</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeometryCollection geometryCollection = <span class="keyword">new</span> GeometryCollection(
    <span class="keyword">new</span> LineString ([-<span class="float">157.044</span>, <span class="float">58.722</span>], [-<span class="float">156.461</span>, <span class="float">58.676</span>]),
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">156.648</span>, <span class="float">58.739</span>),
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
         [-<span class="float">156.395</span>, <span class="float">58.7083</span>],
         [-<span class="float">156.412</span>, <span class="float">58.6026</span>],
         [-<span class="float">155.874</span>, <span class="float">58.5825</span>],
         [-<span class="float">155.313</span>, <span class="float">58.4822</span>],
         [-<span class="float">155.385</span>, <span class="float">58.6655</span>],
         [-<span class="float">156.203</span>, <span class="float">58.7368</span>],
         [-<span class="float">156.395</span>, <span class="float">58.7083</span>]
    ]]),
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">156.741</span>, <span class="float">58.582</span>)
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_geometrycollection.png" alt="geometry create geometrycollection">
</div>
</div>
</div>
<div class="sect3">
<h4 id="circularstring"><a class="anchor" href="#circularstring"></a>CircularString</h4>
<div class="listingblock">
<div class="title">Create a CircularString with a List of Points</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CircularString circularString = <span class="keyword">new</span> CircularString([
        [-<span class="float">122.464599609375</span>, <span class="float">47.247542522268006</span>],
        [-<span class="float">122.03613281249999</span>, <span class="float">47.37789454155521</span>],
        [-<span class="float">122.37670898437499</span>, <span class="float">47.58393661978134</span>]
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_circularstring.png" alt="geometry create circularstring">
</div>
</div>
</div>
<div class="sect3">
<h4 id="circularring"><a class="anchor" href="#circularring"></a>CircularRing</h4>
<div class="listingblock">
<div class="title">Create a CircularRing with a List of Points</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CircularRing circularRing = <span class="keyword">new</span> CircularRing([
        [-<span class="float">118.47656249999999</span>, <span class="float">41.508577297439324</span>],
        [-<span class="float">109.6875</span>, <span class="float">57.51582286553883</span>],
        [-<span class="float">93.8671875</span>, <span class="float">42.032974332441405</span>],
        [-<span class="float">62.57812500000001</span>, <span class="float">30.14512718337613</span>],
        [-<span class="float">92.10937499999999</span>, <span class="float">7.36246686553575</span>],
        [ -<span class="float">127.265625</span>, <span class="float">14.604847155053898</span>],
        [-<span class="float">118.47656249999999</span>, <span class="float">41.508577297439324</span>]
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_circularring.png" alt="geometry create circularring">
</div>
</div>
</div>
<div class="sect3">
<h4 id="compoundcurve"><a class="anchor" href="#compoundcurve"></a>CompoundCurve</h4>
<div class="listingblock">
<div class="title">Create a CompoundCurve with a List of CircularStrings and LineStrings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CompoundCurve compoundCurve = <span class="keyword">new</span> CompoundCurve([
    <span class="keyword">new</span> CircularString([
            [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
            [<span class="float">5.9765625</span>, <span class="float">40.17887331434696</span>],
            [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
    ]),
    <span class="keyword">new</span> LineString([
            [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
            [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
    ]),
    <span class="keyword">new</span> CircularString([
            [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
            [<span class="float">81.5625</span>, <span class="float">39.36827914916011</span>],
            [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>]

    ])
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_compoundcurve.png" alt="geometry create compoundcurve">
</div>
</div>
</div>
<div class="sect3">
<h4 id="compoundring"><a class="anchor" href="#compoundring"></a>CompoundRing</h4>
<div class="listingblock">
<div class="title">Create a CompoundRing with a connected List of CircularStrings and LineStrings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CompoundRing compoundRing = <span class="keyword">new</span> CompoundRing([
        <span class="keyword">new</span> CircularString([
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
                [<span class="float">5.9765625</span>, <span class="float">40.17887331434696</span>],
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
        ]),
        <span class="keyword">new</span> CircularString([
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
                [<span class="float">81.5625</span>, <span class="float">39.36827914916011</span>],
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>]

        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>],
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
        ])
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_compoundring.png" alt="geometry create compoundring">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="points"><a class="anchor" href="#points"></a>Points</h3>
<div class="listingblock">
<div class="title">Get x, y, and z values from a Point</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38632</span>, <span class="float">47.58208</span>, <span class="float">101.45</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">X = </span><span class="inline"><span class="inline-delimiter">${</span>point.x<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Y = </span><span class="inline"><span class="inline-delimiter">${</span>point.y<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Z = </span><span class="inline"><span class="inline-delimiter">${</span>point.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_point_xyz.png" alt="geometry point xyz">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>X = -122.38632
Y = 47.58208
Z = 101.45</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Add two Points together to create a MultiPoint</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38632</span>, <span class="float">47.58208</span>)
<span class="predefined-type">Point</span> point2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.37001</span>, <span class="float">47.55868</span>)
MultiPoint points = point1 + point2</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_plus_point.png" alt="geometry plus point">
</div>
</div>
<div class="listingblock">
<div class="title">Add a Point to a MultiPoint</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint multiPoint = <span class="keyword">new</span> MultiPoint(
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.83813</span>,<span class="float">47.05141</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38220</span>,<span class="float">47.58023</span>)
)
println multiPoint.wkt
MultiPoint newMultiPoint = multiPoint + <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48657</span>, <span class="float">47.271775</span>)
println newMultiPoint.wkt</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>MULTIPOINT ((-122.83813 47.05141), (-122.3822 47.58023))
MULTIPOINT ((-122.83813 47.05141), (-122.3822 47.58023), (-122.48657 47.271775))</pre>
</div>
</div>
<div class="paragraph">
<p>MultiPoint</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_plus_multipoint1.png" alt="geometry plus multipoint1">
</div>
</div>
<div class="paragraph">
<p>MultiPoint with extra Point</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_plus_multipoint2.png" alt="geometry plus multipoint2">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the angle between two points</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.29980</span>, <span class="float">47.65058</span>)
<span class="predefined-type">Point</span> point2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">120.54199</span>, <span class="float">46.64943</span>)
<span class="type">double</span> angleInDegrees = point1.getAngle(point2, <span class="string"><span class="delimiter">&quot;</span><span class="content">degrees</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Angle in degrees = </span><span class="inline"><span class="inline-delimiter">${</span>angleInDegrees<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="type">double</span> angleInRadians = point1.getAngle(point2, <span class="string"><span class="delimiter">&quot;</span><span class="content">radians</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Angle in radians = </span><span class="inline"><span class="inline-delimiter">${</span>angleInRadians<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_point_getangle.png" alt="geometry point getangle">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Angle in degrees = -29.663413013476646
Angle in radians = -0.5177242244641005</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the azimuth between two points</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.29980</span>, <span class="float">47.65058</span>)
<span class="predefined-type">Point</span> point2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">120.54199</span>, <span class="float">46.64943</span>)
<span class="type">double</span> azimuth = point1.getAzimuth(point2)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Azimuth = </span><span class="inline"><span class="inline-delimiter">${</span>azimuth<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_point_getazimuth.png" alt="geometry point getazimuth">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Azimuth = 129.21026122904846</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="linestrings"><a class="anchor" href="#linestrings"></a>LineStrings</h3>
<div class="listingblock">
<div class="title">Get the start Point from a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString(
        [<span class="float">3.1982421875</span>, <span class="float">43.1640625</span>],
        [<span class="float">6.7138671875</span>, <span class="float">49.755859375</span>],
        [<span class="float">9.7021484375</span>, <span class="float">42.5927734375</span>],
        [<span class="float">15.3271484375</span>, <span class="float">53.798828125</span>]
)
<span class="predefined-type">Point</span> startPoint = lineString.startPoint</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_get_startpoint_from_linestring.png" alt="geometry get startpoint from linestring">
</div>
</div>
<div class="listingblock">
<div class="title">Get the end Point from a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString(
        [<span class="float">3.1982421875</span>, <span class="float">43.1640625</span>],
        [<span class="float">6.7138671875</span>, <span class="float">49.755859375</span>],
        [<span class="float">9.7021484375</span>, <span class="float">42.5927734375</span>],
        [<span class="float">15.3271484375</span>, <span class="float">53.798828125</span>]
)
<span class="predefined-type">Point</span> endPoint = lineString.endPoint</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_get_endpoint_from_linestring.png" alt="geometry get endpoint from linestring">
</div>
</div>
<div class="listingblock">
<div class="title">Reverse a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString(
        [<span class="float">3.1982421875</span>, <span class="float">43.1640625</span>],
        [<span class="float">6.7138671875</span>, <span class="float">49.755859375</span>],
        [<span class="float">9.7021484375</span>, <span class="float">42.5927734375</span>],
        [<span class="float">15.3271484375</span>, <span class="float">53.798828125</span>]
)
<span class="predefined-type">Point</span> startPoint = lineString.startPoint

LineString reversedLineString = lineString.reverse()
<span class="predefined-type">Point</span> reversedStartPoint = reversedLineString.startPoint</code></pre>
</div>
</div>
<div class="paragraph">
<p>Original LineString showing start point</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_reverse_linestring1.png" alt="geometry reverse linestring1">
</div>
</div>
<div class="paragraph">
<p>Reversed LineString showing start point</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_reverse_linestring2.png" alt="geometry reverse linestring2">
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a LineString is closed or not</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString1 = <span class="keyword">new</span> LineString(
        [<span class="float">3.1982421875</span>, <span class="float">43.1640625</span>],
        [<span class="float">6.7138671875</span>, <span class="float">49.755859375</span>],
        [<span class="float">9.7021484375</span>, <span class="float">42.5927734375</span>],
        [<span class="float">15.3271484375</span>, <span class="float">53.798828125</span>]
)
<span class="type">boolean</span> isClosed1 = lineString1.closed
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is </span><span class="inline"><span class="inline-delimiter">${</span>lineString1.wkt<span class="inline-delimiter">}</span></span><span class="content"> closed? </span><span class="inline"><span class="inline-delimiter">${</span>isClosed1<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

LineString lineString2 = <span class="keyword">new</span> LineString(
        [<span class="float">3.1982421875</span>, <span class="float">43.1640625</span>],
        [<span class="float">6.7138671875</span>, <span class="float">49.755859375</span>],
        [<span class="float">9.7021484375</span>, <span class="float">42.5927734375</span>],
        [<span class="float">15.3271484375</span>, <span class="float">53.798828125</span>],
        [<span class="float">3.1982421875</span>, <span class="float">43.1640625</span>]
)
<span class="type">boolean</span> isClosed2 = lineString2.closed
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is </span><span class="inline"><span class="inline-delimiter">${</span>lineString2.wkt<span class="inline-delimiter">}</span></span><span class="content"> closed? </span><span class="inline"><span class="inline-delimiter">${</span>isClosed2<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_is_linestring_closed1.png" alt="geometry is linestring closed1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is LINESTRING (3.1982421875 43.1640625, 6.7138671875 49.755859375, 9.7021484375 42.5927734375, 15.3271484375 53.798828125) closed? false</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_is_linestring_closed2.png" alt="geometry is linestring closed2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is LINESTRING (3.1982421875 43.1640625, 6.7138671875 49.755859375, 9.7021484375 42.5927734375, 15.3271484375 53.798828125, 3.1982421875 43.1640625) closed? true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a LineString is a Ring or not</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString1 = <span class="keyword">new</span> LineString(
    [-<span class="float">122.391428</span>, <span class="float">47.563300</span>],
    [-<span class="float">122.391836</span>, <span class="float">47.562793</span>],
    [-<span class="float">122.391010</span>, <span class="float">47.562417</span>],
    [-<span class="float">122.390516</span>, <span class="float">47.563126</span>]
)
<span class="type">boolean</span> isRing1 = lineString1.ring
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is </span><span class="inline"><span class="inline-delimiter">${</span>lineString1.wkt<span class="inline-delimiter">}</span></span><span class="content"> a ring? </span><span class="inline"><span class="inline-delimiter">${</span>isRing1<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

LineString lineString2 = <span class="keyword">new</span> LineString(
    [-<span class="float">122.391428</span>, <span class="float">47.563300</span>],
    [-<span class="float">122.391836</span>, <span class="float">47.562793</span>],
    [-<span class="float">122.391010</span>, <span class="float">47.562417</span>],
    [-<span class="float">122.390516</span>, <span class="float">47.563126</span>],
    [-<span class="float">122.391428</span>, <span class="float">47.563300</span>]
)
<span class="type">boolean</span> isRing2 = lineString2.ring
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is </span><span class="inline"><span class="inline-delimiter">${</span>lineString2.wkt<span class="inline-delimiter">}</span></span><span class="content"> a ring? </span><span class="inline"><span class="inline-delimiter">${</span>isRing2<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_is_linestring_ring1.png" alt="geometry is linestring ring1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is LINESTRING (-122.391428 47.5633, -122.391836 47.562793, -122.39101 47.562417, -122.390516 47.563126) a ring? false</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_is_linestring_ring2.png" alt="geometry is linestring ring2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is LINESTRING (-122.391428 47.5633, -122.391836 47.562793, -122.39101 47.562417, -122.390516 47.563126, -122.391428 47.5633) a ring? true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Close an open LineString to create a LinearRing</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString(
        [-<span class="float">122.391428</span>, <span class="float">47.563300</span>],
        [-<span class="float">122.391836</span>, <span class="float">47.562793</span>],
        [-<span class="float">122.391010</span>, <span class="float">47.562417</span>],
        [-<span class="float">122.390516</span>, <span class="float">47.563126</span>]
)

LinearRing linearRing = lineString.close()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Open LineString</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_close_linestring.png" alt="geometry close linestring">
</div>
</div>
<div class="paragraph">
<p>Closed LinearRing</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_close_linearring.png" alt="geometry close linearring">
</div>
</div>
<div class="listingblock">
<div class="title">Add a LineString to another LineString to create a MultiLineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString1 = <span class="keyword">new</span> LineString([
    [-<span class="float">122.39142894744873</span>, <span class="float">47.5812734461813</span>],
    [-<span class="float">122.38237380981445</span>, <span class="float">47.58121554959838</span>]
])

LineString lineString2 = <span class="keyword">new</span> LineString([
    [-<span class="float">122.38640785217285</span>, <span class="float">47.58552866972616</span>],
    [-<span class="float">122.38670825958253</span>, <span class="float">47.57837853860192</span>]
])

MultiLineString multiLineString = lineString1 + lineString2</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_plus.png" alt="geometry linestring plus">
</div>
</div>
<div class="listingblock">
<div class="title">Add a Point to a  LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString([
        [-<span class="float">122.39142894744873</span>, <span class="float">47.5812734461813</span>],
        [-<span class="float">122.38237380981445</span>, <span class="float">47.58121554959838</span>]
])

<span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38640785217285</span>, <span class="float">47.58552866972616</span>)

LineString lineStringWithPoint = lineString + point</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_pluspoint1.png" alt="geometry linestring pluspoint1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_pluspoint2.png" alt="geometry linestring pluspoint2">
</div>
</div>
<div class="listingblock">
<div class="title">Add a Point to a LineString at a specific index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString([
        [-<span class="float">122.39142894744873</span>, <span class="float">47.5812734461813</span>],
        [-<span class="float">122.38237380981445</span>, <span class="float">47.58121554959838</span>]
])

<span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38640785217285</span>, <span class="float">47.58552866972616</span>)

LineString lineStringWithPoint = lineString.addPoint(<span class="integer">1</span>, point)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_addpoint1.png" alt="geometry linestring addpoint1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_addpoint2.png" alt="geometry linestring addpoint2">
</div>
</div>
<div class="listingblock">
<div class="title">Set a Point on a LineString at a specific index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString([
        [-<span class="float">122.39142894744873</span>, <span class="float">47.5812734461813</span>],
        [-<span class="float">122.38237380981445</span>, <span class="float">47.58121554959838</span>]
])

<span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38640785217285</span>, <span class="float">47.58552866972616</span>)

LineString newLineString = lineString.setPoint(<span class="integer">1</span>, point)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_setpoint1.png" alt="geometry linestring setpoint1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_setpoint2.png" alt="geometry linestring setpoint2">
</div>
</div>
<div class="listingblock">
<div class="title">Remove a Point on a LineString at a specific index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString([
        [-<span class="float">122.39142894744873</span>, <span class="float">47.5812734461813</span>],
        [-<span class="float">122.38237380981445</span>, <span class="float">47.58121554959838</span>],
        [-<span class="float">122.38640785217285</span>, <span class="float">47.58552866972616</span>]
])

LineString newLineString = lineString.removePoint(<span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_removepoint1.png" alt="geometry linestring removepoint1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_removepoint2.png" alt="geometry linestring removepoint2">
</div>
</div>
<div class="listingblock">
<div class="title">Remove a Point from the end of a LineString.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString1 = <span class="keyword">new</span> LineString([
    [-<span class="float">122.39423990249632</span>, <span class="float">47.57926150237904</span>],
    [-<span class="float">122.3918581008911</span>, <span class="float">47.58121554959838</span>],
    [-<span class="float">122.38657951354979</span>, <span class="float">47.58121554959838</span>],
    [-<span class="float">122.38638639450075</span>, <span class="float">47.58535499390333</span>],
    [-<span class="float">122.38374710083008</span>, <span class="float">47.58535499390333</span>]
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_negative1.png" alt="geometry linestring negative1">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString2 = -lineString1</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_negative2.png" alt="geometry linestring negative2">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString3 = -lineString2</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_negative3.png" alt="geometry linestring negative3">
</div>
</div>
<div class="listingblock">
<div class="title">Interpolate Points on a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString([
    [-<span class="float">122.39423990249632</span>, <span class="float">47.57926150237904</span>],
    [-<span class="float">122.3918581008911</span>, <span class="float">47.58121554959838</span>],
    [-<span class="float">122.38657951354979</span>, <span class="float">47.58121554959838</span>],
    [-<span class="float">122.38638639450075</span>, <span class="float">47.58535499390333</span>],
    [-<span class="float">122.38374710083008</span>, <span class="float">47.58535499390333</span>]
])
<span class="predefined-type">Point</span> startPoint = lineString.interpolatePoint(<span class="float">0.0</span>)
<span class="predefined-type">Point</span> midPoint = lineString.interpolatePoint(<span class="float">0.5</span>)
<span class="predefined-type">Point</span> endPoint = lineString.interpolatePoint(<span class="float">1.0</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_interpolatepoint.png" alt="geometry linestring interpolatepoint">
</div>
</div>
<div class="listingblock">
<div class="title">Locate the position of Points on a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString([
    [-<span class="float">122.39423990249632</span>, <span class="float">47.57926150237904</span>],
    [-<span class="float">122.3918581008911</span>, <span class="float">47.58121554959838</span>],
    [-<span class="float">122.38657951354979</span>, <span class="float">47.58121554959838</span>],
    [-<span class="float">122.38638639450075</span>, <span class="float">47.58535499390333</span>],
    [-<span class="float">122.38374710083008</span>, <span class="float">47.58535499390333</span>]
])

<span class="predefined-type">Point</span> point1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.39423990249632</span>, <span class="float">47.57926150237904</span>)
<span class="predefined-type">Double</span> position1 = lineString.locatePoint(point1)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Position of </span><span class="inline"><span class="inline-delimiter">${</span>point1<span class="inline-delimiter">}</span></span><span class="content"> is </span><span class="inline"><span class="inline-delimiter">${</span>position1<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="predefined-type">Point</span> point2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38736758304911</span>, <span class="float">47.58121554959838</span>)
<span class="predefined-type">Double</span> position2 = lineString.locatePoint(point2)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Position of </span><span class="inline"><span class="inline-delimiter">${</span>point2<span class="inline-delimiter">}</span></span><span class="content"> is </span><span class="inline"><span class="inline-delimiter">${</span>position2<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="predefined-type">Point</span> point3 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38374710083008</span>, <span class="float">47.58535499390333</span>)
<span class="predefined-type">Double</span> position3 = lineString.locatePoint(point3)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Position of </span><span class="inline"><span class="inline-delimiter">${</span>point3<span class="inline-delimiter">}</span></span><span class="content"> is </span><span class="inline"><span class="inline-delimiter">${</span>position3<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_locatepoint.png" alt="geometry linestring locatepoint">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Position of POINT (-122.39423990249632 47.57926150237904) is 0.0
Position of POINT (-122.38736758304911 47.58121554959838) is 0.5000000000004425
Position of POINT (-122.38374710083008 47.58535499390333) is 1.0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Place Points on a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString ([
    [-<span class="float">122.37155914306639</span>, <span class="float">47.57166173655188</span>],
    [-<span class="float">122.32160568237306</span>, <span class="float">47.5714301073211</span>]
])

<span class="predefined-type">Point</span> point1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.358341217041</span>, <span class="float">47.57432539907205</span>)
<span class="predefined-type">Point</span> pointOnLine1 = lineString.placePoint(point1)

<span class="predefined-type">Point</span> point2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.33860015869139</span>, <span class="float">47.56830301243495</span>)
<span class="predefined-type">Point</span> pointOnLine2 = lineString.placePoint(point2)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Points near LineString</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_placepoint1.png" alt="geometry linestring placepoint1">
</div>
</div>
<div class="paragraph">
<p>Point on LineString</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_placepoint2.png" alt="geometry linestring placepoint2">
</div>
</div>
<div class="listingblock">
<div class="title">Extract part of a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString([
    [-<span class="float">122.39423990249632</span>, <span class="float">47.57926150237904</span>],
    [-<span class="float">122.3918581008911</span>, <span class="float">47.58121554959838</span>],
    [-<span class="float">122.38657951354979</span>, <span class="float">47.58121554959838</span>],
    [-<span class="float">122.38638639450075</span>, <span class="float">47.58535499390333</span>],
    [-<span class="float">122.38374710083008</span>, <span class="float">47.58535499390333</span>]
])
LineString subLine = lineString.subLine(<span class="float">0.33</span>, <span class="float">0.66</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_subline1.png" alt="geometry linestring subline1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_subline2.png" alt="geometry linestring subline2">
</div>
</div>
<div class="listingblock">
<div class="title">Create Points along a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString([
        [-<span class="float">122.39423990249632</span>, <span class="float">47.57926150237904</span>],
        [-<span class="float">122.3918581008911</span>, <span class="float">47.58121554959838</span>],
        [-<span class="float">122.38657951354979</span>, <span class="float">47.58121554959838</span>],
        [-<span class="float">122.38638639450075</span>, <span class="float">47.58535499390333</span>],
        [-<span class="float">122.38374710083008</span>, <span class="float">47.58535499390333</span>]
])
MultiPoint multiPoint = lineString.createPointsAlong(<span class="float">0.001</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_linestring_createpointsalong.png" alt="geometry linestring createpointsalong">
</div>
</div>
</div>
<div class="sect2">
<h3 id="polygons"><a class="anchor" href="#polygons"></a>Polygons</h3>
<div class="listingblock">
<div class="title">Get a Polygon&#8217;s exterior LinearRing</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(
    <span class="comment">// Exterior Ring</span>
    <span class="keyword">new</span> LinearRing(
        [-<span class="float">122.39138603210449</span>, <span class="float">47.58659965790016</span>],
        [-<span class="float">122.41250038146973</span>, <span class="float">47.57681522195182</span>],
        [-<span class="float">122.40305900573729</span>, <span class="float">47.56523364515569</span>],
        [-<span class="float">122.38117218017578</span>, <span class="float">47.56621817878201</span>],
        [-<span class="float">122.3712158203125</span>, <span class="float">47.57235661809739</span>],
        [-<span class="float">122.37602233886717</span>, <span class="float">47.584747123985615</span>],
        [-<span class="float">122.39138603210449</span>, <span class="float">47.58659965790016</span>]
    ),
    <span class="comment">// Holes</span>
    [
        <span class="keyword">new</span> LinearRing(
            [-<span class="float">122.39859580993652</span>, <span class="float">47.578957532923376</span>],
            [-<span class="float">122.40468978881836</span>, <span class="float">47.57548347095205</span>],
            [-<span class="float">122.39593505859376</span>, <span class="float">47.570271945800094</span>],
            [-<span class="float">122.3920726776123</span>, <span class="float">47.57606249728773</span>],
            [-<span class="float">122.39859580993652</span>, <span class="float">47.578957532923376</span>]
        ),
        <span class="keyword">new</span> LinearRing(
            [-<span class="float">122.3836612701416</span>, <span class="float">47.58156292813543</span>],
            [-<span class="float">122.38829612731934</span>, <span class="float">47.57114056934196</span>],
            [-<span class="float">122.37456321716309</span>, <span class="float">47.57420959047542</span>],
            [-<span class="float">122.37868309020995</span>, <span class="float">47.58023129789275</span>],
            [-<span class="float">122.3836612701416</span>, <span class="float">47.58156292813543</span>]
        )
    ]
)
LinearRing exteriorRing = polygon.getExteriorRing()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_polygon_exteriorring1.png" alt="geometry polygon exteriorring1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_polygon_exteriorring2.png" alt="geometry polygon exteriorring2">
</div>
</div>
<div class="listingblock">
<div class="title">Get a Polygon&#8217;s interior LinearRings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(
        <span class="comment">// Exterior Ring</span>
        <span class="keyword">new</span> LinearRing(
                [-<span class="float">122.39138603210449</span>, <span class="float">47.58659965790016</span>],
                [-<span class="float">122.41250038146973</span>, <span class="float">47.57681522195182</span>],
                [-<span class="float">122.40305900573729</span>, <span class="float">47.56523364515569</span>],
                [-<span class="float">122.38117218017578</span>, <span class="float">47.56621817878201</span>],
                [-<span class="float">122.3712158203125</span>, <span class="float">47.57235661809739</span>],
                [-<span class="float">122.37602233886717</span>, <span class="float">47.584747123985615</span>],
                [-<span class="float">122.39138603210449</span>, <span class="float">47.58659965790016</span>]
        ),
        <span class="comment">// Holes</span>
        [
                <span class="keyword">new</span> LinearRing(
                        [-<span class="float">122.39859580993652</span>, <span class="float">47.578957532923376</span>],
                        [-<span class="float">122.40468978881836</span>, <span class="float">47.57548347095205</span>],
                        [-<span class="float">122.39593505859376</span>, <span class="float">47.570271945800094</span>],
                        [-<span class="float">122.3920726776123</span>, <span class="float">47.57606249728773</span>],
                        [-<span class="float">122.39859580993652</span>, <span class="float">47.578957532923376</span>]
                ),
                <span class="keyword">new</span> LinearRing(
                        [-<span class="float">122.3836612701416</span>, <span class="float">47.58156292813543</span>],
                        [-<span class="float">122.38829612731934</span>, <span class="float">47.57114056934196</span>],
                        [-<span class="float">122.37456321716309</span>, <span class="float">47.57420959047542</span>],
                        [-<span class="float">122.37868309020995</span>, <span class="float">47.58023129789275</span>],
                        [-<span class="float">122.3836612701416</span>, <span class="float">47.58156292813543</span>]
                )
        ]
)

println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Interior Rings = </span><span class="inline"><span class="inline-delimiter">${</span>polygon.numInteriorRing<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
(<span class="integer">0</span>..&lt;polygon.numInteriorRing).each { <span class="type">int</span> i -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  </span><span class="inline"><span class="inline-delimiter">${</span>polygon.getInteriorRingN(i)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Interior Rings</span><span class="delimiter">&quot;</span></span>
polygon.interiorRings.each { LinearRing ring -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  </span><span class="inline"><span class="inline-delimiter">${</span>ring<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Interior Rings = 2
  LINEARRING (-122.39859580993652 47.578957532923376, -122.40468978881836 47.57548347095205, -122.39593505859376 47.570271945800094, -122.3920726776123 47.57606249728773, -122.39859580993652 47.578957532923376)
  LINEARRING (-122.3836612701416 47.58156292813543, -122.38829612731934 47.57114056934196, -122.37456321716309 47.57420959047542, -122.37868309020995 47.58023129789275, -122.3836612701416 47.58156292813543)

Interior Rings
  LINEARRING (-122.39859580993652 47.578957532923376, -122.40468978881836 47.57548347095205, -122.39593505859376 47.570271945800094, -122.3920726776123 47.57606249728773, -122.39859580993652 47.578957532923376)
  LINEARRING (-122.3836612701416 47.58156292813543, -122.38829612731934 47.57114056934196, -122.37456321716309 47.57420959047542, -122.37868309020995 47.58023129789275, -122.3836612701416 47.58156292813543)</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_polygon_interiorring1.png" alt="geometry polygon interiorring1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_polygon_interiorring2.png" alt="geometry polygon interiorring2">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_polygon_interiorring3.png" alt="geometry polygon interiorring3">
</div>
</div>
<div class="listingblock">
<div class="title">Add a Polygon to another Polygon to create a MultiPolygon</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
  [-<span class="float">122.2723388671875</span>,  <span class="float">47.818687628247105</span>],
  [-<span class="float">122.37945556640624</span>, <span class="float">47.66168780332917</span>],
  [-<span class="float">121.95373535156249</span>, <span class="float">47.67093619422418</span>],
  [-<span class="float">122.2723388671875</span>,  <span class="float">47.818687628247105</span>]
]])
<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
  [-<span class="float">122.76672363281249</span>, <span class="float">47.42437092240516</span>],
  [-<span class="float">122.76672363281249</span>, <span class="float">47.59505101193038</span>],
  [-<span class="float">122.52227783203125</span>, <span class="float">47.59505101193038</span>],
  [-<span class="float">122.52227783203125</span>, <span class="float">47.42437092240516</span>],
  [-<span class="float">122.76672363281249</span>, <span class="float">47.42437092240516</span>]
]])
MultiPolygon multiPolygon = polygon1 + polygon2</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_plus_polygons.png" alt="geometry plus polygons">
</div>
</div>
<div class="listingblock">
<div class="title">Split a Polygon with a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(
    <span class="keyword">new</span> LinearRing(
        [-<span class="float">122.39138603210449</span>, <span class="float">47.58659965790016</span>],
        [-<span class="float">122.41250038146973</span>, <span class="float">47.57681522195182</span>],
        [-<span class="float">122.40305900573729</span>, <span class="float">47.56523364515569</span>],
        [-<span class="float">122.38117218017578</span>, <span class="float">47.56621817878201</span>],
        [-<span class="float">122.3712158203125</span>, <span class="float">47.57235661809739</span>],
        [-<span class="float">122.37602233886717</span>, <span class="float">47.584747123985615</span>],
        [-<span class="float">122.39138603210449</span>, <span class="float">47.58659965790016</span>]
    )
)

LineString lineString = <span class="keyword">new</span> LineString([
    [-<span class="float">122.3924160003662</span>, <span class="float">47.56395951534652</span>],
    [-<span class="float">122.38649368286131</span>, <span class="float">47.58729434121508</span>]
])

MultiPolygon multiPolygon = polygon.split(lineString)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_split_polygon1.png" alt="geometry split polygon1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_split_polygon2.png" alt="geometry split polygon2">
</div>
</div>
</div>
<div class="sect2">
<h3 id="multilinestrings"><a class="anchor" href="#multilinestrings"></a>MultiLineStrings</h3>
<div class="listingblock">
<div class="title">Add a LineString to a MultiLineString to get a new MultiLineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiLineString multiLineString = <span class="keyword">new</span> MultiLineString([
    <span class="keyword">new</span> LineString (
            [-<span class="float">122.3822021484375</span>, <span class="float">47.57837853860192</span>],
            [-<span class="float">122.32452392578125</span>, <span class="float">47.48380086737799</span>]
    ),
    <span class="keyword">new</span> LineString (
            [-<span class="float">122.32452392578125</span>, <span class="float">47.48380086737799</span>],
            [-<span class="float">122.29705810546874</span>, <span class="float">47.303447043862626</span>]
    )
])

LineString lineString = <span class="keyword">new</span> LineString (
    [-<span class="float">122.29705810546874</span>, <span class="float">47.303447043862626</span>],
    [-<span class="float">122.42889404296875</span>, <span class="float">47.23262467463881</span>]
)

MultiLineString newMultiLineString = multiLineString + lineString</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_multilinestring_plus.png" alt="geometry multilinestring plus">
</div>
</div>
<div class="listingblock">
<div class="title">Merge the LineStrings in a MultiLineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiLineString multiLineString = <span class="keyword">new</span> MultiLineString([
    <span class="keyword">new</span> LineString (
        [-<span class="float">122.3822021484375</span>, <span class="float">47.57837853860192</span>],
        [-<span class="float">122.32452392578125</span>, <span class="float">47.48380086737799</span>]
    ),
    <span class="keyword">new</span> LineString (
        [-<span class="float">122.32452392578125</span>, <span class="float">47.48380086737799</span>],
        [-<span class="float">122.29705810546874</span>, <span class="float">47.303447043862626</span>]
    ),
    <span class="keyword">new</span> LineString (
        [-<span class="float">122.29705810546874</span>, <span class="float">47.303447043862626</span>],
        [-<span class="float">122.42889404296875</span>, <span class="float">47.23262467463881</span>]
    )
])
MultiLineString mergedMultiLineString = multiLineString.merge()

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original MultiLineString = </span><span class="inline"><span class="inline-delimiter">${</span>multiLineString<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Merged MultiLineString   = </span><span class="inline"><span class="inline-delimiter">${</span>mergedMultiLineString<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Original MultiLineString = MULTILINESTRING ((-122.3822021484375 47.57837853860192, -122.32452392578125 47.48380086737799), (-122.32452392578125 47.48380086737799, -122.29705810546874 47.303447043862626), (-122.29705810546874 47.303447043862626, -122.42889404296875 47.23262467463881))

Merged MultiLineString   = MULTILINESTRING ((-122.3822021484375 47.57837853860192, -122.32452392578125 47.48380086737799, -122.29705810546874 47.303447043862626, -122.42889404296875 47.23262467463881))</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_multilinestring_plus.png" alt="geometry multilinestring plus">
</div>
</div>
<div class="listingblock">
<div class="title">Create Points along a MultiLineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiLineString lines = <span class="keyword">new</span> MultiLineString(
        <span class="keyword">new</span> LineString ([-<span class="float">5.70068359375</span>, <span class="float">45.1416015625</span>], [<span class="float">2.47314453125</span>, <span class="float">53.9306640625</span>]),
        <span class="keyword">new</span> LineString ([-<span class="float">1.21826171875</span>, <span class="float">53.9306640625</span>], [<span class="float">8.88916015625</span>, <span class="float">46.1962890625</span>]),
        <span class="keyword">new</span> LineString ([<span class="float">0.71533203125</span>, <span class="float">42.63671875</span>], [<span class="float">7.13134765625</span>, <span class="float">50.37109375</span>]),
        <span class="keyword">new</span> LineString ([-<span class="float">5.83251953125</span>, <span class="float">46.943359375</span>], [<span class="float">4.45068359375</span>, <span class="float">42.98828125</span>])
)
MultiPoint points = lines.createPointsAlong(<span class="integer">1</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_multilinestring_createpointsalong.png" alt="geometry multilinestring createpointsalong">
</div>
</div>
</div>
<div class="sect2">
<h3 id="multipolygons"><a class="anchor" href="#multipolygons"></a>MultiPolygons</h3>
<div class="listingblock">
<div class="title">Add a Polygon to a MultiPolygon to get a new MultiPolygon</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPolygon multiPolygon = <span class="keyword">new</span> MultiPolygon (
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
         [-<span class="float">122.2723388671875</span>,  <span class="float">47.818687628247105</span>],
         [-<span class="float">122.37945556640624</span>, <span class="float">47.66168780332917</span>],
         [-<span class="float">121.95373535156249</span>, <span class="float">47.67093619422418</span>],
         [-<span class="float">122.2723388671875</span>,  <span class="float">47.818687628247105</span>]
    ]]),
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
         [-<span class="float">122.76672363281249</span>, <span class="float">47.42437092240516</span>],
         [-<span class="float">122.76672363281249</span>, <span class="float">47.59505101193038</span>],
         [-<span class="float">122.52227783203125</span>, <span class="float">47.59505101193038</span>],
         [-<span class="float">122.52227783203125</span>, <span class="float">47.42437092240516</span>],
         [-<span class="float">122.76672363281249</span>, <span class="float">47.42437092240516</span>]
    ]])
)
<span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
    [-<span class="float">122.32177734375</span>, <span class="float">47.54501765940571</span>],
    [-<span class="float">122.27645874023438</span>, <span class="float">47.36673410912714</span>],
    [-<span class="float">122.03887939453125</span>, <span class="float">47.44480754169437</span>],
    [-<span class="float">122.15972900390624</span>, <span class="float">47.55150616084034</span>],
    [-<span class="float">122.32177734375</span>, <span class="float">47.54501765940571</span>]
]])

MultiPolygon newMultiPolygon = multiPolygon + polygon</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_multipolygon_plus.png" alt="geometry multipolygon plus">
</div>
</div>
<div class="listingblock">
<div class="title">Split a MultiPolygon with a LineString</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPolygon multiPolygon = <span class="keyword">new</span> MultiPolygon (
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
             [-<span class="float">122.2723388671875</span>,  <span class="float">47.818687628247105</span>],
             [-<span class="float">122.37945556640624</span>, <span class="float">47.66168780332917</span>],
             [-<span class="float">121.95373535156249</span>, <span class="float">47.67093619422418</span>],
             [-<span class="float">122.2723388671875</span>,  <span class="float">47.818687628247105</span>]
    ]]),
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
          [-<span class="float">122.76672363281249</span>, <span class="float">47.42437092240516</span>],
          [-<span class="float">122.76672363281249</span>, <span class="float">47.59505101193038</span>],
          [-<span class="float">122.52227783203125</span>, <span class="float">47.59505101193038</span>],
          [-<span class="float">122.52227783203125</span>, <span class="float">47.42437092240516</span>],
          [-<span class="float">122.76672363281249</span>, <span class="float">47.42437092240516</span>]
    ]]),
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
          [-<span class="float">122.32177734375</span>, <span class="float">47.54501765940571</span>],
          [-<span class="float">122.27645874023438</span>, <span class="float">47.36673410912714</span>],
          [-<span class="float">122.03887939453125</span>, <span class="float">47.44480754169437</span>],
          [-<span class="float">122.15972900390624</span>, <span class="float">47.55150616084034</span>],
          [-<span class="float">122.32177734375</span>, <span class="float">47.54501765940571</span>]
    ]])
)

LineString lineString = <span class="keyword">new</span> LineString([
    [-<span class="float">122.84362792968749</span>, <span class="float">47.484728927366504</span>],
    [-<span class="float">122.05810546875</span>, <span class="float">47.50421439972969</span>],
    [-<span class="float">122.35748291015625</span>, <span class="float">47.85832433461554</span>]
])

Geometry splitGeometry = multiPolygon.split(lineString)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_multipolygon_split1.png" alt="geometry multipolygon split1">
</div>
</div>
<div class="paragraph">
<p>After</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_multipolygon_split2.png" alt="geometry multipolygon split2">
</div>
</div>
</div>
<div class="sect2">
<h3 id="geometry-collections"><a class="anchor" href="#geometry-collections"></a>Geometry Collections</h3>
<div class="listingblock">
<div class="title">Add a Geometry to a Geometry Collection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeometryCollection geometryCollection = <span class="keyword">new</span> GeometryCollection([
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38654196262358</span>, <span class="float">47.581211931059826</span>),
    <span class="keyword">new</span> LineString([
        [-<span class="float">122.3865446448326</span>, <span class="float">47.58118841055313</span>],
        [-<span class="float">122.38657146692276</span>, <span class="float">47.58067638459562</span>]
    ]),
    <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(<span class="keyword">new</span> LinearRing([
        [-<span class="float">122.38693356513977</span>, <span class="float">47.58088445228483</span>],
        [-<span class="float">122.38672703504562</span>, <span class="float">47.58088445228483</span>],
        [-<span class="float">122.38672703504562</span>, <span class="float">47.58096225129535</span>],
        [-<span class="float">122.38693356513977</span>, <span class="float">47.58096225129535</span>],
        [-<span class="float">122.38693356513977</span>, <span class="float">47.58088445228483</span>]
    ]))
])
GeometryCollection newGeometryCollection =  geometryCollection + <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38718032836913</span>, <span class="float">47.58121374032914</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Original Geometry Collection</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_geometrycollection_plus1.png" alt="geometry geometrycollection plus1">
</div>
</div>
<div class="paragraph">
<p>New Geometry Collection</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_geometrycollection_plus2.png" alt="geometry geometrycollection plus2">
</div>
</div>
<div class="listingblock">
<div class="title">Get a subset of Geometries from a Geometry Collection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeometryCollection geometryCollection = <span class="keyword">new</span> GeometryCollection([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38654196262358</span>, <span class="float">47.581211931059826</span>),
        <span class="keyword">new</span> LineString([
                [-<span class="float">122.3865446448326</span>, <span class="float">47.58118841055313</span>],
                [-<span class="float">122.38657146692276</span>, <span class="float">47.58067638459562</span>]
        ]),
        <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(<span class="keyword">new</span> LinearRing([
                [-<span class="float">122.38693356513977</span>, <span class="float">47.58088445228483</span>],
                [-<span class="float">122.38672703504562</span>, <span class="float">47.58088445228483</span>],
                [-<span class="float">122.38672703504562</span>, <span class="float">47.58096225129535</span>],
                [-<span class="float">122.38693356513977</span>, <span class="float">47.58096225129535</span>],
                [-<span class="float">122.38693356513977</span>, <span class="float">47.58088445228483</span>]
        ]))
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_geometrycollection_slice1.png" alt="geometry geometrycollection slice1">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> slicedGeometryCollection1 =  geometryCollection.slice(<span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_geometrycollection_slice2.png" alt="geometry geometrycollection slice2">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeometryCollection slicedGeometryCollection2 =  geometryCollection.slice(<span class="integer">0</span>,<span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_geometrycollection_slice3.png" alt="geometry geometrycollection slice3">
</div>
</div>
<div class="listingblock">
<div class="title">Get a Geometry from a GeometryCollection that is the most type specific as possible.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeometryCollection geometryCollection1 = <span class="keyword">new</span> GeometryCollection([
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38654196262358</span>, <span class="float">47.581211931059826</span>),
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38718032836913</span>, <span class="float">47.58121374032914</span>),
])
Geometry narrowedGeometry1 = geometryCollection1.narrow()
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Narrow Geometry #1 = </span><span class="inline"><span class="inline-delimiter">${</span>narrowedGeometry1.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_geometrycollection_narrow1.png" alt="geometry geometrycollection narrow1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Narrow Geometry #1 = MULTIPOINT ((-122.38654196262358 47.581211931059826), (-122.38718032836913 47.58121374032914))</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeometryCollection geometryCollection2 = <span class="keyword">new</span> GeometryCollection([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.38654196262358</span>, <span class="float">47.581211931059826</span>),
        <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(<span class="keyword">new</span> LinearRing([
                [-<span class="float">122.38693356513977</span>, <span class="float">47.58088445228483</span>],
                [-<span class="float">122.38672703504562</span>, <span class="float">47.58088445228483</span>],
                [-<span class="float">122.38672703504562</span>, <span class="float">47.58096225129535</span>],
                [-<span class="float">122.38693356513977</span>, <span class="float">47.58096225129535</span>],
                [-<span class="float">122.38693356513977</span>, <span class="float">47.58088445228483</span>]
        ]))
])
Geometry narrowedGeometry2 = geometryCollection2.narrow()
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Narrow Geometry #2 = </span><span class="inline"><span class="inline-delimiter">${</span>narrowedGeometry2.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_geometrycollection_narrow2.png" alt="geometry geometrycollection narrow2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Narrow Geometry #2 = GEOMETRYCOLLECTION (POINT (-122.38654196262358 47.581211931059826), POLYGON ((-122.38693356513977 47.58088445228483, -122.38672703504562 47.58088445228483, -122.38672703504562 47.58096225129535, -122.38693356513977 47.58096225129535, -122.38693356513977 47.58088445228483)))</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="circular-strings"><a class="anchor" href="#circular-strings"></a>Circular Strings</h3>
<div class="listingblock">
<div class="title">Get Curved WKT from a Circular Strings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CircularString circularString = <span class="keyword">new</span> CircularString([
        [-<span class="float">122.464599609375</span>, <span class="float">47.247542522268006</span>],
        [-<span class="float">122.03613281249999</span>, <span class="float">47.37789454155521</span>],
        [-<span class="float">122.37670898437499</span>, <span class="float">47.58393661978134</span>]
])
println <span class="string"><span class="delimiter">&quot;</span><span class="content">WKT = </span><span class="inline"><span class="inline-delimiter">${</span>circularString.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Curnved WKT = </span><span class="inline"><span class="inline-delimiter">${</span>circularString.curvedWkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_circularstring_curvedwkt.png" alt="geometry circularstring curvedwkt">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>WKT = LINESTRING (-122.464599609375 47.247542522268006, -122.4550237920096 47.23410579860605, -122.4348780833765 47.21113402059009, -122.41190630536055 47.19098831195699, -122.38650151145254 47.17401337136692, -122.3590983847198 47.16049964475972, -122.33016580025833 47.15067835574435, -122.30019880260986 47.144717549298825, -122.26971013541258 47.1427192164741, -122.2392214682153 47.144717549298825, -122.20925447056683 47.15067835574435, -122.18032188610536 47.16049964475972, -122.15291875937262 47.17401337136692, -122.12751396546462 47.19098831195699, -122.10454218744866 47.21113402059009, -122.08439647881556 47.23410579860605, -122.06742153822549 47.259510592514054, -122.05390781161829 47.28691371924678, -122.04408652260291 47.31584630370827, -122.0381257161574 47.34581330135674, -122.03612738333267 47.37630196855401, -122.03613281249999 47.37789454155521, -122.0381257161574 47.40679063575128, -122.04408652260291 47.43675763339975, -122.05390781161829 47.46569021786124, -122.06742153822549 47.493093344593966, -122.08439647881556 47.51849813850197, -122.10454218744866 47.54146991651793, -122.12751396546462 47.56161562515103, -122.15291875937262 47.5785905657411, -122.18032188610536 47.5921042923483, -122.20925447056683 47.60192558136367, -122.2392214682153 47.607886387809195, -122.26971013541258 47.60988472063392, -122.30019880260986 47.607886387809195, -122.33016580025833 47.60192558136367, -122.3590983847198 47.5921042923483, -122.37670898437499 47.58393661978134)
Curnved WKT = CIRCULARSTRING (-122.464599609375 47.247542522268006, -122.03613281249999 47.37789454155521, -122.37670898437499 47.58393661978134)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get control points from a Circular Strings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CircularString circularString = <span class="keyword">new</span> CircularString([
        [-<span class="float">122.464599609375</span>, <span class="float">47.247542522268006</span>],
        [-<span class="float">122.03613281249999</span>, <span class="float">47.37789454155521</span>],
        [-<span class="float">122.37670898437499</span>, <span class="float">47.58393661978134</span>]
])
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Point</span>&gt; points = circularString.controlPoints
points.each { <span class="predefined-type">Point</span> point -&gt;
    println point
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_circularstring_controlpoints.png" alt="geometry circularstring controlpoints">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-122.464599609375 47.247542522268006)
POINT (-122.03613281249999 47.37789454155521)
POINT (-122.37670898437499 47.58393661978134)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Convert a Circural Strings to a Linear Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CircularString circularString = <span class="keyword">new</span> CircularString([
        [-<span class="float">122.464599609375</span>, <span class="float">47.247542522268006</span>],
        [-<span class="float">122.03613281249999</span>, <span class="float">47.37789454155521</span>],
        [-<span class="float">122.37670898437499</span>, <span class="float">47.58393661978134</span>]
])
Geometry linear = circularString.linear
println linear.wkt</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_circularstring_linear.png" alt="geometry circularstring linear">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>LINESTRING (-122.464599609375 47.247542522268006, -122.4550237920096 47.23410579860605, -122.4348780833765 47.21113402059009, -122.41190630536055 47.19098831195699, -122.38650151145254 47.17401337136692, -122.3590983847198 47.16049964475972, -122.33016580025833 47.15067835574435, -122.30019880260986 47.144717549298825, -122.26971013541258 47.1427192164741, -122.2392214682153 47.144717549298825, -122.20925447056683 47.15067835574435, -122.18032188610536 47.16049964475972, -122.15291875937262 47.17401337136692, -122.12751396546462 47.19098831195699, -122.10454218744866 47.21113402059009, -122.08439647881556 47.23410579860605, -122.06742153822549 47.259510592514054, -122.05390781161829 47.28691371924678, -122.04408652260291 47.31584630370827, -122.0381257161574 47.34581330135674, -122.03612738333267 47.37630196855401, -122.03613281249999 47.37789454155521, -122.0381257161574 47.40679063575128, -122.04408652260291 47.43675763339975, -122.05390781161829 47.46569021786124, -122.06742153822549 47.493093344593966, -122.08439647881556 47.51849813850197, -122.10454218744866 47.54146991651793, -122.12751396546462 47.56161562515103, -122.15291875937262 47.5785905657411, -122.18032188610536 47.5921042923483, -122.20925447056683 47.60192558136367, -122.2392214682153 47.607886387809195, -122.26971013541258 47.60988472063392, -122.30019880260986 47.607886387809195, -122.33016580025833 47.60192558136367, -122.3590983847198 47.5921042923483, -122.37670898437499 47.58393661978134)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="circular-rings"><a class="anchor" href="#circular-rings"></a>Circular Rings</h3>
<div class="listingblock">
<div class="title">Get Curved WKT from a Circular Ring</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CircularRing circularRing = <span class="keyword">new</span> CircularRing([
        [-<span class="float">118.47656249999999</span>, <span class="float">41.508577297439324</span>],
        [-<span class="float">109.6875</span>, <span class="float">57.51582286553883</span>],
        [-<span class="float">93.8671875</span>, <span class="float">42.032974332441405</span>],
        [-<span class="float">62.57812500000001</span>, <span class="float">30.14512718337613</span>],
        [-<span class="float">92.10937499999999</span>, <span class="float">7.36246686553575</span>],
        [ -<span class="float">127.265625</span>, <span class="float">14.604847155053898</span>],
        [-<span class="float">118.47656249999999</span>, <span class="float">41.508577297439324</span>]
])
println <span class="string"><span class="delimiter">&quot;</span><span class="content">WKT = </span><span class="inline"><span class="inline-delimiter">${</span>circularRing.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Curnved WKT = </span><span class="inline"><span class="inline-delimiter">${</span>circularRing.curvedWkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_circularring_curvedwkt.png" alt="geometry circularring curvedwkt">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>WKT = LINEARRING (-118.47656249999999 41.508577297439324, -118.58869123015452 41.901774579059115, -118.91479847512254 43.54122641035517, -119.02412442253558 45.209218040904574, -118.91479847512252 46.877209671453976, -118.58869123015451 48.516661502750026, -118.05138247300694 50.09952205941734, -117.31206570548474 51.59870815847947, -116.38339084245754 52.98856831012856, -115.28124776830906 54.245321621827856, -114.02449445660976 55.347464695976335, -112.63463430496067 56.27613955900354, -111.13544820589854 57.01545632652574, -109.6875 57.51582286553883, -109.55258764923123 57.552765083673314, -107.91313581793517 57.87887232864133, -106.24514418738576 57.98819827605437, -104.57715255683635 57.87887232864133, -102.9377007255403 57.552765083673314, -101.35484016887298 57.01545632652574, -99.85565406981085 56.27613955900354, -98.46579391816176 55.347464695976335, -97.20904060646247 54.245321621827856, -96.10689753231398 52.98856831012856, -95.17822266928678 51.59870815847947, -94.43890590176458 50.09952205941733, -93.901597144617 48.51666150275002, -93.575489899649 46.87720967145396, -93.46616395223595 45.20921804090456, -93.575489899649 43.54122641035516, -93.8671875 42.032974332441405, -92.52944589377746 42.87620255408929, -90.13998424943787 44.0545546346726, -87.61715897053445 44.91093841996455, -85.00413629704853 45.43070094596436, -82.34562577139025 45.60494893174677, -79.68711524573196 45.43070094596437, -77.07409257224604 44.910938419964566, -74.55126729334262 44.05455463467261, -72.16180564900301 42.876202554089296, -69.94659199044581 41.396044109014326, -67.9435292375422 39.639405220820365, -66.18689034934823 37.63634246791675, -64.70673190427325 35.42112880935955, -63.528379823689946 33.03166716501995, -62.67199603839799 30.50884188611652, -62.57812500000001 30.14512718337613, -62.15223351239818 27.895819212630613, -61.97798552661578 25.237308686972327, -62.15223351239818 22.578798161314037, -62.671996038397985 19.965775487828132, -63.52837982368993 17.442950208924703, -64.70673190427325 15.0534885645851, -66.18689034934822 12.838274906027902, -67.94352923754218 10.835212153124278, -69.9465919904458 9.078573264930323, -72.16180564900299 7.598414819855346, -74.55126729334259 6.42006273927203, -77.07409257224602 5.563678953980077, -79.68711524573193 5.0439164279802675, -82.34562577139022 4.869668442197863, -85.00413629704852 5.043916427980264, -87.61715897053442 5.5636789539800695, -90.13998424943784 6.420062739272023, -92.10937499999999 7.36246686553575, -94.00832592648507 5.722586433241059, -96.3693387982898 4.1450080684486466, -98.91606817456314 2.88910012519991, -101.60493880959022 1.9763515366073037, -104.38994338130999 1.4223796840833636, -107.22342968935115 1.2366631796147907, -110.05691599739232 1.4223796840833813, -112.84192056911208 1.9763515366073356, -115.53079120413916 2.8891001251999597, -118.07752058041248 4.1450080684487105, -120.43853345221721 5.722586433241133, -122.57343223472037 7.594842416368293, -124.4456882178475 9.729741198871439, -126.02326658263992 12.09075407067618, -127.265625 14.604847155053898, -127.27917452588866 14.637483446949503, -128.19192311448128 17.326354081976593, -128.7458949670052 20.111358653696357, -128.9316114714738 22.944844961737523, -128.7458949670052 25.77833126977869, -128.19192311448126 28.56333584149845, -127.27917452588864 31.252206476525537, -126.02326658263989 33.798935852798856, -124.44568821784746 36.159948724603595, -122.57343223472031 38.29484750710673, -120.43853345221717 40.16710349023388, -118.47656249999999 41.508577297439324)
Curnved WKT = CIRCULARSTRING (-118.47656249999999 41.508577297439324, -109.6875 57.51582286553883, -93.8671875 42.032974332441405, -62.57812500000001 30.14512718337613, -92.10937499999999 7.36246686553575, -127.265625 14.604847155053898, -118.47656249999999 41.508577297439324)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get control points from a Circular Ring</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CircularRing circularRing = <span class="keyword">new</span> CircularRing([
        [-<span class="float">118.47656249999999</span>, <span class="float">41.508577297439324</span>],
        [-<span class="float">109.6875</span>, <span class="float">57.51582286553883</span>],
        [-<span class="float">93.8671875</span>, <span class="float">42.032974332441405</span>],
        [-<span class="float">62.57812500000001</span>, <span class="float">30.14512718337613</span>],
        [-<span class="float">92.10937499999999</span>, <span class="float">7.36246686553575</span>],
        [ -<span class="float">127.265625</span>, <span class="float">14.604847155053898</span>],
        [-<span class="float">118.47656249999999</span>, <span class="float">41.508577297439324</span>]
])
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Point</span>&gt; points = circularRing.controlPoints
points.each { <span class="predefined-type">Point</span> point -&gt;
    println point
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_circularring_controlpoints.png" alt="geometry circularring controlpoints">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-118.47656249999999 41.508577297439324)
POINT (-109.6875 57.51582286553883)
POINT (-93.8671875 42.032974332441405)
POINT (-62.57812500000001 30.14512718337613)
POINT (-92.10937499999999 7.36246686553575)
POINT (-127.265625 14.604847155053898)
POINT (-118.47656249999999 41.508577297439324)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Convert a Circural Ring to a Linear Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CircularRing circularRing = <span class="keyword">new</span> CircularRing([
        [-<span class="float">118.47656249999999</span>, <span class="float">41.508577297439324</span>],
        [-<span class="float">109.6875</span>, <span class="float">57.51582286553883</span>],
        [-<span class="float">93.8671875</span>, <span class="float">42.032974332441405</span>],
        [-<span class="float">62.57812500000001</span>, <span class="float">30.14512718337613</span>],
        [-<span class="float">92.10937499999999</span>, <span class="float">7.36246686553575</span>],
        [ -<span class="float">127.265625</span>, <span class="float">14.604847155053898</span>],
        [-<span class="float">118.47656249999999</span>, <span class="float">41.508577297439324</span>]
])
Geometry linear = circularRing.linear
println linear.wkt</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_circularring_linear.png" alt="geometry circularring linear">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>LINEARRING (-118.47656249999999 41.508577297439324, -118.58869123015452 41.901774579059115, -118.91479847512254 43.54122641035517, -119.02412442253558 45.209218040904574, -118.91479847512252 46.877209671453976, -118.58869123015451 48.516661502750026, -118.05138247300694 50.09952205941734, -117.31206570548474 51.59870815847947, -116.38339084245754 52.98856831012856, -115.28124776830906 54.245321621827856, -114.02449445660976 55.347464695976335, -112.63463430496067 56.27613955900354, -111.13544820589854 57.01545632652574, -109.6875 57.51582286553883, -109.55258764923123 57.552765083673314, -107.91313581793517 57.87887232864133, -106.24514418738576 57.98819827605437, -104.57715255683635 57.87887232864133, -102.9377007255403 57.552765083673314, -101.35484016887298 57.01545632652574, -99.85565406981085 56.27613955900354, -98.46579391816176 55.347464695976335, -97.20904060646247 54.245321621827856, -96.10689753231398 52.98856831012856, -95.17822266928678 51.59870815847947, -94.43890590176458 50.09952205941733, -93.901597144617 48.51666150275002, -93.575489899649 46.87720967145396, -93.46616395223595 45.20921804090456, -93.575489899649 43.54122641035516, -93.8671875 42.032974332441405, -92.52944589377746 42.87620255408929, -90.13998424943787 44.0545546346726, -87.61715897053445 44.91093841996455, -85.00413629704853 45.43070094596436, -82.34562577139025 45.60494893174677, -79.68711524573196 45.43070094596437, -77.07409257224604 44.910938419964566, -74.55126729334262 44.05455463467261, -72.16180564900301 42.876202554089296, -69.94659199044581 41.396044109014326, -67.9435292375422 39.639405220820365, -66.18689034934823 37.63634246791675, -64.70673190427325 35.42112880935955, -63.528379823689946 33.03166716501995, -62.67199603839799 30.50884188611652, -62.57812500000001 30.14512718337613, -62.15223351239818 27.895819212630613, -61.97798552661578 25.237308686972327, -62.15223351239818 22.578798161314037, -62.671996038397985 19.965775487828132, -63.52837982368993 17.442950208924703, -64.70673190427325 15.0534885645851, -66.18689034934822 12.838274906027902, -67.94352923754218 10.835212153124278, -69.9465919904458 9.078573264930323, -72.16180564900299 7.598414819855346, -74.55126729334259 6.42006273927203, -77.07409257224602 5.563678953980077, -79.68711524573193 5.0439164279802675, -82.34562577139022 4.869668442197863, -85.00413629704852 5.043916427980264, -87.61715897053442 5.5636789539800695, -90.13998424943784 6.420062739272023, -92.10937499999999 7.36246686553575, -94.00832592648507 5.722586433241059, -96.3693387982898 4.1450080684486466, -98.91606817456314 2.88910012519991, -101.60493880959022 1.9763515366073037, -104.38994338130999 1.4223796840833636, -107.22342968935115 1.2366631796147907, -110.05691599739232 1.4223796840833813, -112.84192056911208 1.9763515366073356, -115.53079120413916 2.8891001251999597, -118.07752058041248 4.1450080684487105, -120.43853345221721 5.722586433241133, -122.57343223472037 7.594842416368293, -124.4456882178475 9.729741198871439, -126.02326658263992 12.09075407067618, -127.265625 14.604847155053898, -127.27917452588866 14.637483446949503, -128.19192311448128 17.326354081976593, -128.7458949670052 20.111358653696357, -128.9316114714738 22.944844961737523, -128.7458949670052 25.77833126977869, -128.19192311448126 28.56333584149845, -127.27917452588864 31.252206476525537, -126.02326658263989 33.798935852798856, -124.44568821784746 36.159948724603595, -122.57343223472031 38.29484750710673, -120.43853345221717 40.16710349023388, -118.47656249999999 41.508577297439324)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="compound-curves"><a class="anchor" href="#compound-curves"></a>Compound Curves</h3>
<div class="listingblock">
<div class="title">Get Curved WKT from a Compound Curves</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CompoundCurve compoundCurve = <span class="keyword">new</span> CompoundCurve([
        <span class="keyword">new</span> CircularString([
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
                [<span class="float">5.9765625</span>, <span class="float">40.17887331434696</span>],
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
        ]),
        <span class="keyword">new</span> CircularString([
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
                [<span class="float">81.5625</span>, <span class="float">39.36827914916011</span>],
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>]

        ])
])
println <span class="string"><span class="delimiter">&quot;</span><span class="content">WKT = </span><span class="inline"><span class="inline-delimiter">${</span>compoundCurve.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Curnved WKT = </span><span class="inline"><span class="inline-delimiter">${</span>compoundCurve.curvedWkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_compoundcurve_curvedwkt.png" alt="geometry compoundcurve curvedwkt">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>WKT = LINESTRING (27.0703125 23.885837699862005, 27.022331449414295 23.8488525605847, 25.524767337284196 22.84821221194479, 23.909405319245263 22.051603821364203, 22.203884687289108 21.472657579267334, 20.43738737228815 21.12127941637069, 18.64013863306764 21.00348151046186, 16.842889893847133 21.1212794163707, 15.076392578846175 21.472657579267356, 13.370871946890022 22.051603821364232, 11.755509928851094 22.848212211944833, 10.257945816720998 23.848852560584746, 8.903803347661494 25.036403633488835, 7.716252274757412 26.390546102548342, 6.715611926117504 27.88811021467844, 5.919003535536911 29.50347223271737, 5.340057293440038 31.20899286467353, 4.988679130543391 32.97549017967449, 4.8708812246345605 34.772738918894994, 4.988679130543396 36.5699876581155, 5.340057293440047 38.336484973116455, 5.9190035355369215 40.04200560507262, 5.9765625 40.17887331434696, 6.715611926117516 41.65736762311154, 7.71625227475743 43.15493173524164, 8.903803347661514 44.50907420430114, 10.257945816721021 45.69662527720523, 11.755509928851117 46.69726562584515, 13.37087194689005 47.49387401642574, 15.076392578846209 48.07282025852261, 16.84288989384717 48.42419842141926, 18.64013863306768 48.5419963273281, 20.437387372288192 48.42419842141926, 22.20388468728915 48.07282025852261, 22.5 47.98992166741417, 71.71875 49.15296965617039, 72.58658076138724 48.953451060440116, 74.12646468490568 48.43073090444654, 75.58494601643167 47.71148750685245, 76.93706973601537 46.80802732160263, 78.15970063193521 45.735808802953194, 79.23191915058464 44.513177907033366, 80.13537933583446 43.16105418744966, 80.85462273342854 41.70257285592367, 81.37734288942212 40.162688932405224, 81.5625 39.36827914916011, 81.69459591702075 38.567750257762206, 81.80095352896302 36.9450466749183, 81.69459591702075 35.3223430920744, 81.37734288942212 33.72740441743138, 80.85462273342854 32.187520493912935, 80.13537933583446 30.729039162386947, 79.23191915058464 29.376915442803238, 78.15970063193521 28.15428454688341, 76.93706973601537 27.082066028233974, 75.58494601643167 26.178605842984155, 74.12646468490568 25.459362445390067, 72.58658076138724 24.936642289396488, 70.99164208674422 24.61938926179787, 69.9609375 24.5271348225978)
Curnved WKT = COMPOUNDCURVE (CIRCULARSTRING (27.0703125 23.885837699862005, 5.9765625 40.17887331434696, 22.5 47.98992166741417), (22.5 47.98992166741417, 71.71875 49.15296965617039), CIRCULARSTRING (71.71875 49.15296965617039, 81.5625 39.36827914916011, 69.9609375 24.5271348225978))</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get component LineStrings from a Compound Curves</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CompoundCurve compoundCurve = <span class="keyword">new</span> CompoundCurve([
        <span class="keyword">new</span> CircularString([
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
                [<span class="float">5.9765625</span>, <span class="float">40.17887331434696</span>],
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
        ]),
        <span class="keyword">new</span> CircularString([
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
                [<span class="float">81.5625</span>, <span class="float">39.36827914916011</span>],
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>]

        ])
])
<span class="predefined-type">List</span>&lt;LineString&gt; lineStrings = compoundCurve.components
lineStrings.each { LineString lineString -&gt;
    println lineString
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_compoundcurve_components.png" alt="geometry compoundcurve components">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>LINESTRING (27.0703125 23.885837699862005, 27.022331449414295 23.8488525605847, 25.524767337284196 22.84821221194479, 23.909405319245263 22.051603821364203, 22.203884687289108 21.472657579267334, 20.43738737228815 21.12127941637069, 18.64013863306764 21.00348151046186, 16.842889893847133 21.1212794163707, 15.076392578846175 21.472657579267356, 13.370871946890022 22.051603821364232, 11.755509928851094 22.848212211944833, 10.257945816720998 23.848852560584746, 8.903803347661494 25.036403633488835, 7.716252274757412 26.390546102548342, 6.715611926117504 27.88811021467844, 5.919003535536911 29.50347223271737, 5.340057293440038 31.20899286467353, 4.988679130543391 32.97549017967449, 4.8708812246345605 34.772738918894994, 4.988679130543396 36.5699876581155, 5.340057293440047 38.336484973116455, 5.9190035355369215 40.04200560507262, 5.9765625 40.17887331434696, 6.715611926117516 41.65736762311154, 7.71625227475743 43.15493173524164, 8.903803347661514 44.50907420430114, 10.257945816721021 45.69662527720523, 11.755509928851117 46.69726562584515, 13.37087194689005 47.49387401642574, 15.076392578846209 48.07282025852261, 16.84288989384717 48.42419842141926, 18.64013863306768 48.5419963273281, 20.437387372288192 48.42419842141926, 22.20388468728915 48.07282025852261, 22.5 47.98992166741417)
LINESTRING (22.5 47.98992166741417, 71.71875 49.15296965617039)
LINESTRING (71.71875 49.15296965617039, 72.58658076138724 48.953451060440116, 74.12646468490568 48.43073090444654, 75.58494601643167 47.71148750685245, 76.93706973601537 46.80802732160263, 78.15970063193521 45.735808802953194, 79.23191915058464 44.513177907033366, 80.13537933583446 43.16105418744966, 80.85462273342854 41.70257285592367, 81.37734288942212 40.162688932405224, 81.5625 39.36827914916011, 81.69459591702075 38.567750257762206, 81.80095352896302 36.9450466749183, 81.69459591702075 35.3223430920744, 81.37734288942212 33.72740441743138, 80.85462273342854 32.187520493912935, 80.13537933583446 30.729039162386947, 79.23191915058464 29.376915442803238, 78.15970063193521 28.15428454688341, 76.93706973601537 27.082066028233974, 75.58494601643167 26.178605842984155, 74.12646468490568 25.459362445390067, 72.58658076138724 24.936642289396488, 70.99164208674422 24.61938926179787, 69.9609375 24.5271348225978)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Convert a Compound Curves to a Linear Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CompoundCurve compoundCurve = <span class="keyword">new</span> CompoundCurve([
        <span class="keyword">new</span> CircularString([
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
                [<span class="float">5.9765625</span>, <span class="float">40.17887331434696</span>],
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
        ]),
        <span class="keyword">new</span> CircularString([
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
                [<span class="float">81.5625</span>, <span class="float">39.36827914916011</span>],
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>]

        ])
])
Geometry linear = compoundCurve.linear
println linear.wkt</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_compoundcurve_linear.png" alt="geometry compoundcurve linear">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>LINESTRING (27.0703125 23.885837699862005, 27.022331449414295 23.8488525605847, 25.524767337284196 22.84821221194479, 23.909405319245263 22.051603821364203, 22.203884687289108 21.472657579267334, 20.43738737228815 21.12127941637069, 18.64013863306764 21.00348151046186, 16.842889893847133 21.1212794163707, 15.076392578846175 21.472657579267356, 13.370871946890022 22.051603821364232, 11.755509928851094 22.848212211944833, 10.257945816720998 23.848852560584746, 8.903803347661494 25.036403633488835, 7.716252274757412 26.390546102548342, 6.715611926117504 27.88811021467844, 5.919003535536911 29.50347223271737, 5.340057293440038 31.20899286467353, 4.988679130543391 32.97549017967449, 4.8708812246345605 34.772738918894994, 4.988679130543396 36.5699876581155, 5.340057293440047 38.336484973116455, 5.9190035355369215 40.04200560507262, 5.9765625 40.17887331434696, 6.715611926117516 41.65736762311154, 7.71625227475743 43.15493173524164, 8.903803347661514 44.50907420430114, 10.257945816721021 45.69662527720523, 11.755509928851117 46.69726562584515, 13.37087194689005 47.49387401642574, 15.076392578846209 48.07282025852261, 16.84288989384717 48.42419842141926, 18.64013863306768 48.5419963273281, 20.437387372288192 48.42419842141926, 22.20388468728915 48.07282025852261, 22.5 47.98992166741417, 71.71875 49.15296965617039, 72.58658076138724 48.953451060440116, 74.12646468490568 48.43073090444654, 75.58494601643167 47.71148750685245, 76.93706973601537 46.80802732160263, 78.15970063193521 45.735808802953194, 79.23191915058464 44.513177907033366, 80.13537933583446 43.16105418744966, 80.85462273342854 41.70257285592367, 81.37734288942212 40.162688932405224, 81.5625 39.36827914916011, 81.69459591702075 38.567750257762206, 81.80095352896302 36.9450466749183, 81.69459591702075 35.3223430920744, 81.37734288942212 33.72740441743138, 80.85462273342854 32.187520493912935, 80.13537933583446 30.729039162386947, 79.23191915058464 29.376915442803238, 78.15970063193521 28.15428454688341, 76.93706973601537 27.082066028233974, 75.58494601643167 26.178605842984155, 74.12646468490568 25.459362445390067, 72.58658076138724 24.936642289396488, 70.99164208674422 24.61938926179787, 69.9609375 24.5271348225978)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="compound-rings"><a class="anchor" href="#compound-rings"></a>Compound Rings</h3>
<div class="listingblock">
<div class="title">Get Curved WKT from a Compound Rings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CompoundRing compoundRing = <span class="keyword">new</span> CompoundRing([
        <span class="keyword">new</span> CircularString([
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
                [<span class="float">5.9765625</span>, <span class="float">40.17887331434696</span>],
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
        ]),
        <span class="keyword">new</span> CircularString([
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
                [<span class="float">81.5625</span>, <span class="float">39.36827914916011</span>],
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>]

        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>],
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
        ])
])
println <span class="string"><span class="delimiter">&quot;</span><span class="content">WKT = </span><span class="inline"><span class="inline-delimiter">${</span>compoundRing.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Curnved WKT = </span><span class="inline"><span class="inline-delimiter">${</span>compoundRing.curvedWkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_compoundring_curvedwkt.png" alt="geometry compoundring curvedwkt">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>WKT = LINEARRING (27.0703125 23.885837699862005, 27.022331449414295 23.8488525605847, 25.524767337284196 22.84821221194479, 23.909405319245263 22.051603821364203, 22.203884687289108 21.472657579267334, 20.43738737228815 21.12127941637069, 18.64013863306764 21.00348151046186, 16.842889893847133 21.1212794163707, 15.076392578846175 21.472657579267356, 13.370871946890022 22.051603821364232, 11.755509928851094 22.848212211944833, 10.257945816720998 23.848852560584746, 8.903803347661494 25.036403633488835, 7.716252274757412 26.390546102548342, 6.715611926117504 27.88811021467844, 5.919003535536911 29.50347223271737, 5.340057293440038 31.20899286467353, 4.988679130543391 32.97549017967449, 4.8708812246345605 34.772738918894994, 4.988679130543396 36.5699876581155, 5.340057293440047 38.336484973116455, 5.9190035355369215 40.04200560507262, 5.9765625 40.17887331434696, 6.715611926117516 41.65736762311154, 7.71625227475743 43.15493173524164, 8.903803347661514 44.50907420430114, 10.257945816721021 45.69662527720523, 11.755509928851117 46.69726562584515, 13.37087194689005 47.49387401642574, 15.076392578846209 48.07282025852261, 16.84288989384717 48.42419842141926, 18.64013863306768 48.5419963273281, 20.437387372288192 48.42419842141926, 22.20388468728915 48.07282025852261, 22.5 47.98992166741417, 71.71875 49.15296965617039, 72.58658076138724 48.953451060440116, 74.12646468490568 48.43073090444654, 75.58494601643167 47.71148750685245, 76.93706973601537 46.80802732160263, 78.15970063193521 45.735808802953194, 79.23191915058464 44.513177907033366, 80.13537933583446 43.16105418744966, 80.85462273342854 41.70257285592367, 81.37734288942212 40.162688932405224, 81.5625 39.36827914916011, 81.69459591702075 38.567750257762206, 81.80095352896302 36.9450466749183, 81.69459591702075 35.3223430920744, 81.37734288942212 33.72740441743138, 80.85462273342854 32.187520493912935, 80.13537933583446 30.729039162386947, 79.23191915058464 29.376915442803238, 78.15970063193521 28.15428454688341, 76.93706973601537 27.082066028233974, 75.58494601643167 26.178605842984155, 74.12646468490568 25.459362445390067, 72.58658076138724 24.936642289396488, 70.99164208674422 24.61938926179787, 69.9609375 24.5271348225978, 27.0703125 23.885837699862005)
Curnved WKT = COMPOUNDCURVE (CIRCULARSTRING (27.0703125 23.885837699862005, 5.9765625 40.17887331434696, 22.5 47.98992166741417), (22.5 47.98992166741417, 71.71875 49.15296965617039), CIRCULARSTRING (71.71875 49.15296965617039, 81.5625 39.36827914916011, 69.9609375 24.5271348225978), (69.9609375 24.5271348225978, 27.0703125 23.885837699862005))</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get component LineStrings from a Compound Rings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CompoundRing compoundRing = <span class="keyword">new</span> CompoundRing([
        <span class="keyword">new</span> CircularString([
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
                [<span class="float">5.9765625</span>, <span class="float">40.17887331434696</span>],
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
        ]),
        <span class="keyword">new</span> CircularString([
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
                [<span class="float">81.5625</span>, <span class="float">39.36827914916011</span>],
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>]

        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>],
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
        ])
])
<span class="predefined-type">List</span>&lt;LineString&gt; lineStrings = compoundRing.components
lineStrings.each { LineString lineString -&gt;
    println lineString
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_compoundring_components.png" alt="geometry compoundring components">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>LINESTRING (27.0703125 23.885837699862005, 27.022331449414295 23.8488525605847, 25.524767337284196 22.84821221194479, 23.909405319245263 22.051603821364203, 22.203884687289108 21.472657579267334, 20.43738737228815 21.12127941637069, 18.64013863306764 21.00348151046186, 16.842889893847133 21.1212794163707, 15.076392578846175 21.472657579267356, 13.370871946890022 22.051603821364232, 11.755509928851094 22.848212211944833, 10.257945816720998 23.848852560584746, 8.903803347661494 25.036403633488835, 7.716252274757412 26.390546102548342, 6.715611926117504 27.88811021467844, 5.919003535536911 29.50347223271737, 5.340057293440038 31.20899286467353, 4.988679130543391 32.97549017967449, 4.8708812246345605 34.772738918894994, 4.988679130543396 36.5699876581155, 5.340057293440047 38.336484973116455, 5.9190035355369215 40.04200560507262, 5.9765625 40.17887331434696, 6.715611926117516 41.65736762311154, 7.71625227475743 43.15493173524164, 8.903803347661514 44.50907420430114, 10.257945816721021 45.69662527720523, 11.755509928851117 46.69726562584515, 13.37087194689005 47.49387401642574, 15.076392578846209 48.07282025852261, 16.84288989384717 48.42419842141926, 18.64013863306768 48.5419963273281, 20.437387372288192 48.42419842141926, 22.20388468728915 48.07282025852261, 22.5 47.98992166741417)
LINESTRING (22.5 47.98992166741417, 71.71875 49.15296965617039)
LINESTRING (71.71875 49.15296965617039, 72.58658076138724 48.953451060440116, 74.12646468490568 48.43073090444654, 75.58494601643167 47.71148750685245, 76.93706973601537 46.80802732160263, 78.15970063193521 45.735808802953194, 79.23191915058464 44.513177907033366, 80.13537933583446 43.16105418744966, 80.85462273342854 41.70257285592367, 81.37734288942212 40.162688932405224, 81.5625 39.36827914916011, 81.69459591702075 38.567750257762206, 81.80095352896302 36.9450466749183, 81.69459591702075 35.3223430920744, 81.37734288942212 33.72740441743138, 80.85462273342854 32.187520493912935, 80.13537933583446 30.729039162386947, 79.23191915058464 29.376915442803238, 78.15970063193521 28.15428454688341, 76.93706973601537 27.082066028233974, 75.58494601643167 26.178605842984155, 74.12646468490568 25.459362445390067, 72.58658076138724 24.936642289396488, 70.99164208674422 24.61938926179787, 69.9609375 24.5271348225978)
LINESTRING (69.9609375 24.5271348225978, 27.0703125 23.885837699862005)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Convert a Compound Rings to a Linear Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">CompoundRing compoundRing = <span class="keyword">new</span> CompoundRing([
        <span class="keyword">new</span> CircularString([
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
                [<span class="float">5.9765625</span>, <span class="float">40.17887331434696</span>],
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">22.5</span>, <span class="float">47.98992166741417</span>],
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
        ]),
        <span class="keyword">new</span> CircularString([
                [<span class="float">71.71875</span>, <span class="float">49.15296965617039</span>],
                [<span class="float">81.5625</span>, <span class="float">39.36827914916011</span>],
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>]

        ]),
        <span class="keyword">new</span> LineString([
                [<span class="float">69.9609375</span>, <span class="float">24.5271348225978</span>],
                [<span class="float">27.0703125</span>, <span class="float">23.885837699862005</span>],
        ])
])
Geometry linear = compoundRing.linear
println linear.wkt</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_compoundring_linear.png" alt="geometry compoundring linear">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>LINEARRING (27.0703125 23.885837699862005, 27.022331449414295 23.8488525605847, 25.524767337284196 22.84821221194479, 23.909405319245263 22.051603821364203, 22.203884687289108 21.472657579267334, 20.43738737228815 21.12127941637069, 18.64013863306764 21.00348151046186, 16.842889893847133 21.1212794163707, 15.076392578846175 21.472657579267356, 13.370871946890022 22.051603821364232, 11.755509928851094 22.848212211944833, 10.257945816720998 23.848852560584746, 8.903803347661494 25.036403633488835, 7.716252274757412 26.390546102548342, 6.715611926117504 27.88811021467844, 5.919003535536911 29.50347223271737, 5.340057293440038 31.20899286467353, 4.988679130543391 32.97549017967449, 4.8708812246345605 34.772738918894994, 4.988679130543396 36.5699876581155, 5.340057293440047 38.336484973116455, 5.9190035355369215 40.04200560507262, 5.9765625 40.17887331434696, 6.715611926117516 41.65736762311154, 7.71625227475743 43.15493173524164, 8.903803347661514 44.50907420430114, 10.257945816721021 45.69662527720523, 11.755509928851117 46.69726562584515, 13.37087194689005 47.49387401642574, 15.076392578846209 48.07282025852261, 16.84288989384717 48.42419842141926, 18.64013863306768 48.5419963273281, 20.437387372288192 48.42419842141926, 22.20388468728915 48.07282025852261, 22.5 47.98992166741417, 71.71875 49.15296965617039, 72.58658076138724 48.953451060440116, 74.12646468490568 48.43073090444654, 75.58494601643167 47.71148750685245, 76.93706973601537 46.80802732160263, 78.15970063193521 45.735808802953194, 79.23191915058464 44.513177907033366, 80.13537933583446 43.16105418744966, 80.85462273342854 41.70257285592367, 81.37734288942212 40.162688932405224, 81.5625 39.36827914916011, 81.69459591702075 38.567750257762206, 81.80095352896302 36.9450466749183, 81.69459591702075 35.3223430920744, 81.37734288942212 33.72740441743138, 80.85462273342854 32.187520493912935, 80.13537933583446 30.729039162386947, 79.23191915058464 29.376915442803238, 78.15970063193521 28.15428454688341, 76.93706973601537 27.082066028233974, 75.58494601643167 26.178605842984155, 74.12646468490568 25.459362445390067, 72.58658076138724 24.936642289396488, 70.99164208674422 24.61938926179787, 69.9609375 24.5271348225978, 27.0703125 23.885837699862005)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="processing-geometries"><a class="anchor" href="#processing-geometries"></a>Processing Geometries</h3>
<div class="listingblock">
<div class="title">Get the geometry type (Point, LineString, Polygon, ect&#8230;&#8203;) from a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geom = Geometry.fromString(<span class="string"><span class="delimiter">&quot;</span><span class="content">POINT (-124.80 48.92)</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> type = geom.geometryType
println type</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Point</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if one Geometry exactly equal another Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.915</span>, <span class="float">47.390</span>)
<span class="predefined-type">Point</span> point2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.915</span>, <span class="float">47.390</span>)
<span class="predefined-type">Point</span> point3 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.409</span>, <span class="float">47.413</span>)

<span class="type">boolean</span> does1equal2 = point1.equals(point2)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does </span><span class="inline"><span class="inline-delimiter">${</span>point1<span class="inline-delimiter">}</span></span><span class="content"> equal </span><span class="inline"><span class="inline-delimiter">${</span>point2<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>does1equal2 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="type">boolean</span> does1equal3 = point1.equals(point3)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does </span><span class="inline"><span class="inline-delimiter">${</span>point1<span class="inline-delimiter">}</span></span><span class="content"> equal </span><span class="inline"><span class="inline-delimiter">${</span>point3<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>does1equal3 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="type">boolean</span> does2equal3 = point2.equals(point3)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does </span><span class="inline"><span class="inline-delimiter">${</span>point2<span class="inline-delimiter">}</span></span><span class="content"> equal </span><span class="inline"><span class="inline-delimiter">${</span>point3<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>does2equal3 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Does POINT (-121.915 47.39) equal POINT (-121.915 47.39)? Yes
Does POINT (-121.915 47.39) equal POINT (-121.409 47.413)? No
Does POINT (-121.915 47.39) equal POINT (-121.409 47.413)? No</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if one Geometry equals another Geometry topologically.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.915</span>, <span class="float">47.390</span>)
<span class="predefined-type">Point</span> point2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.915</span>, <span class="float">47.390</span>)
<span class="predefined-type">Point</span> point3 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.409</span>, <span class="float">47.413</span>)

<span class="type">boolean</span> does1equal2 = point1.equalsTopo(point2)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does </span><span class="inline"><span class="inline-delimiter">${</span>point1<span class="inline-delimiter">}</span></span><span class="content"> equal </span><span class="inline"><span class="inline-delimiter">${</span>point2<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>does1equal2 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="type">boolean</span> does1equal3 = point1.equalsTopo(point3)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does </span><span class="inline"><span class="inline-delimiter">${</span>point1<span class="inline-delimiter">}</span></span><span class="content"> equal </span><span class="inline"><span class="inline-delimiter">${</span>point3<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>does1equal3 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="type">boolean</span> does2equal3 = point2.equalsTopo(point3)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does </span><span class="inline"><span class="inline-delimiter">${</span>point2<span class="inline-delimiter">}</span></span><span class="content"> equal </span><span class="inline"><span class="inline-delimiter">${</span>point3<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>does2equal3 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Does POINT (-121.915 47.39) equal POINT (-121.915 47.39)? Yes
Does POINT (-121.915 47.39) equal POINT (-121.409 47.413)? No
Does POINT (-121.915 47.39) equal POINT (-121.409 47.413)? No</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if one Geometry equals another Geometry when both are normalized.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geom1 = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON ((2 4, 1 3, 2 1, 6 1, 6 3, 4 4, 2 4))</span><span class="delimiter">&quot;</span></span>)
Geometry geom2 = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON ((1 3, 2 4, 4 4, 6 3, 6 1, 2 1, 1 3))</span><span class="delimiter">&quot;</span></span>)
Geometry geom3 = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON ((1 1, 1 4, 4 4, 4 1, 1 1))</span><span class="delimiter">&quot;</span></span>)

<span class="type">boolean</span> does1equal2 = geom1.equalsNorm(geom2)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does </span><span class="inline"><span class="inline-delimiter">${</span>geom1<span class="inline-delimiter">}</span></span><span class="content"> equal </span><span class="inline"><span class="inline-delimiter">${</span>geom2<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>does1equal2 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="type">boolean</span> does1equal3 = geom1.equalsNorm(geom3)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does </span><span class="inline"><span class="inline-delimiter">${</span>geom1<span class="inline-delimiter">}</span></span><span class="content"> equal </span><span class="inline"><span class="inline-delimiter">${</span>geom3<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>does1equal3 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="type">boolean</span> does2equal3 = geom2.equalsNorm(geom3)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does </span><span class="inline"><span class="inline-delimiter">${</span>geom2<span class="inline-delimiter">}</span></span><span class="content"> equal </span><span class="inline"><span class="inline-delimiter">${</span>geom3<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>does2equal3 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Does POLYGON ((2 4, 1 3, 2 1, 6 1, 6 3, 4 4, 2 4)) equal POLYGON ((1 3, 2 4, 4 4, 6 3, 6 1, 2 1, 1 3))? Yes
Does POLYGON ((2 4, 1 3, 2 1, 6 1, 6 3, 4 4, 2 4)) equal POLYGON ((1 1, 1 4, 4 4, 4 1, 1 1))? No
Does POLYGON ((1 3, 2 4, 4 4, 6 3, 6 1, 2 1, 1 3)) equal POLYGON ((1 1, 1 4, 4 4, 4 1, 1 1))? No</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Geometry by index in a GeometryCollection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint multiPoint = <span class="keyword">new</span> MultiPoint([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3876953125</span>, <span class="float">47.5820839916191</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.464599609375</span>, <span class="float">47.25686404408872</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48382568359374</span>, <span class="float">47.431803338643334</span>)
])
<span class="predefined-type">Point</span> p1 = multiPoint[<span class="integer">0</span>]
println p1

<span class="predefined-type">Point</span> p2 = multiPoint[<span class="integer">1</span>]
println p2

<span class="predefined-type">Point</span> p3 = multiPoint[<span class="integer">2</span>]
println p3</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-122.3876953125 47.5820839916191)
POINT (-122.464599609375 47.25686404408872)
POINT (-122.48382568359374 47.431803338643334)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Cast a Geometry to a Bounds or to a Point</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">121.915</span>, <span class="float">47.390</span>],
    [-<span class="float">122.640</span>, <span class="float">46.995</span>],
    [-<span class="float">121.739</span>, <span class="float">46.308</span>],
    [-<span class="float">121.168</span>, <span class="float">46.777</span>],
    [-<span class="float">120.981</span>, <span class="float">47.316</span>],
    [-<span class="float">121.409</span>, <span class="float">47.413</span>],
    [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

Bounds bounds = geometry <span class="keyword">as</span> Bounds
println bounds

<span class="predefined-type">Point</span> point = geometry <span class="keyword">as</span> <span class="predefined-type">Point</span>
println point</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(-122.64,46.308,-120.981,47.413)
POINT (-121.73789467295867 46.95085967283822)</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_astype.png" alt="geometry astype">
</div>
</div>
<div class="listingblock">
<div class="title">Get the area of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">124.80</span>, <span class="float">48.92</span>],
    [-<span class="float">126.21</span>, <span class="float">45.33</span>],
    [-<span class="float">114.60</span>, <span class="float">45.08</span>],
    [-<span class="float">115.31</span>, <span class="float">51.17</span>],
    [-<span class="float">121.99</span>, <span class="float">52.05</span>],
    [-<span class="float">124.80</span>, <span class="float">48.92</span>]
]])
<span class="type">double</span> area = polygon.area
println area</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>62.4026</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the length of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString lineString = <span class="keyword">new</span> LineString([-<span class="float">122.69</span>, <span class="float">49.61</span>], [-<span class="float">99.84</span>, <span class="float">45.33</span>])
<span class="type">double</span> length = lineString.length
println length</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>23.24738479915536</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Buffer a Point</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="integer">123</span>,<span class="integer">46</span>)
Geometry bufferedPoint = point.buffer(<span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_buffer_point.png" alt="geometry buffer point">
</div>
</div>
<div class="listingblock">
<div class="title">Buffer a LineString with a butt cap</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString line = <span class="keyword">new</span> LineString([
    [-<span class="float">122.563</span>, <span class="float">47.576</span>],
    [-<span class="float">112.0166</span>, <span class="float">46.589</span>],
    [-<span class="float">101.337</span>, <span class="float">47.606</span>]
])
Geometry bufferedLine1 = line.buffer(<span class="float">2.1</span>, <span class="integer">10</span>, Geometry.CAP_BUTT)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_buffer_line1.png" alt="geometry buffer line1">
</div>
</div>
<div class="listingblock">
<div class="title">Buffer a LineString with a round cap</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry bufferedLine2 = line.buffer(<span class="float">2.1</span>, <span class="integer">10</span>, Geometry.CAP_ROUND)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_buffer_line2.png" alt="geometry buffer line2">
</div>
</div>
<div class="listingblock">
<div class="title">Buffer a LineString with a square cap</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry bufferedLine3 = line.buffer(<span class="float">2.1</span>, <span class="integer">10</span>, Geometry.CAP_SQUARE)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_buffer_line3.png" alt="geometry buffer line3">
</div>
</div>
<div class="listingblock">
<div class="title">Buffer a LineString on the right side only</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString line = <span class="keyword">new</span> LineString([
        [-<span class="float">122.563</span>, <span class="float">47.576</span>],
        [-<span class="float">112.0166</span>, <span class="float">46.589</span>],
        [-<span class="float">101.337</span>, <span class="float">47.606</span>]
])
Geometry rightBufferedLine = line.singleSidedBuffer(<span class="float">1.5</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_buffer_line_singlesided1.png" alt="geometry buffer line singlesided1">
</div>
</div>
<div class="listingblock">
<div class="title">Buffer a LineString on the left side only</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry leftBufferedLine = line.singleSidedBuffer(-<span class="float">1.5</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_buffer_line_singlesided2.png" alt="geometry buffer line singlesided2">
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a Geometry contains another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.739</span>, <span class="float">48.151</span>],
    [-<span class="float">121.003</span>, <span class="float">47.070</span>],
    [-<span class="float">119.465</span>, <span class="float">47.137</span>],
    [-<span class="float">119.553</span>, <span class="float">46.581</span>],
    [-<span class="float">121.267</span>, <span class="float">46.513</span>],
    [-<span class="float">121.168</span>, <span class="float">45.706</span>],
    [-<span class="float">118.476</span>, <span class="float">45.951</span>],
    [-<span class="float">118.762</span>, <span class="float">48.195</span>],
    [-<span class="float">120.739</span>, <span class="float">48.151</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.212</span>, <span class="float">47.591</span>],
    [-<span class="float">119.663</span>, <span class="float">47.591</span>],
    [-<span class="float">119.663</span>, <span class="float">47.872</span>],
    [-<span class="float">120.212</span>, <span class="float">47.872</span>],
    [-<span class="float">120.212</span>, <span class="float">47.591</span>]
]])

<span class="type">boolean</span> contains = polygon1.contains(polygon2)
println contains</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_contains_1.png" alt="geometry contains 1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a Geometry is within another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.212</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.591</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.739</span>, <span class="float">48.151</span>],
        [-<span class="float">121.003</span>, <span class="float">47.070</span>],
        [-<span class="float">119.465</span>, <span class="float">47.137</span>],
        [-<span class="float">119.553</span>, <span class="float">46.581</span>],
        [-<span class="float">121.267</span>, <span class="float">46.513</span>],
        [-<span class="float">121.168</span>, <span class="float">45.706</span>],
        [-<span class="float">118.476</span>, <span class="float">45.951</span>],
        [-<span class="float">118.762</span>, <span class="float">48.195</span>],
        [-<span class="float">120.739</span>, <span class="float">48.151</span>]
]])

<span class="type">boolean</span> within = polygon1.within(polygon2)
println within</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_within_1.png" alt="geometry within 1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Polygon polygon3 = new Polygon([[
        [-120.563, 46.739],
        [-119.948, 46.739],
        [-119.948, 46.965],
        [-120.563, 46.965],
        [-120.563, 46.739]
]])

within = polygon1.within(polygon3)
println within</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_within_2.png" alt="geometry within 2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a Geometry touches another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString line1 = <span class="keyword">new</span> LineString([
    [-<span class="float">122.38651514053345</span>, <span class="float">47.58219978280006</span>],
    [-<span class="float">122.38651514053345</span>, <span class="float">47.58020234903306</span>]
])

LineString line2 = <span class="keyword">new</span> LineString([
    [-<span class="float">122.38651514053345</span>, <span class="float">47.58124449789785</span>],
    [-<span class="float">122.38333940505981</span>, <span class="float">47.58124449789785</span>]
])

<span class="type">boolean</span> touches = line1.touches(line2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_touches_12.png" alt="geometry touches 12">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>LineString line3 = new LineString([
    [-122.386257648468, 47.58183793450921],
    [-122.38348960876465, 47.5818668824645]
])

touches = line1.touches(line3)</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_touches_13.png" alt="geometry touches 13">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a convexhull Geometry around a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> MultiPoint(
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">119.882</span>, <span class="float">47.279</span>),
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.195</span>, <span class="float">46.316</span>),
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">111.796</span>, <span class="float">42.553</span>),
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">90.7031</span>, <span class="float">34.016</span>)
)
Geometry convexHull = geometry.convexHull</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_convexhull.png" alt="geometry convexhull">
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a Geometry covers another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.739</span>, <span class="float">48.151</span>],
        [-<span class="float">121.003</span>, <span class="float">47.070</span>],
        [-<span class="float">119.465</span>, <span class="float">47.137</span>],
        [-<span class="float">119.553</span>, <span class="float">46.581</span>],
        [-<span class="float">121.267</span>, <span class="float">46.513</span>],
        [-<span class="float">121.168</span>, <span class="float">45.706</span>],
        [-<span class="float">118.476</span>, <span class="float">45.951</span>],
        [-<span class="float">118.762</span>, <span class="float">48.195</span>],
        [-<span class="float">120.739</span>, <span class="float">48.151</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.212</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.591</span>]
]])

<span class="type">boolean</span> isCovered = polygon1.covers(polygon2)
println isCovered</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_covers_1.png" alt="geometry covers 1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Polygon polygon3 = new Polygon([[
        [-120.563, 46.739],
        [-119.948, 46.739],
        [-119.948, 46.965],
        [-120.563, 46.965],
        [-120.563, 46.739]
]])

isCovered = polygon1.covers(polygon3)
println isCovered</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_covers_2.png" alt="geometry covers 2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a Geometry is covered by another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.739</span>, <span class="float">48.151</span>],
        [-<span class="float">121.003</span>, <span class="float">47.070</span>],
        [-<span class="float">119.465</span>, <span class="float">47.137</span>],
        [-<span class="float">119.553</span>, <span class="float">46.581</span>],
        [-<span class="float">121.267</span>, <span class="float">46.513</span>],
        [-<span class="float">121.168</span>, <span class="float">45.706</span>],
        [-<span class="float">118.476</span>, <span class="float">45.951</span>],
        [-<span class="float">118.762</span>, <span class="float">48.195</span>],
        [-<span class="float">120.739</span>, <span class="float">48.151</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.212</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.591</span>]
]])

<span class="type">boolean</span> isCoveredBy = polygon2.coveredBy(polygon1)
println isCoveredBy</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_coveredby_1.png" alt="geometry coveredby 1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Polygon polygon3 = new Polygon([[
        [-120.563, 46.739],
        [-119.948, 46.739],
        [-119.948, 46.965],
        [-120.563, 46.965],
        [-120.563, 46.739]
]])

isCoveredBy = polygon3.coveredBy(polygon1)
println isCoveredBy</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_coveredby_2.png" alt="geometry coveredby 2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether one Geometry crosses another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString line1 = <span class="keyword">new</span> LineString([[-<span class="float">122.486</span>, <span class="float">47.256</span>], [-<span class="float">121.695</span>, <span class="float">46.822</span>]])
LineString line2 = <span class="keyword">new</span> LineString([[-<span class="float">122.387</span>, <span class="float">47.613</span>], [-<span class="float">121.750</span>, <span class="float">47.353</span>]])
LineString line3 = <span class="keyword">new</span> LineString([[-<span class="float">122.255</span>, <span class="float">47.368</span>], [-<span class="float">121.882</span>, <span class="float">47.746</span>]])

<span class="type">boolean</span> doesCross12 = line1.crosses(line2)
println doesCross12

<span class="type">boolean</span> doesCross13 = line1.crosses(line3)
println doesCross13

<span class="type">boolean</span> doesCross23 = line2.crosses(line3)
println doesCross23</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_crosses.png" alt="geometry crosses">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false
false
true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the difference between two Geometries</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">121.915</span>, <span class="float">47.390</span>],
        [-<span class="float">122.640</span>, <span class="float">46.995</span>],
        [-<span class="float">121.739</span>, <span class="float">46.308</span>],
        [-<span class="float">121.168</span>, <span class="float">46.777</span>],
        [-<span class="float">120.981</span>, <span class="float">47.316</span>],
        [-<span class="float">121.409</span>, <span class="float">47.413</span>],
        [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.794</span>, <span class="float">46.664</span>],
        [-<span class="float">121.541</span>, <span class="float">46.995</span>],
        [-<span class="float">122.200</span>, <span class="float">46.536</span>],
        [-<span class="float">121.937</span>, <span class="float">45.890</span>],
        [-<span class="float">120.959</span>, <span class="float">46.096</span>],
        [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

Geometry difference = polygon1.difference(polygon2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_difference.png" alt="geometry difference">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the symmetric difference between two Geometries</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">121.915</span>, <span class="float">47.390</span>],
        [-<span class="float">122.640</span>, <span class="float">46.995</span>],
        [-<span class="float">121.739</span>, <span class="float">46.308</span>],
        [-<span class="float">121.168</span>, <span class="float">46.777</span>],
        [-<span class="float">120.981</span>, <span class="float">47.316</span>],
        [-<span class="float">121.409</span>, <span class="float">47.413</span>],
        [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.794</span>, <span class="float">46.664</span>],
        [-<span class="float">121.541</span>, <span class="float">46.995</span>],
        [-<span class="float">122.200</span>, <span class="float">46.536</span>],
        [-<span class="float">121.937</span>, <span class="float">45.890</span>],
        [-<span class="float">120.959</span>, <span class="float">46.096</span>],
        [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

Geometry symDifference = polygon1.symDifference(polygon2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_symdifference.png" alt="geometry symdifference">
</div>
</div>
<div class="listingblock">
<div class="title">Check whether one Geometry is disjoint from another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">121.915</span>, <span class="float">47.390</span>],
        [-<span class="float">122.640</span>, <span class="float">46.995</span>],
        [-<span class="float">121.739</span>, <span class="float">46.308</span>],
        [-<span class="float">121.168</span>, <span class="float">46.777</span>],
        [-<span class="float">120.981</span>, <span class="float">47.316</span>],
        [-<span class="float">121.409</span>, <span class="float">47.413</span>],
        [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.794</span>, <span class="float">46.664</span>],
        [-<span class="float">121.541</span>, <span class="float">46.995</span>],
        [-<span class="float">122.200</span>, <span class="float">46.536</span>],
        [-<span class="float">121.937</span>, <span class="float">45.890</span>],
        [-<span class="float">120.959</span>, <span class="float">46.096</span>],
        [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

<span class="predefined-type">Polygon</span> polygon3 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.541</span>, <span class="float">47.376</span>],
        [-<span class="float">120.695</span>, <span class="float">47.047</span>],
        [-<span class="float">119.794</span>, <span class="float">46.830</span>],
        [-<span class="float">119.586</span>, <span class="float">47.331</span>],
        [-<span class="float">120.102</span>, <span class="float">47.509</span>],
        [-<span class="float">120.541</span>, <span class="float">47.376</span>]
]])

<span class="type">boolean</span> isDisjoint12 = polygon1.disjoint(polygon2)
println isDisjoint12

<span class="type">boolean</span> isDisjoint13 = polygon1.disjoint(polygon3)
println isDisjoint13

<span class="type">boolean</span> isDisjoint23 = polygon2.disjoint(polygon3)
println isDisjoint23</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_distjoint.png" alt="geometry distjoint">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false
true
true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the distance bewteen two Geometries</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.442</span>, <span class="float">47.256</span>)
<span class="predefined-type">Point</span> point2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.321</span>, <span class="float">47.613</span>)
<span class="type">double</span> distance = point1.distance(point2)
println distance</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_distance.png" alt="geometry distance">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0.37694827231332195</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get Bounds from a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="integer">123</span>,<span class="integer">46</span>)
<span class="predefined-type">Polygon</span> polygon = point.buffer(<span class="integer">2</span>)
Bounds bounds = polygon.bounds</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds.png" alt="geometry bounds">
</div>
</div>
<div class="listingblock">
<div class="title">Get the Boundary from a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([
    [
            [-<span class="float">121.915</span>, <span class="float">47.390</span>],
            [-<span class="float">122.640</span>, <span class="float">46.995</span>],
            [-<span class="float">121.739</span>, <span class="float">46.308</span>],
            [-<span class="float">121.168</span>, <span class="float">46.777</span>],
            [-<span class="float">120.981</span>, <span class="float">47.316</span>],
            [-<span class="float">121.409</span>, <span class="float">47.413</span>],
            [-<span class="float">121.915</span>, <span class="float">47.390</span>]
    ],
    [
            [-<span class="float">122.255</span>, <span class="float">46.935</span>],
            [-<span class="float">121.992</span>, <span class="float">46.935</span>],
            [-<span class="float">121.992</span>, <span class="float">47.100</span>],
            [-<span class="float">122.255</span>, <span class="float">47.100</span>],
            [-<span class="float">122.255</span>, <span class="float">46.935</span>]
    ],
    [
            [-<span class="float">121.717</span>, <span class="float">46.777</span>],
            [-<span class="float">121.398</span>, <span class="float">46.777</span>],
            [-<span class="float">121.398</span>, <span class="float">47.002</span>],
            [-<span class="float">121.717</span>, <span class="float">47.002</span>],
            [-<span class="float">121.717</span>, <span class="float">46.777</span>]
    ]
])
Geometry boundary = polygon.boundary</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_boundary.png" alt="geometry boundary">
</div>
</div>
<div class="listingblock">
<div class="title">Get the Centroid from a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
       [-<span class="float">118.937</span>, <span class="float">48.327</span>],
       [-<span class="float">121.157</span>, <span class="float">48.356</span>],
       [-<span class="float">121.684</span>, <span class="float">46.331</span>],
       [-<span class="float">119.355</span>, <span class="float">46.498</span>],
       [-<span class="float">119.355</span>, <span class="float">47.219</span>],
       [-<span class="float">120.629</span>, <span class="float">47.219</span>],
       [-<span class="float">120.607</span>, <span class="float">47.783</span>],
       [-<span class="float">119.201</span>, <span class="float">47.739</span>],
       [-<span class="float">118.937</span>, <span class="float">48.327</span>]
]])
Geometry centroid = polygon.centroid</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_centroid.png" alt="geometry centroid">
</div>
</div>
<div class="listingblock">
<div class="title">Get the Interior Point from a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
       [-<span class="float">118.937</span>, <span class="float">48.327</span>],
       [-<span class="float">121.157</span>, <span class="float">48.356</span>],
       [-<span class="float">121.684</span>, <span class="float">46.331</span>],
       [-<span class="float">119.355</span>, <span class="float">46.498</span>],
       [-<span class="float">119.355</span>, <span class="float">47.219</span>],
       [-<span class="float">120.629</span>, <span class="float">47.219</span>],
       [-<span class="float">120.607</span>, <span class="float">47.783</span>],
       [-<span class="float">119.201</span>, <span class="float">47.739</span>],
       [-<span class="float">118.937</span>, <span class="float">48.327</span>]
]])
Geometry interiorPoint = polygon.interiorPoint</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_interiorPoint.png" alt="geometry interiorPoint">
</div>
</div>
<div class="listingblock">
<div class="title">Get the number of Geometries</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint multiPoint = <span class="keyword">new</span> MultiPoint([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3876953125</span>, <span class="float">47.5820839916191</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.464599609375</span>, <span class="float">47.25686404408872</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48382568359374</span>, <span class="float">47.431803338643334</span>)
])
<span class="type">int</span> number = multiPoint.numGeometries
println number</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_getnumgeometries.png" alt="geometry getnumgeometries">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>3</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Geometry by index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint multiPoint = <span class="keyword">new</span> MultiPoint([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3876953125</span>, <span class="float">47.5820839916191</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.464599609375</span>, <span class="float">47.25686404408872</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48382568359374</span>, <span class="float">47.431803338643334</span>)
])
(<span class="integer">0</span>..&lt;multiPoint.getNumGeometries()).each { <span class="type">int</span> i -&gt;
    Geometry geometry = multiPoint.getGeometryN(i)
    println geometry.wkt
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_getgeometryn.png" alt="geometry getgeometryn">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-122.3876953125 47.5820839916191)
POINT (-122.464599609375 47.25686404408872)
POINT (-122.48382568359374 47.431803338643334)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a List of Geometries</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint multiPoint = <span class="keyword">new</span> MultiPoint([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3876953125</span>, <span class="float">47.5820839916191</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.464599609375</span>, <span class="float">47.25686404408872</span>),
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48382568359374</span>, <span class="float">47.431803338643334</span>)
])
<span class="predefined-type">List</span>&lt;Geometry&gt; geometries = multiPoint.geometries
geometries.each { Geometry geometry -&gt;
    println geometry.wkt
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_getgeometries.png" alt="geometry getgeometries">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-122.3876953125 47.5820839916191)
POINT (-122.464599609375 47.25686404408872)
POINT (-122.48382568359374 47.431803338643334)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the number of Points in a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.563</span>, <span class="float">46.739</span>],
    [-<span class="float">119.948</span>, <span class="float">46.739</span>],
    [-<span class="float">119.948</span>, <span class="float">46.965</span>],
    [-<span class="float">120.563</span>, <span class="float">46.965</span>],
    [-<span class="float">120.563</span>, <span class="float">46.739</span>]
]])
<span class="type">int</span> number = polygon.numPoints
println number</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_numpoints.png" alt="geometry numpoints">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>5</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Geometry of a String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = Geometry.createFromText(<span class="string"><span class="delimiter">&quot;</span><span class="content">Geo</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_createfromtext.png" alt="geometry createfromtext">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Sierpinski Carpet in a given Bounds and with a number of points</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="float">21.645</span>,<span class="float">36.957</span>,<span class="float">21.676</span>,<span class="float">36.970</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = Geometry.createSierpinskiCarpet(bounds, <span class="integer">50</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_sierpinskicarpet.png" alt="geometry sierpinskicarpet">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Kock Snowflake in a given Bounds and with a number of points</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="float">21.645</span>,<span class="float">36.957</span>,<span class="float">21.676</span>,<span class="float">36.970</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = Geometry.createKochSnowflake(bounds, <span class="integer">50</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_kochsnowflake.png" alt="geometry kochsnowflake">
</div>
</div>
<div class="listingblock">
<div class="title">Perform a cascaded union on a List of Polygons.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry randomPoints = Geometry.createRandomPoints(<span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).geometry, <span class="integer">100</span>)
<span class="predefined-type">List</span>&lt;Geometry&gt; bufferedPoints = randomPoints.collect{Geometry geom -&gt; geom.buffer(<span class="float">4.5</span>)}
Geometry unionedGeometry = Geometry.cascadedUnion(bufferedPoints)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_cascadeunion.png" alt="geometry cascadeunion">
</div>
</div>
<div class="listingblock">
<div class="title">Create a number of random points within a given Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>, -<span class="integer">90</span>, <span class="integer">180</span>, <span class="integer">90</span>).geometry
MultiPoint randomPoints = Geometry.createRandomPoints(geometry, <span class="integer">100</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_random_points.png" alt="geometry create random points">
</div>
</div>
<div class="listingblock">
<div class="title">Create a number of random points within a given Geometry where the points are contrained to the cells of a grid</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>, -<span class="integer">90</span>, <span class="integer">180</span>, <span class="integer">90</span>)
MultiPoint randomPoints = Geometry.createRandomPointsInGrid(bounds, <span class="integer">100</span>, <span class="predefined-constant">true</span>, <span class="float">0.5</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_random_points_ingrid.png" alt="geometry create random points ingrid">
</div>
</div>
<div class="listingblock">
<div class="title">Create a delaunay triangle diagram around a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry points = Geometry.createRandomPoints(<span class="keyword">new</span> Bounds(-<span class="integer">180</span>, -<span class="integer">90</span>, <span class="integer">180</span>, <span class="integer">90</span>).geometry, <span class="integer">100</span>)
Geometry delaunayTriangle = points.delaunayTriangleDiagram</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_delaunaytrianglediagram.png" alt="geometry delaunaytrianglediagram">
</div>
</div>
<div class="listingblock">
<div class="title">Create a voronoi diagram around a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry points = Geometry.createRandomPoints(<span class="keyword">new</span> Bounds(-<span class="integer">180</span>, -<span class="integer">90</span>, <span class="integer">180</span>, <span class="integer">90</span>).geometry, <span class="integer">100</span>)
Geometry voronoiDiagram = points.voronoiDiagram</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_voronoidiagram.png" alt="geometry voronoidiagram">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the union of two Geometries</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">121.915</span>, <span class="float">47.390</span>],
        [-<span class="float">122.640</span>, <span class="float">46.995</span>],
        [-<span class="float">121.739</span>, <span class="float">46.308</span>],
        [-<span class="float">121.168</span>, <span class="float">46.777</span>],
        [-<span class="float">120.981</span>, <span class="float">47.316</span>],
        [-<span class="float">121.409</span>, <span class="float">47.413</span>],
        [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.794</span>, <span class="float">46.664</span>],
        [-<span class="float">121.541</span>, <span class="float">46.995</span>],
        [-<span class="float">122.200</span>, <span class="float">46.536</span>],
        [-<span class="float">121.937</span>, <span class="float">45.890</span>],
        [-<span class="float">120.959</span>, <span class="float">46.096</span>],
        [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

Geometry union = polygon1.union(polygon2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_union.png" alt="geometry union">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the intersection between two Geometries</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">121.915</span>, <span class="float">47.390</span>],
        [-<span class="float">122.640</span>, <span class="float">46.995</span>],
        [-<span class="float">121.739</span>, <span class="float">46.308</span>],
        [-<span class="float">121.168</span>, <span class="float">46.777</span>],
        [-<span class="float">120.981</span>, <span class="float">47.316</span>],
        [-<span class="float">121.409</span>, <span class="float">47.413</span>],
        [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.794</span>, <span class="float">46.664</span>],
        [-<span class="float">121.541</span>, <span class="float">46.995</span>],
        [-<span class="float">122.200</span>, <span class="float">46.536</span>],
        [-<span class="float">121.937</span>, <span class="float">45.890</span>],
        [-<span class="float">120.959</span>, <span class="float">46.096</span>],
        [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

Geometry intersection = polygon1.intersection(polygon2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_intersection.png" alt="geometry intersection">
</div>
</div>
<div class="listingblock">
<div class="title">Check whether one Geometry intersects from another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">121.915</span>, <span class="float">47.390</span>],
        [-<span class="float">122.640</span>, <span class="float">46.995</span>],
        [-<span class="float">121.739</span>, <span class="float">46.308</span>],
        [-<span class="float">121.168</span>, <span class="float">46.777</span>],
        [-<span class="float">120.981</span>, <span class="float">47.316</span>],
        [-<span class="float">121.409</span>, <span class="float">47.413</span>],
        [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.794</span>, <span class="float">46.664</span>],
        [-<span class="float">121.541</span>, <span class="float">46.995</span>],
        [-<span class="float">122.200</span>, <span class="float">46.536</span>],
        [-<span class="float">121.937</span>, <span class="float">45.890</span>],
        [-<span class="float">120.959</span>, <span class="float">46.096</span>],
        [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

<span class="predefined-type">Polygon</span> polygon3 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.541</span>, <span class="float">47.376</span>],
        [-<span class="float">120.695</span>, <span class="float">47.047</span>],
        [-<span class="float">119.794</span>, <span class="float">46.830</span>],
        [-<span class="float">119.586</span>, <span class="float">47.331</span>],
        [-<span class="float">120.102</span>, <span class="float">47.509</span>],
        [-<span class="float">120.541</span>, <span class="float">47.376</span>]
]])

<span class="type">boolean</span> does1intersect2 = polygon1.intersects(polygon2)
println does1intersect2

<span class="type">boolean</span> does1intersect3 = polygon1.intersects(polygon3)
println does1intersect3

<span class="type">boolean</span> does2intersect3 = polygon2.intersects(polygon3)
println does2intersect3</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_intersects.png" alt="geometry intersects">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true
false
false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether one Geometry overlaps from another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">121.915</span>, <span class="float">47.390</span>],
        [-<span class="float">122.640</span>, <span class="float">46.995</span>],
        [-<span class="float">121.739</span>, <span class="float">46.308</span>],
        [-<span class="float">121.168</span>, <span class="float">46.777</span>],
        [-<span class="float">120.981</span>, <span class="float">47.316</span>],
        [-<span class="float">121.409</span>, <span class="float">47.413</span>],
        [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.794</span>, <span class="float">46.664</span>],
        [-<span class="float">121.541</span>, <span class="float">46.995</span>],
        [-<span class="float">122.200</span>, <span class="float">46.536</span>],
        [-<span class="float">121.937</span>, <span class="float">45.890</span>],
        [-<span class="float">120.959</span>, <span class="float">46.096</span>],
        [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

<span class="predefined-type">Polygon</span> polygon3 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.541</span>, <span class="float">47.376</span>],
        [-<span class="float">120.695</span>, <span class="float">47.047</span>],
        [-<span class="float">119.794</span>, <span class="float">46.830</span>],
        [-<span class="float">119.586</span>, <span class="float">47.331</span>],
        [-<span class="float">120.102</span>, <span class="float">47.509</span>],
        [-<span class="float">120.541</span>, <span class="float">47.376</span>]
]])

<span class="type">boolean</span> does1overlap2 = polygon1.overlaps(polygon2)
println does1overlap2

<span class="type">boolean</span> does1overlap3 = polygon1.overlaps(polygon3)
println does1overlap3

<span class="type">boolean</span> does2overlap3 = polygon2.overlaps(polygon3)
println does2overlap3</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_overlaps.png" alt="geometry overlaps">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true
false
false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the octagonal envelope of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
    [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>],
    [-<span class="float">122.3712158203125</span>,  <span class="float">47.489368981370724</span>],
    [-<span class="float">122.33276367187499</span>, <span class="float">47.35371061951363</span>],
    [-<span class="float">122.11029052734374</span>, <span class="float">47.3704545156932</span>],
    [-<span class="float">122.08831787109375</span>, <span class="float">47.286681888764214</span>],
    [-<span class="float">122.28332519531249</span>, <span class="float">47.2270293988673</span>],
    [-<span class="float">122.2174072265625</span>,  <span class="float">47.154237057576594</span>],
    [-<span class="float">121.904296875</span>,      <span class="float">47.32579231609051</span>],
    [-<span class="float">122.06085205078125</span>, <span class="float">47.47823216312885</span>],
    [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>]
]])
Geometry octagonalEnvelope = geometry.octagonalEnvelope</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_octagonalEnvelope.png" alt="geometry octagonalEnvelope">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the minimum rectangle of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
  [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>],
  [-<span class="float">122.3712158203125</span>,  <span class="float">47.489368981370724</span>],
  [-<span class="float">122.33276367187499</span>, <span class="float">47.35371061951363</span>],
  [-<span class="float">122.11029052734374</span>, <span class="float">47.3704545156932</span>],
  [-<span class="float">122.08831787109375</span>, <span class="float">47.286681888764214</span>],
  [-<span class="float">122.28332519531249</span>, <span class="float">47.2270293988673</span>],
  [-<span class="float">122.2174072265625</span>,  <span class="float">47.154237057576594</span>],
  [-<span class="float">121.904296875</span>,      <span class="float">47.32579231609051</span>],
  [-<span class="float">122.06085205078125</span>, <span class="float">47.47823216312885</span>],
  [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>]
]])
Geometry minimumRectangle = geometry.minimumRectangle</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_minimumrectangle.png" alt="geometry minimumrectangle">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the minimum circle of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
  [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>],
  [-<span class="float">122.3712158203125</span>,  <span class="float">47.489368981370724</span>],
  [-<span class="float">122.33276367187499</span>, <span class="float">47.35371061951363</span>],
  [-<span class="float">122.11029052734374</span>, <span class="float">47.3704545156932</span>],
  [-<span class="float">122.08831787109375</span>, <span class="float">47.286681888764214</span>],
  [-<span class="float">122.28332519531249</span>, <span class="float">47.2270293988673</span>],
  [-<span class="float">122.2174072265625</span>,  <span class="float">47.154237057576594</span>],
  [-<span class="float">121.904296875</span>,      <span class="float">47.32579231609051</span>],
  [-<span class="float">122.06085205078125</span>, <span class="float">47.47823216312885</span>],
  [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>]
]])
Geometry minimumBoundingCircle = geometry.minimumBoundingCircle</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_minimumBoundingCircle.png" alt="geometry minimumBoundingCircle">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the minimum diameter of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
    [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>],
    [-<span class="float">122.3712158203125</span>,  <span class="float">47.489368981370724</span>],
    [-<span class="float">122.33276367187499</span>, <span class="float">47.35371061951363</span>],
    [-<span class="float">122.11029052734374</span>, <span class="float">47.3704545156932</span>],
    [-<span class="float">122.08831787109375</span>, <span class="float">47.286681888764214</span>],
    [-<span class="float">122.28332519531249</span>, <span class="float">47.2270293988673</span>],
    [-<span class="float">122.2174072265625</span>,  <span class="float">47.154237057576594</span>],
    [-<span class="float">121.904296875</span>,      <span class="float">47.32579231609051</span>],
    [-<span class="float">122.06085205078125</span>, <span class="float">47.47823216312885</span>],
    [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>]
]])
Geometry minimumDiameter = geometry.minimumDiameter</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_minimumDiameter.png" alt="geometry minimumDiameter">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the minimum clearance of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span> ([[
    [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>],
    [-<span class="float">122.3712158203125</span>,  <span class="float">47.489368981370724</span>],
    [-<span class="float">122.33276367187499</span>, <span class="float">47.35371061951363</span>],
    [-<span class="float">122.11029052734374</span>, <span class="float">47.3704545156932</span>],
    [-<span class="float">122.08831787109375</span>, <span class="float">47.286681888764214</span>],
    [-<span class="float">122.28332519531249</span>, <span class="float">47.2270293988673</span>],
    [-<span class="float">122.2174072265625</span>,  <span class="float">47.154237057576594</span>],
    [-<span class="float">121.904296875</span>,      <span class="float">47.32579231609051</span>],
    [-<span class="float">122.06085205078125</span>, <span class="float">47.47823216312885</span>],
    [-<span class="float">122.20367431640624</span>, <span class="float">47.543163654317304</span>]
]])
Geometry minimumClearance = geometry.minimumClearance</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_minimumClearance.png" alt="geometry minimumClearance">
</div>
</div>
<div class="listingblock">
<div class="title">Offset a LineString by a given distance. Positive distances will offset to the right. Negative distance will offset to the left.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">LineString line = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
LineString positive = line.offset(<span class="float">1.2</span>)
LineString negative = line.offset(-<span class="float">2.4</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_offset.png" alt="geometry offset">
</div>
</div>
<div class="listingblock">
<div class="title">Get the dimension of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POINT (-122.3437 47.7540)</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Point Dimension = </span><span class="inline"><span class="inline-delimiter">${</span>point.dimension<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

LineString lineString = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">LINESTRING (-122.525 47.256, -122.376 47.595)</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">LineString Dimension = </span><span class="inline"><span class="inline-delimiter">${</span>lineString.dimension<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="predefined-type">Polygon</span> polygon = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON ((-122.590 47.204, -122.365 47.204, -122.365 47.312, -122.590 47.312, -122.590 47.204))</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon Dimension = </span><span class="inline"><span class="inline-delimiter">${</span>polygon.dimension<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Point Dimension = 0
LineString Dimension = 1
Polygon Dimension = 2</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a Geometry is empty or not</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geom1 = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POINT EMPTY</span><span class="delimiter">&quot;</span></span>)
<span class="type">boolean</span> isGeom1Empty = geom1.empty
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is </span><span class="inline"><span class="inline-delimiter">${</span>geom1.wkt<span class="inline-delimiter">}</span></span><span class="content"> empty? </span><span class="inline"><span class="inline-delimiter">${</span>isGeom1Empty ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

Geometry geom2 = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POINT (-122.3437 47.7540)</span><span class="delimiter">&quot;</span></span>)
<span class="type">boolean</span> isGeom2Empty = geom2.empty
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is </span><span class="inline"><span class="inline-delimiter">${</span>geom2.wkt<span class="inline-delimiter">}</span></span><span class="content"> empty? </span><span class="inline"><span class="inline-delimiter">${</span>isGeom2Empty ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is POINT EMPTY empty? Yes
Is POINT (-122.3437 47.754) empty? No</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a Geometry is rectanglular</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geom1 = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON ((-122.590 47.204, -122.365 47.204, -122.365 47.312, -122.590 47.312, -122.590 47.204))</span><span class="delimiter">&quot;</span></span>)
<span class="type">boolean</span> isGeom1Rect = geom1.isRectangle()
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is the geometry a rectangle? </span><span class="inline"><span class="inline-delimiter">${</span>isGeom1Rect ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_isrectangle1.png" alt="geometry isrectangle1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is the geometry a rectangle? Yes</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Geometry geom2 = Geometry.fromWKT("POLYGON ((-122.360 47.215, -122.656 46.912, -121.838 46.931, -122.360 47.215))")
boolean isGeom2Rect = geom2.isRectangle()
println "Is the geometry a rectangle? ${isGeom2Rect ? 'Yes' : 'No'}"</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_isrectangle2.png" alt="geometry isrectangle2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is the geometry a rectangle? No</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a Geometry is simple</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geom1 = <span class="keyword">new</span> LineString(
        [-<span class="float">122.323</span>, <span class="float">47.599</span>],
        [-<span class="float">122.385</span>, <span class="float">47.581</span>]
)
<span class="type">boolean</span> isGeom1Simple = geom1.simple
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is the Geometry simple? </span><span class="inline"><span class="inline-delimiter">${</span>isGeom1Simple<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_issimple1.png" alt="geometry issimple1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is the Geometry simple? true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Geometry geom2 = new LineString(
        [-122.356, 47.537],
        [-122.295, 47.580],
        [-122.284, 47.532],
        [-122.353, 47.574]
)
boolean isGeom2Simple = geom2.simple
println "Is the Geometry simple? ${isGeom2Simple}"</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_issimple2.png" alt="geometry issimple2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is the Geometry simple? false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a Geometry is valid</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geom1 = <span class="keyword">new</span> LineString(
        [-<span class="float">122.323</span>, <span class="float">47.599</span>],
        [-<span class="float">122.385</span>, <span class="float">47.581</span>]
)
<span class="type">boolean</span> isGeom1Valid = geom1.valid
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is the Geometry valid? </span><span class="inline"><span class="inline-delimiter">${</span>isGeom1Valid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_isvalid1.png" alt="geometry isvalid1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is the Geometry valid? true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Geometry geom2 = new Polygon(new LinearRing([
    [48.16406, 42.29356],
    [35.15625, 25.79989],
    [64.33593, 24.52713],
    [26.71875, 39.09596],
    [48.16406, 42.29356],
]))
boolean isGeom2Valid = geom2.valid
println "Is the Geometry valid? ${isGeom2Valid}"
println geom2.validReason</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_isvalid2.png" alt="geometry isvalid2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is the Geometry valid? false
Self-intersection</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a Geometry is curved</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geom1 = <span class="keyword">new</span> CircularString([
        [-<span class="float">122.464599609375</span>, <span class="float">47.247542522268006</span>],
        [-<span class="float">122.03613281249999</span>, <span class="float">47.37789454155521</span>],
        [-<span class="float">122.37670898437499</span>, <span class="float">47.58393661978134</span>]
])

<span class="type">boolean</span> isGeom1Curved = geom1.curved
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is the Geometry valid? </span><span class="inline"><span class="inline-delimiter">${</span>isGeom1Curved<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_iscurved1.png" alt="geometry iscurved1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is the Geometry curved? true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Geometry geom2 = new LineString(
        [-122.323, 47.599],
        [-122.385, 47.581]
)
boolean isGeom2Curved = geom2.curved
println "Is the Geometry valid? ${isGeom2Curved}"</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_iscurved2.png" alt="geometry iscurved2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is the Geometry curved? false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a Geometry is within a given distance of another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geom1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">88.945</span>, <span class="float">41.771</span>)
Geometry geom2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">113.906</span>, <span class="float">37.160</span>)

<span class="type">double</span> distance1 = <span class="float">26.0</span>
<span class="type">boolean</span> isWithin1 = geom1.isWithinDistance(geom2, distance1)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is </span><span class="inline"><span class="inline-delimiter">${</span>geom1<span class="inline-delimiter">}</span></span><span class="content"> within </span><span class="inline"><span class="inline-delimiter">${</span>distance1<span class="inline-delimiter">}</span></span><span class="content"> of </span><span class="inline"><span class="inline-delimiter">${</span>geom2<span class="inline-delimiter">}</span></span><span class="content">? </span><span class="inline"><span class="inline-delimiter">${</span>isWithin1 ? <span class="string"><span class="delimiter">'</span><span class="content">Yes</span><span class="delimiter">'</span></span> : <span class="string"><span class="delimiter">'</span><span class="content">No</span><span class="delimiter">'</span></span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is POINT (-88.945 41.771) within 26.0 of POINT (-113.906 37.16)? Yes</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>double distance2 = 15.5
boolean isWithin2 = geom1.isWithinDistance(geom2, distance2)
println "Is ${geom1} within ${distance2} of ${geom2}? ${isWithin2 ? 'Yes' : 'No'}"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Is POINT (-88.945 41.771) within 15.5 of POINT (-113.906 37.16)? No</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Normalizing a Geometry changes the Geometry in place.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON((2 4, 1 3, 2 1, 6 1, 6 3, 4 4, 2 4))</span><span class="delimiter">&quot;</span></span>)
geometry.normalize()
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Normalized Geometry = </span><span class="inline"><span class="inline-delimiter">${</span>geometry<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_normalize.png" alt="geometry normalize">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Normalized Geometry = POLYGON ((1 3, 2 4, 4 4, 6 3, 6 1, 2 1, 1 3))</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculating a normalized Geometry from a Geometry does not change the original Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON((2 4, 1 3, 2 1, 6 1, 6 3, 4 4, 2 4))</span><span class="delimiter">&quot;</span></span>)
Geometry normalizedGeometry = geometry.norm
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Un-normalized Geometry = </span><span class="inline"><span class="inline-delimiter">${</span>geometry<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Normalized Geometry    = </span><span class="inline"><span class="inline-delimiter">${</span>normalizedGeometry<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_norm.png" alt="geometry norm">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Un-normalized Geometry = POLYGON ((2 4, 1 3, 2 1, 6 1, 6 3, 4 4, 2 4))
Normalized Geometry = POLYGON ((1 3, 2 4, 4 4, 6 3, 6 1, 2 1, 1 3))</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Smooth a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON((10 0, 10 20, 0 20, 0 30, 30 30, 30 20, 20 20, 20 0, 10 0))</span><span class="delimiter">&quot;</span></span>)
Geometry smoothed = geometry.smooth(<span class="float">0.75</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_smooth.png" alt="geometry smooth">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the DE-9IM Intersection Matrix between two geometries.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">121.915</span>, <span class="float">47.390</span>],
        [-<span class="float">122.640</span>, <span class="float">46.995</span>],
        [-<span class="float">121.739</span>, <span class="float">46.308</span>],
        [-<span class="float">121.168</span>, <span class="float">46.777</span>],
        [-<span class="float">120.981</span>, <span class="float">47.316</span>],
        [-<span class="float">121.409</span>, <span class="float">47.413</span>],
        [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.794</span>, <span class="float">46.664</span>],
        [-<span class="float">121.541</span>, <span class="float">46.995</span>],
        [-<span class="float">122.200</span>, <span class="float">46.536</span>],
        [-<span class="float">121.937</span>, <span class="float">45.890</span>],
        [-<span class="float">120.959</span>, <span class="float">46.096</span>],
        [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

IntersectionMatrix matrix = polygon1.relate(polygon2)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Intersection Matrix = </span><span class="inline"><span class="inline-delimiter">${</span>matrix<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Contains = </span><span class="inline"><span class="inline-delimiter">${</span>matrix.contains<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Covered By = </span><span class="inline"><span class="inline-delimiter">${</span>matrix.coveredBy<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Covers = </span><span class="inline"><span class="inline-delimiter">${</span>matrix.covers<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Disjoint = </span><span class="inline"><span class="inline-delimiter">${</span>matrix.disjoint<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Intersects = </span><span class="inline"><span class="inline-delimiter">${</span>matrix.intersects<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Within = </span><span class="inline"><span class="inline-delimiter">${</span>matrix.within<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_relateIntersectionMatrix.png" alt="geometry relateIntersectionMatrix">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Intersection Matrix = 212101212
Contains = false
Covered By = false
Covers = false
Disjoint = false
Intersects = true
Within = false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a Geometry relates to another Geometry according to the given DE-9IM Intersection Matrix string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">121.915</span>, <span class="float">47.390</span>],
        [-<span class="float">122.640</span>, <span class="float">46.995</span>],
        [-<span class="float">121.739</span>, <span class="float">46.308</span>],
        [-<span class="float">121.168</span>, <span class="float">46.777</span>],
        [-<span class="float">120.981</span>, <span class="float">47.316</span>],
        [-<span class="float">121.409</span>, <span class="float">47.413</span>],
        [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.794</span>, <span class="float">46.664</span>],
        [-<span class="float">121.541</span>, <span class="float">46.995</span>],
        [-<span class="float">122.200</span>, <span class="float">46.536</span>],
        [-<span class="float">121.937</span>, <span class="float">45.890</span>],
        [-<span class="float">120.959</span>, <span class="float">46.096</span>],
        [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

println polygon1.relate(polygon2, <span class="string"><span class="delimiter">&quot;</span><span class="content">212101212</span><span class="delimiter">&quot;</span></span>)
println polygon1.relate(polygon2, <span class="string"><span class="delimiter">&quot;</span><span class="content">111111111</span><span class="delimiter">&quot;</span></span>)
println polygon1.relate(polygon2, <span class="string"><span class="delimiter">&quot;</span><span class="content">222222222</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_relate.png" alt="geometry relate">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true
false
false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Densify a Geometry by adding points at a given interval.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString([
    [-<span class="float">122.28062152862547</span>, <span class="float">47.12986316579223</span>],
    [-<span class="float">122.2809863090515</span>, <span class="float">47.12935221617075</span>],
    [-<span class="float">122.2809863090515</span>, <span class="float">47.12786313499169</span>],
    [-<span class="float">122.28111505508421</span>, <span class="float">47.127731743474406</span>],
    [-<span class="float">122.28137254714966</span>, <span class="float">47.127673347140345</span>],
    [-<span class="float">122.28178024291992</span>, <span class="float">47.12768794622986</span>],
    [-<span class="float">122.28227376937865</span>, <span class="float">47.128067521151195</span>],
    [-<span class="float">122.28227376937865</span>, <span class="float">47.12906024275466</span>]
])
Geometry densified = geometry.densify(<span class="float">0.0001</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of points in original geometry = </span><span class="inline"><span class="inline-delimiter">${</span>geometry.numPoints<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of points in densified geometry = </span><span class="inline"><span class="inline-delimiter">${</span>densified.numPoints<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_densify_orig.png" alt="geometry densify orig">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_densify.png" alt="geometry densify">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># of points in original geometry = 8
# of points in densified geometry = 50</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Simplify a Geometry by removing points at a given interval.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString([
    [-<span class="float">123.59619140625001</span>, <span class="float">47.338822694822</span>],
    [-<span class="float">123.04687499999999</span>, <span class="float">47.010225655683485</span>],
    [-<span class="float">122.2119140625</span>, <span class="float">46.965259400349275</span>],
    [-<span class="float">121.201171875</span>, <span class="float">47.17477833929903</span>],
    [-<span class="float">120.87158203125</span>, <span class="float">47.487513008956554</span>],
    [-<span class="float">120.62988281249999</span>, <span class="float">48.31242790407178</span>],
    [-<span class="float">120.84960937499999</span>, <span class="float">48.647427805533546</span>],
    [-<span class="float">121.59667968749999</span>, <span class="float">48.850258199721495</span>],
    [-<span class="float">122.36572265625</span>, <span class="float">48.980216985374994</span>],
    [-<span class="float">123.134765625</span>, <span class="float">48.83579746243093</span>],
    [-<span class="float">123.3984375</span>, <span class="float">48.44377831058802</span>],
    [-<span class="float">123.59619140625001</span>, <span class="float">48.10743118848039</span>],
    [-<span class="float">123.85986328124999</span>, <span class="float">47.62097541515849</span>]
])
Geometry simplified = geometry.simplify(<span class="float">0.5</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of points in original geometry = </span><span class="inline"><span class="inline-delimiter">${</span>geometry.numPoints<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of points in simplified geometry = </span><span class="inline"><span class="inline-delimiter">${</span>simplified.numPoints<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_simplify_orig.png" alt="geometry simplify orig">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_simplify.png" alt="geometry simplify">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># of points in original geometry = 13
# of points in simplified geometry = 5</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Simplify a Geometry by removing points at a given interval but preserve the topological structure.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString([
        [-<span class="float">123.59619140625001</span>, <span class="float">47.338822694822</span>],
        [-<span class="float">123.04687499999999</span>, <span class="float">47.010225655683485</span>],
        [-<span class="float">122.2119140625</span>, <span class="float">46.965259400349275</span>],
        [-<span class="float">121.201171875</span>, <span class="float">47.17477833929903</span>],
        [-<span class="float">120.87158203125</span>, <span class="float">47.487513008956554</span>],
        [-<span class="float">120.62988281249999</span>, <span class="float">48.31242790407178</span>],
        [-<span class="float">120.84960937499999</span>, <span class="float">48.647427805533546</span>],
        [-<span class="float">121.59667968749999</span>, <span class="float">48.850258199721495</span>],
        [-<span class="float">122.36572265625</span>, <span class="float">48.980216985374994</span>],
        [-<span class="float">123.134765625</span>, <span class="float">48.83579746243093</span>],
        [-<span class="float">123.3984375</span>, <span class="float">48.44377831058802</span>],
        [-<span class="float">123.59619140625001</span>, <span class="float">48.10743118848039</span>],
        [-<span class="float">123.85986328124999</span>, <span class="float">47.62097541515849</span>]
])
Geometry simplified = geometry.simplifyPreservingTopology(<span class="float">0.1</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of points in original geometry = </span><span class="inline"><span class="inline-delimiter">${</span>geometry.numPoints<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of points in simplified geometry = </span><span class="inline"><span class="inline-delimiter">${</span>simplified.numPoints<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_simplifyPreservingTopology_orig.png" alt="geometry simplifyPreservingTopology orig">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_simplifyPreservingTopology.png" alt="geometry simplifyPreservingTopology">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># of points in original geometry = 13
# of points in simplified geometry = 11</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Translate or move a geometry a given distance along the x and y axis.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(<span class="keyword">new</span> LinearRing([
    [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>],
    [-<span class="float">122.76123046875</span>, <span class="float">46.9802523552188</span>],
    [-<span class="float">122.67333984374</span>, <span class="float">46.3014061543733</span>],
    [-<span class="float">121.00341796874</span>, <span class="float">46.3772542051002</span>],
    [-<span class="float">121.22314453124</span>, <span class="float">47.1448974855539</span>],
    [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>]
]))
Geometry translatedGeometry = geometry.translate(<span class="float">2.1</span>, <span class="float">3.2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_translate.png" alt="geometry translate">
</div>
</div>
<div class="listingblock">
<div class="title">Scale a geometry a given amount in an x and y direction around the origin</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(<span class="keyword">new</span> LinearRing([
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>],
        [-<span class="float">122.76123046875</span>, <span class="float">46.9802523552188</span>],
        [-<span class="float">122.67333984374</span>, <span class="float">46.3014061543733</span>],
        [-<span class="float">121.00341796874</span>, <span class="float">46.3772542051002</span>],
        [-<span class="float">121.22314453124</span>, <span class="float">47.1448974855539</span>],
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>]
]))
Geometry scaledGeometry = geometry.scale(<span class="float">1.1</span>,<span class="float">1.2</span>)
println scaledGeometry</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_scalexy.png" alt="geometry scalexy">
</div>
</div>
<div class="listingblock">
<div class="title">Scale a geometry a given amount in an x and y direction around a point</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(<span class="keyword">new</span> LinearRing([
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>],
        [-<span class="float">122.76123046875</span>, <span class="float">46.9802523552188</span>],
        [-<span class="float">122.67333984374</span>, <span class="float">46.3014061543733</span>],
        [-<span class="float">121.00341796874</span>, <span class="float">46.3772542051002</span>],
        [-<span class="float">121.22314453124</span>, <span class="float">47.1448974855539</span>],
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>]
]))
<span class="predefined-type">Point</span> centroid = geometry.centroid
Geometry scaledGeometry = geometry.scale(<span class="float">1.1</span>, <span class="float">1.1</span>, centroid.x, centroid.y)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_scalexy_around_point.png" alt="geometry scalexy around point">
</div>
</div>
<div class="listingblock">
<div class="title">Rotate a Geometry around it&#8217;s origin by a given angle theta (in radians).</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(<span class="keyword">new</span> LinearRing([
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>],
        [-<span class="float">122.76123046875</span>, <span class="float">46.9802523552188</span>],
        [-<span class="float">122.67333984374</span>, <span class="float">46.3014061543733</span>],
        [-<span class="float">121.00341796874</span>, <span class="float">46.3772542051002</span>],
        [-<span class="float">121.22314453124</span>, <span class="float">47.1448974855539</span>],
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>]
]))
Geometry theta = geometry.rotate(<span class="predefined-type">Math</span>.toRadians(<span class="integer">45</span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_rotate_theta1.png" alt="geometry rotate theta1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_rotate_theta2.png" alt="geometry rotate theta2">
</div>
</div>
<div class="listingblock">
<div class="title">Rotate a Geometry around an XY coordinate by a given angle theta (in radians).</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry thetaXY = geometry.rotate(<span class="predefined-type">Math</span>.toRadians(<span class="integer">90</span>), geometry.centroid.x, geometry.centroid.y)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_rotate_thetaxy.png" alt="geometry rotate thetaxy">
</div>
</div>
<div class="listingblock">
<div class="title">Rotate a Geometry around it&#8217;s origin by a given angle sine and cosine (in radians).</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry sinCos = geometry.rotate(<span class="predefined-type">Math</span>.toRadians(<span class="integer">15</span>), <span class="predefined-type">Math</span>.toRadians(<span class="integer">35</span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_rotate_sincos1.png" alt="geometry rotate sincos1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_rotate_sincos2.png" alt="geometry rotate sincos2">
</div>
</div>
<div class="listingblock">
<div class="title">Rotate a Geometry around an XY coordinate by a given angle sine and cosine (in radians).</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry sinCosXY = geometry.rotate(<span class="predefined-type">Math</span>.toRadians(<span class="integer">15</span>), <span class="predefined-type">Math</span>.toRadians(<span class="integer">35</span>), geometry.centroid.x, geometry.centroid.y)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_rotate_sincosxy.png" alt="geometry rotate sincosxy">
</div>
</div>
<div class="listingblock">
<div class="title">Shear a Geometry around it&#8217;s origin by a given distance along the x and y axis.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(<span class="keyword">new</span> LinearRing([
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>],
        [-<span class="float">122.76123046875</span>, <span class="float">46.9802523552188</span>],
        [-<span class="float">122.67333984374</span>, <span class="float">46.3014061543733</span>],
        [-<span class="float">121.00341796874</span>, <span class="float">46.3772542051002</span>],
        [-<span class="float">121.22314453124</span>, <span class="float">47.1448974855539</span>],
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>]
]))
Geometry shearedGeometry = geometry.shear(<span class="float">0.1</span>,<span class="float">0.4</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_shear1.png" alt="geometry shear1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_shear2.png" alt="geometry shear2">
</div>
</div>
<div class="listingblock">
<div class="title">Reflect a Geometry around an XY coordinate for given distance along the x and y axis</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>(<span class="keyword">new</span> LinearRing([
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>],
        [-<span class="float">122.76123046875</span>, <span class="float">46.9802523552188</span>],
        [-<span class="float">122.67333984374</span>, <span class="float">46.3014061543733</span>],
        [-<span class="float">121.00341796874</span>, <span class="float">46.3772542051002</span>],
        [-<span class="float">121.22314453124</span>, <span class="float">47.1448974855539</span>],
        [-<span class="float">121.83837890625</span>, <span class="float">47.5913464767971</span>]
]))
<span class="predefined-type">Point</span> centroid = geometry.centroid
Geometry reflectedGeometry = geometry.reflect(<span class="float">0.1</span>,<span class="float">0.4</span>, centroid.x, centroid.y)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_reflect.png" alt="geometry reflect">
</div>
</div>
<div class="listingblock">
<div class="title">Reflect a Geometry around the origin for given distance along the x and y axis</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry reflectedAroundOrigin = geometry.reflect(<span class="float">0.5</span>, <span class="float">0.34</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_reflect2.png" alt="geometry reflect2">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_reflected2.png" alt="geometry reflected2">
</div>
</div>
<div class="listingblock">
<div class="title">Reduce the precision of a Geometry&#8217;s coordinates.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry g1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="float">5.19775390625</span>, <span class="float">51.07421875</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original Geometry: </span><span class="inline"><span class="inline-delimiter">${</span>g1.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

Geometry g2 = g1.reducePrecision()
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Floating Point Geometry: </span><span class="inline"><span class="inline-delimiter">${</span>g2.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

Geometry g3 = g1.reducePrecision(<span class="string"><span class="delimiter">&quot;</span><span class="content">fixed</span><span class="delimiter">&quot;</span></span>, <span class="key">scale</span>: <span class="integer">100</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Fixed Point Geometry: </span><span class="inline"><span class="inline-delimiter">${</span>g3.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

Geometry g4 = g1.reducePrecision(<span class="string"><span class="delimiter">&quot;</span><span class="content">floating_single</span><span class="delimiter">&quot;</span></span>, <span class="key">pointwise</span>: <span class="predefined-constant">true</span>, <span class="key">removecollapsed</span>: <span class="predefined-constant">true</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Floating Point Single Geometry: </span><span class="inline"><span class="inline-delimiter">${</span>g4.wkt<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Original Geometry: POINT (5.19775390625 51.07421875)
Floating Point Geometry: POINT (5.19775390625 51.07421875)
Fixed Point Geometry: POINT (5.2 51.07)
Floating Point Single Geometry: POINT (5.19775390625 51.07421875)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find the nearest points in one Geometry to another</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry point = <span class="keyword">new</span> <span class="predefined-type">Point</span>( -<span class="float">122.3845276236534</span>, <span class="float">47.58285653105873</span>)
Geometry polygon = Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON ((-122.3848307132721 47.58285110342092, </span><span class="delimiter">&quot;</span></span> +
        <span class="string"><span class="delimiter">&quot;</span><span class="content">-122.38484144210814 47.58255620092149, -122.38469392061235 47.582558010144346, </span><span class="delimiter">&quot;</span></span> +
        <span class="string"><span class="delimiter">&quot;</span><span class="content">-122.3846912384033 47.5825797208137, -122.38460808992384 47.58258695770149, </span><span class="delimiter">&quot;</span></span> +
        <span class="string"><span class="delimiter">&quot;</span><span class="content">-122.38460808992384 47.582628569786834, -122.38458126783371 47.58263037900717, </span><span class="delimiter">&quot;</span></span> +
        <span class="string"><span class="delimiter">&quot;</span><span class="content">-122.38458126783371 47.58277330721735, -122.38460540771483 47.58277149800195, </span><span class="delimiter">&quot;</span></span> +
        <span class="string"><span class="delimiter">&quot;</span><span class="content">-122.38460540771483 47.582805873084084, -122.38467246294022 47.5828131099406, </span><span class="delimiter">&quot;</span></span> +
        <span class="string"><span class="delimiter">&quot;</span><span class="content">-122.38467246294022 47.58285110342092, -122.3848307132721 47.58285110342092))</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Point</span>&gt; nearestPoints = polygon.getNearestPoints(point)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_nearestpoints.png" alt="geometry nearestpoints">
</div>
</div>
<div class="listingblock">
<div class="title">Convert a Geometry to a PreparedGeometry for more effecient spatial queries.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
     [-<span class="float">121.915</span>, <span class="float">47.390</span>],
     [-<span class="float">122.640</span>, <span class="float">46.995</span>],
     [-<span class="float">121.739</span>, <span class="float">46.308</span>],
     [-<span class="float">121.168</span>, <span class="float">46.777</span>],
     [-<span class="float">120.981</span>, <span class="float">47.316</span>],
     [-<span class="float">121.409</span>, <span class="float">47.413</span>],
     [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])
PreparedGeometry preparedGeometry = geometry.prepare()

Closure timer = { Closure action -&gt;
    <span class="type">long</span> start = <span class="predefined-type">System</span>.nanoTime()
    action.call()
    <span class="type">long</span> end = <span class="predefined-type">System</span>.nanoTime()
    end - start
}

MultiPoint points = Geometry.createRandomPoints(<span class="keyword">new</span> Bounds(-<span class="integer">180</span>, -<span class="integer">90</span>, <span class="integer">180</span>, <span class="integer">90</span>).geometry, <span class="integer">100000</span>)


<span class="type">long</span> timeWithGeometry = timer({ -&gt;
    points.geometries.each { <span class="predefined-type">Point</span> point -&gt;
        geometry.contains(point)
    }
})
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Time with Geometry         = </span><span class="inline"><span class="inline-delimiter">${</span>timeWithGeometry<span class="inline-delimiter">}</span></span><span class="content"> nanoseconds</span><span class="delimiter">&quot;</span></span>

<span class="type">long</span> timeWithPreparedGeometry = timer({ -&gt;
    points.geometries.each { <span class="predefined-type">Point</span> point -&gt;
        preparedGeometry.contains(point)
    }
})

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Time with PreparedGeometry = </span><span class="inline"><span class="inline-delimiter">${</span>timeWithPreparedGeometry<span class="inline-delimiter">}</span></span><span class="content"> nanoseconds</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Time with Geometry         = 369391678 nanoseconds
Time with PreparedGeometry = 336296504 nanoseconds</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Convert a Geometry to a PreparedGeometry using a static method for more effecient spatial queries.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
     [-<span class="float">121.915</span>, <span class="float">47.390</span>],
     [-<span class="float">122.640</span>, <span class="float">46.995</span>],
     [-<span class="float">121.739</span>, <span class="float">46.308</span>],
     [-<span class="float">121.168</span>, <span class="float">46.777</span>],
     [-<span class="float">120.981</span>, <span class="float">47.316</span>],
     [-<span class="float">121.409</span>, <span class="float">47.413</span>],
     [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]])
PreparedGeometry preparedGeometry = Geometry.prepare(geometry)

Closure timer = { Closure action -&gt;
    <span class="type">long</span> start = <span class="predefined-type">System</span>.nanoTime()
    action.call()
    <span class="type">long</span> end = <span class="predefined-type">System</span>.nanoTime()
    end - start
}

MultiPoint points = Geometry.createRandomPoints(<span class="keyword">new</span> Bounds(-<span class="integer">180</span>, -<span class="integer">90</span>, <span class="integer">180</span>, <span class="integer">90</span>).geometry, <span class="integer">100000</span>)


<span class="type">long</span> timeWithGeometry = timer({ -&gt;
    points.geometries.each { <span class="predefined-type">Point</span> point -&gt;
        geometry.contains(point)
    }
})
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Time with Geometry         = </span><span class="inline"><span class="inline-delimiter">${</span>timeWithGeometry<span class="inline-delimiter">}</span></span><span class="content"> nanoseconds</span><span class="delimiter">&quot;</span></span>

<span class="type">long</span> timeWithPreparedGeometry = timer({ -&gt;
    points.geometries.each { <span class="predefined-type">Point</span> point -&gt;
        preparedGeometry.contains(point)
    }
})

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Time with PreparedGeometry = </span><span class="inline"><span class="inline-delimiter">${</span>timeWithPreparedGeometry<span class="inline-delimiter">}</span></span><span class="content"> nanoseconds</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Time with Geometry         = 189918664 nanoseconds
Time with PreparedGeometry = 167820648 nanoseconds</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="prepared-geometry"><a class="anchor" href="#prepared-geometry"></a>Prepared Geometry</h3>
<div class="paragraph">
<p>PreparedGeometry are more effecient for spatial queries.</p>
</div>
<div class="listingblock">
<div class="title">You can create a PreparedGeometry by wrapping an existing Geometry.  You can then get the original Geometry with the geometry property.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
   [-<span class="float">120.739</span>, <span class="float">48.151</span>],
   [-<span class="float">121.003</span>, <span class="float">47.070</span>],
   [-<span class="float">119.465</span>, <span class="float">47.137</span>],
   [-<span class="float">119.553</span>, <span class="float">46.581</span>],
   [-<span class="float">121.267</span>, <span class="float">46.513</span>],
   [-<span class="float">121.168</span>, <span class="float">45.706</span>],
   [-<span class="float">118.476</span>, <span class="float">45.951</span>],
   [-<span class="float">118.762</span>, <span class="float">48.195</span>],
   [-<span class="float">120.739</span>, <span class="float">48.151</span>]
]])

PreparedGeometry preparedGeometry = <span class="keyword">new</span> PreparedGeometry(polygon)

Geometry geometry = preparedGeometry.geometry</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_create.png" alt="geometry preparedgeometry create">
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry contains another Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PreparedGeometry polygon1 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.739</span>, <span class="float">48.151</span>],
        [-<span class="float">121.003</span>, <span class="float">47.070</span>],
        [-<span class="float">119.465</span>, <span class="float">47.137</span>],
        [-<span class="float">119.553</span>, <span class="float">46.581</span>],
        [-<span class="float">121.267</span>, <span class="float">46.513</span>],
        [-<span class="float">121.168</span>, <span class="float">45.706</span>],
        [-<span class="float">118.476</span>, <span class="float">45.951</span>],
        [-<span class="float">118.762</span>, <span class="float">48.195</span>],
        [-<span class="float">120.739</span>, <span class="float">48.151</span>]
]]))

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.212</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.591</span>]
]])

<span class="type">boolean</span> contains = polygon1.contains(polygon2)
println contains</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_contains_1.png" alt="geometry preparedgeometry contains 1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_contains_2.png" alt="geometry preparedgeometry contains 2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry properly contains another Geometry.  This means that every point in the other geometry doesn&#8217;t intersect with the first.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PreparedGeometry polygon1 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">122.50064849853516</span>, <span class="float">47.22096718353454</span>],
    [-<span class="float">122.41928100585938</span>, <span class="float">47.22096718353454</span>],
    [-<span class="float">122.41928100585938</span>, <span class="float">47.277365616965646</span>],
    [-<span class="float">122.50064849853516</span>, <span class="float">47.277365616965646</span>],
    [-<span class="float">122.50064849853516</span>, <span class="float">47.22096718353454</span>]
]]))

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">122.44571685791014</span>, <span class="float">47.24031721435104</span>],
    [-<span class="float">122.42958068847656</span>, <span class="float">47.24031721435104</span>],
    [-<span class="float">122.42958068847656</span>, <span class="float">47.253135632244216</span>],
    [-<span class="float">122.44571685791014</span>, <span class="float">47.253135632244216</span>],
    [-<span class="float">122.44571685791014</span>, <span class="float">47.24031721435104</span>]
]])

<span class="type">boolean</span> contains = polygon1.containsProperly(polygon2)
println contains</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_containsproperly_1.png" alt="geometry preparedgeometry containsproperly 1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_containsproperly_2.png" alt="geometry preparedgeometry containsproperly 2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry is covered by another Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon1 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.739</span>, <span class="float">48.151</span>],
        [-<span class="float">121.003</span>, <span class="float">47.070</span>],
        [-<span class="float">119.465</span>, <span class="float">47.137</span>],
        [-<span class="float">119.553</span>, <span class="float">46.581</span>],
        [-<span class="float">121.267</span>, <span class="float">46.513</span>],
        [-<span class="float">121.168</span>, <span class="float">45.706</span>],
        [-<span class="float">118.476</span>, <span class="float">45.951</span>],
        [-<span class="float">118.762</span>, <span class="float">48.195</span>],
        [-<span class="float">120.739</span>, <span class="float">48.151</span>]
]])

PreparedGeometry polygon2 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.212</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.591</span>]
]]))

<span class="type">boolean</span> isCoveredBy = polygon2.coveredBy(polygon1)
println isCoveredBy</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_coveredby_1.png" alt="geometry preparedgeometry coveredby 1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_coveredby_2.png" alt="geometry preparedgeometry coveredby 2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry covers another Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PreparedGeometry polygon1 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.739</span>, <span class="float">48.151</span>],
        [-<span class="float">121.003</span>, <span class="float">47.070</span>],
        [-<span class="float">119.465</span>, <span class="float">47.137</span>],
        [-<span class="float">119.553</span>, <span class="float">46.581</span>],
        [-<span class="float">121.267</span>, <span class="float">46.513</span>],
        [-<span class="float">121.168</span>, <span class="float">45.706</span>],
        [-<span class="float">118.476</span>, <span class="float">45.951</span>],
        [-<span class="float">118.762</span>, <span class="float">48.195</span>],
        [-<span class="float">120.739</span>, <span class="float">48.151</span>]
]]))

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
        [-<span class="float">120.212</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.591</span>],
        [-<span class="float">119.663</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.872</span>],
        [-<span class="float">120.212</span>, <span class="float">47.591</span>]
]])

<span class="type">boolean</span> isCovered = polygon1.covers(polygon2)
println isCovered</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_covers_1.png" alt="geometry preparedgeometry covers 1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_covers_2.png" alt="geometry preparedgeometry covers 2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry crosses another Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PreparedGeometry line1 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> LineString([[-<span class="float">122.387</span>, <span class="float">47.613</span>], [-<span class="float">121.750</span>, <span class="float">47.353</span>]]))
LineString line2 = <span class="keyword">new</span> LineString([[-<span class="float">122.255</span>, <span class="float">47.368</span>], [-<span class="float">121.882</span>, <span class="float">47.746</span>]])
LineString line3 = <span class="keyword">new</span> LineString([[-<span class="float">122.486</span>, <span class="float">47.256</span>], [-<span class="float">121.695</span>, <span class="float">46.822</span>]])

<span class="type">boolean</span> doesCross12 = line1.crosses(line2)
println doesCross12

<span class="type">boolean</span> doesCross13 = line1.crosses(line3)
println doesCross13</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_crosses.png" alt="geometry preparedgeometry crosses">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true
false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry is disjoint from another Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PreparedGeometry polygon1 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">121.915</span>, <span class="float">47.390</span>],
    [-<span class="float">122.640</span>, <span class="float">46.995</span>],
    [-<span class="float">121.739</span>, <span class="float">46.308</span>],
    [-<span class="float">121.168</span>, <span class="float">46.777</span>],
    [-<span class="float">120.981</span>, <span class="float">47.316</span>],
    [-<span class="float">121.409</span>, <span class="float">47.413</span>],
    [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]]))

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.794</span>, <span class="float">46.664</span>],
    [-<span class="float">121.541</span>, <span class="float">46.995</span>],
    [-<span class="float">122.200</span>, <span class="float">46.536</span>],
    [-<span class="float">121.937</span>, <span class="float">45.890</span>],
    [-<span class="float">120.959</span>, <span class="float">46.096</span>],
    [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

<span class="predefined-type">Polygon</span> polygon3 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.541</span>, <span class="float">47.376</span>],
    [-<span class="float">120.695</span>, <span class="float">47.047</span>],
    [-<span class="float">119.794</span>, <span class="float">46.830</span>],
    [-<span class="float">119.586</span>, <span class="float">47.331</span>],
    [-<span class="float">120.102</span>, <span class="float">47.509</span>],
    [-<span class="float">120.541</span>, <span class="float">47.376</span>]
]])

<span class="type">boolean</span> isDisjoint12 = polygon1.disjoint(polygon2)
println isDisjoint12

<span class="type">boolean</span> isDisjoint13 = polygon1.disjoint(polygon3)
println isDisjoint13</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_disjoint.png" alt="geometry preparedgeometry disjoint">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false
true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry intersects another Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PreparedGeometry polygon1 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">121.915</span>, <span class="float">47.390</span>],
    [-<span class="float">122.640</span>, <span class="float">46.995</span>],
    [-<span class="float">121.739</span>, <span class="float">46.308</span>],
    [-<span class="float">121.168</span>, <span class="float">46.777</span>],
    [-<span class="float">120.981</span>, <span class="float">47.316</span>],
    [-<span class="float">121.409</span>, <span class="float">47.413</span>],
    [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]]))

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.794</span>, <span class="float">46.664</span>],
    [-<span class="float">121.541</span>, <span class="float">46.995</span>],
    [-<span class="float">122.200</span>, <span class="float">46.536</span>],
    [-<span class="float">121.937</span>, <span class="float">45.890</span>],
    [-<span class="float">120.959</span>, <span class="float">46.096</span>],
    [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

<span class="predefined-type">Polygon</span> polygon3 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.541</span>, <span class="float">47.376</span>],
    [-<span class="float">120.695</span>, <span class="float">47.047</span>],
    [-<span class="float">119.794</span>, <span class="float">46.830</span>],
    [-<span class="float">119.586</span>, <span class="float">47.331</span>],
    [-<span class="float">120.102</span>, <span class="float">47.509</span>],
    [-<span class="float">120.541</span>, <span class="float">47.376</span>]
]])

<span class="type">boolean</span> does1intersect2 = polygon1.intersects(polygon2)
println does1intersect2

<span class="type">boolean</span> does1intersect3 = polygon1.intersects(polygon3)
println does1intersect3</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_intersects.png" alt="geometry preparedgeometry intersects">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true
false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry overlaps another Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PreparedGeometry polygon1 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">121.915</span>, <span class="float">47.390</span>],
    [-<span class="float">122.640</span>, <span class="float">46.995</span>],
    [-<span class="float">121.739</span>, <span class="float">46.308</span>],
    [-<span class="float">121.168</span>, <span class="float">46.777</span>],
    [-<span class="float">120.981</span>, <span class="float">47.316</span>],
    [-<span class="float">121.409</span>, <span class="float">47.413</span>],
    [-<span class="float">121.915</span>, <span class="float">47.390</span>]
]]))

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.794</span>, <span class="float">46.664</span>],
    [-<span class="float">121.541</span>, <span class="float">46.995</span>],
    [-<span class="float">122.200</span>, <span class="float">46.536</span>],
    [-<span class="float">121.937</span>, <span class="float">45.890</span>],
    [-<span class="float">120.959</span>, <span class="float">46.096</span>],
    [-<span class="float">120.794</span>, <span class="float">46.664</span>]
]])

<span class="predefined-type">Polygon</span> polygon3 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.541</span>, <span class="float">47.376</span>],
    [-<span class="float">120.695</span>, <span class="float">47.047</span>],
    [-<span class="float">119.794</span>, <span class="float">46.830</span>],
    [-<span class="float">119.586</span>, <span class="float">47.331</span>],
    [-<span class="float">120.102</span>, <span class="float">47.509</span>],
    [-<span class="float">120.541</span>, <span class="float">47.376</span>]
]])

<span class="type">boolean</span> does1overlap2 = polygon1.overlaps(polygon2)
println does1overlap2

<span class="type">boolean</span> does1overlap3 = polygon1.overlaps(polygon3)
println does1overlap3</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_overlaps.png" alt="geometry preparedgeometry overlaps">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true
false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry touches another Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PreparedGeometry line1 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> LineString([
    [-<span class="float">122.38651514053345</span>, <span class="float">47.58219978280006</span>],
    [-<span class="float">122.38651514053345</span>, <span class="float">47.58020234903306</span>]
]))

LineString line2 = <span class="keyword">new</span> LineString([
    [-<span class="float">122.38651514053345</span>, <span class="float">47.58124449789785</span>],
    [-<span class="float">122.38333940505981</span>, <span class="float">47.58124449789785</span>]
])

<span class="type">boolean</span> touches = line1.touches(line2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_touches_12.png" alt="geometry preparedgeometry touches 12">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>LineString line3 = new LineString([
    [-122.386257648468, 47.58183793450921],
    [-122.38348960876465, 47.5818668824645]
])

touches = line1.touches(line3)</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_touches_13.png" alt="geometry preparedgeometry touches 13">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a PreparedGeometry is within another Geometry.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PreparedGeometry polygon1 = <span class="keyword">new</span> PreparedGeometry(<span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.212</span>, <span class="float">47.591</span>],
    [-<span class="float">119.663</span>, <span class="float">47.591</span>],
    [-<span class="float">119.663</span>, <span class="float">47.872</span>],
    [-<span class="float">120.212</span>, <span class="float">47.872</span>],
    [-<span class="float">120.212</span>, <span class="float">47.591</span>]
]]))

<span class="predefined-type">Polygon</span> polygon2 = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
    [-<span class="float">120.739</span>, <span class="float">48.151</span>],
    [-<span class="float">121.003</span>, <span class="float">47.070</span>],
    [-<span class="float">119.465</span>, <span class="float">47.137</span>],
    [-<span class="float">119.553</span>, <span class="float">46.581</span>],
    [-<span class="float">121.267</span>, <span class="float">46.513</span>],
    [-<span class="float">121.168</span>, <span class="float">45.706</span>],
    [-<span class="float">118.476</span>, <span class="float">45.951</span>],
    [-<span class="float">118.762</span>, <span class="float">48.195</span>],
    [-<span class="float">120.739</span>, <span class="float">48.151</span>]
]])

<span class="type">boolean</span> within = polygon1.within(polygon2)
println within</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_within_1.png" alt="geometry preparedgeometry within 1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Polygon polygon3 = new Polygon([[
    [-120.563, 46.739],
    [-119.948, 46.739],
    [-119.948, 46.965],
    [-120.563, 46.965],
    [-120.563, 46.739]
]])

within = polygon1.within(polygon3)
println within</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_preparedgeometry_within_2.png" alt="geometry preparedgeometry within 2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reading-and-writing-geometries"><a class="anchor" href="#reading-and-writing-geometries"></a>Reading and Writing Geometries</h3>
<div class="paragraph">
<p>The <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/geom/io/package-summary.html">geoscript.geom.io</a></strong> package
has several Readers and Writers for converting geoscript.geom.Geometry to and from strings.</p>
</div>
<div class="sect3">
<h4 id="readers-and-writers"><a class="anchor" href="#readers-and-writers"></a>Readers and Writers</h4>
<div class="listingblock">
<div class="title">Find all Geometry Readers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Reader</span>&gt; readers = Readers.list()
readers.each { <span class="predefined-type">Reader</span> reader -&gt;
    println reader.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeobufReader
GeoJSONReader
GeoRSSReader
Gml2Reader
Gml3Reader
GpxReader
KmlReader
WkbReader
WktReader
GeoPackageReader
GooglePolylineEncoder
TWkbReader</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Geometry Reader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> wkt = <span class="string"><span class="delimiter">&quot;</span><span class="content">POINT (-123.15 46.237)</span><span class="delimiter">&quot;</span></span>
<span class="predefined-type">Reader</span> reader = Readers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">wkt</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = reader.read(wkt)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_find_reader.png" alt="geometry find reader">
</div>
</div>
<div class="listingblock">
<div class="title">Find all Geometry Writers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Writer</span>&gt; writers = Writers.list()
writers.each { <span class="predefined-type">Writer</span> writer -&gt;
    println writer.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeobufWriter
GeoJSONWriter
GeoRSSWriter
Gml2Writer
Gml3Writer
GpxWriter
KmlWriter
WkbWriter
WktWriter
GeoPackageWriter
GooglePolylineEncoder</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Geometry Writer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.45</span>, <span class="float">43.21</span>)
<span class="predefined-type">Writer</span> writer = Writers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">geojson</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> geojson = writer.write(geometry)
println geojson</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{"type":"Point","coordinates":[-122.45,43.21]}</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Geometry from a String.  The string will be parse by each Geometry Reader.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geom1 = Geometry.fromString(<span class="string"><span class="delimiter">'</span><span class="content">POINT (-123.15 46.237)</span><span class="delimiter">'</span></span>)
println geom1

Geometry geom2 = Geometry.fromString(<span class="string"><span class="delimiter">'</span><span class="content">{&quot;type&quot;:&quot;LineString&quot;,&quot;coordinates&quot;:[[3.198,43.164],[6.713,49.755],[9.702,42.592],[15.32,53.798]]}</span><span class="delimiter">'</span></span>)
println geom2


Geometry geom3 = Geometry.fromString(<span class="string"><span class="delimiter">'</span><span class="content">&lt;Point&gt;&lt;coordinates&gt;-123.15,46.237&lt;/coordinates&gt;&lt;/Point&gt;</span><span class="delimiter">'</span></span>)
println geom3</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-123.15 46.237)
LINESTRING (3.198 43.164, 6.713 49.755, 9.702 42.592, 15.32 53.798)
POINT (-123.15 46.237)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="wkb"><a class="anchor" href="#wkb"></a>WKB</h4>
<div class="listingblock">
<div class="title">Read a Geometry from WKB using the WkbReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> wkb = <span class="string"><span class="delimiter">&quot;</span><span class="content">0000000001C05EC9999999999A40471E5604189375</span><span class="delimiter">&quot;</span></span>
WkbReader reader = <span class="keyword">new</span> WkbReader()
Geometry geometry = reader.read(wkb)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_wkbreader.png" alt="geometry read wkbreader">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Geometry from WKB using the Geometry.fromWKB() static method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> wkb = <span class="string"><span class="delimiter">&quot;</span><span class="content">000000000200000004400995810624DD2F404594FDF3B645A2401ADA1CAC0831274048E0A3D70A3D714023676C8B43958140454BC6A7EF9DB2402EA3D70A3D70A4404AE624DD2F1AA0</span><span class="delimiter">&quot;</span></span>
Geometry geometry = Geometry.fromWKB(wkb)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geometryfromwkb.png" alt="geometry read geometryfromwkb">
</div>
</div>
<div class="listingblock">
<div class="title">Get the WKB of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
<span class="predefined-type">String</span> wkb = geometry.wkb
println wkb</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0000000001C05EC9999999999A40471E5604189375</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to  WKB using the WkbWriter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
WkbWriter writer = <span class="keyword">new</span> WkbWriter()
<span class="predefined-type">String</span> wkb = writer.write(geometry)
println wkb</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>000000000200000004400995810624DD2F404594FDF3B645A2401ADA1CAC0831274048E0A3D70A3D714023676C8B43958140454BC6A7EF9DB2402EA3D70A3D70A4404AE624DD2F1AA0</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="wkt"><a class="anchor" href="#wkt"></a>WKT</h4>
<div class="listingblock">
<div class="title">Read a Geometry from WKT using the WktReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> wkt = <span class="string"><span class="delimiter">&quot;</span><span class="content">POINT (-123.15 46.237)</span><span class="delimiter">&quot;</span></span>
WktReader reader = <span class="keyword">new</span> WktReader()
Geometry geometry = reader.read(wkt)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_wktreader.png" alt="geometry read wktreader">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Geometry from WKT using the Geometry.fromWKT() static method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> wkt = <span class="string"><span class="delimiter">&quot;</span><span class="content">LINESTRING (3.198 43.164, 6.7138 49.755, 9.702 42.592, 15.327 53.798)</span><span class="delimiter">&quot;</span></span>
Geometry geometry = Geometry.fromWKT(wkt)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geometryfromwkt.png" alt="geometry read geometryfromwkt">
</div>
</div>
<div class="listingblock">
<div class="title">Get the WKT of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
<span class="predefined-type">String</span> wkt = geometry.wkt
println wkt</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-123.15 46.237)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to  WKT using the WktWriter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
WktWriter writer = <span class="keyword">new</span> WktWriter()
<span class="predefined-type">String</span> wkt = writer.write(geometry)
println wkt</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>LINESTRING (3.198 43.164, 6.713 49.755, 9.702 42.592, 15.32 53.798)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="twkb"><a class="anchor" href="#twkb"></a>TWKB</h4>
<div class="listingblock">
<div class="title">Read a Geometry from TWKB hex encoded String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TWkbReader reader = <span class="keyword">new</span> TWkbReader()
Geometry geometry = reader.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">01000204</span><span class="delimiter">&quot;</span></span>)
println geometry.wkt</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (1 2)</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_from_twkb.png" alt="geometry read from twkb">
</div>
</div>
</div>
<div class="sect3">
<h4 id="geojson"><a class="anchor" href="#geojson"></a>GeoJSON</h4>
<div class="listingblock">
<div class="title">Read a Geometry from GeoJSON using the GeoJSONReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> json = <span class="string"><span class="delimiter">'</span><span class="content">{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-123.15,46.237]}</span><span class="delimiter">'</span></span>
GeoJSONReader reader = <span class="keyword">new</span> GeoJSONReader()
Geometry geometry = reader.read(json)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geojsonreader.png" alt="geometry read geojsonreader">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Geometry from GeoJSON using the Geometry.fromGeoJSON() static method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> json = <span class="string"><span class="delimiter">'</span><span class="content">{&quot;type&quot;:&quot;LineString&quot;,&quot;coordinates&quot;:[[3.198,43.164],[6.713,49.755],[9.702,42.592],[15.32,53.798]]}</span><span class="delimiter">'</span></span>
Geometry geometry = Geometry.fromGeoJSON(json)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geometryfromgeojson.png" alt="geometry read geometryfromgeojson">
</div>
</div>
<div class="listingblock">
<div class="title">Get the GeoJSON of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
<span class="predefined-type">String</span> json = geometry.geoJSON
println json</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{"type":"Point","coordinates":[-123.15,46.237]}</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to  GeoJSON using the GeoJSONWriter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
GeoJSONWriter writer = <span class="keyword">new</span> GeoJSONWriter()
<span class="predefined-type">String</span> json = writer.write(geometry)
println json</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{"type":"LineString","coordinates":[[3.198,43.164],[6.713,49.755],[9.702,42.592],[15.32,53.798]]}</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="geopackage"><a class="anchor" href="#geopackage"></a>GeoPackage</h4>
<div class="listingblock">
<div class="title">Read a Geometry from GeoPackage hex encoded string using the GeoPackageReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> str = <span class="string"><span class="delimiter">&quot;</span><span class="content">4750000200000000c05ec9999999999ac05ec9999999999a40471e560418937540471e56041893750000000001c05ec9999999999a40471e5604189375</span><span class="delimiter">&quot;</span></span>
GeoPackageReader reader = <span class="keyword">new</span> GeoPackageReader()
Geometry geometry = reader.read(str)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_from_geopackage_string.png" alt="geometry from geopackage string">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Geometry from GeoPackage bytes using the GeoPackageReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">byte</span><span class="type">[]</span> bytes = <span class="string"><span class="delimiter">&quot;</span><span class="content">4750000200000000c05ec9999999999ac05ec9999999999a40471e560418937540471e56041893750000000001c05ec9999999999a40471e5604189375</span><span class="delimiter">&quot;</span></span>.decodeHex()
GeoPackageReader reader = <span class="keyword">new</span> GeoPackageReader()
Geometry geometry = reader.read(bytes)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_from_geopackage_bytes.png" alt="geometry from geopackage bytes">
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to a GeoPackage hex encoded string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
GeoPackageWriter writer = <span class="keyword">new</span> GeoPackageWriter()
<span class="predefined-type">String</span> str = writer.write(geometry)
println str</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>4750000200000000c05ec9999999999ac05ec9999999999a40471e560418937540471e56041893750000000001c05ec9999999999a40471e5604189375</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to a GeoPackage byte array</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
GeoPackageWriter writer = <span class="keyword">new</span> GeoPackageWriter()
<span class="type">byte</span><span class="type">[]</span> bytes = writer.writeBytes(geometry)
println bytes.encodeHex()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>4750000200000000c05ec9999999999ac05ec9999999999a40471e560418937540471e56041893750000000001c05ec9999999999a40471e5604189375</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="kml"><a class="anchor" href="#kml"></a>KML</h4>
<div class="listingblock">
<div class="title">Read a Geometry from KML using the KmlReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> kml = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;Point&gt;&lt;coordinates&gt;-123.15,46.237&lt;/coordinates&gt;&lt;/Point&gt;</span><span class="delimiter">&quot;</span></span>
KmlReader reader = <span class="keyword">new</span> KmlReader()
Geometry geometry = reader.read(kml)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_kmlreader.png" alt="geometry read kmlreader">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Geometry from KML using the Geometry.fromKml() static method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> kml = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;LineString&gt;&lt;coordinates&gt;3.198,43.164 6.713,49.755 9.702,42.592 15.32,53.798&lt;/coordinates&gt;&lt;/LineString&gt;</span><span class="delimiter">&quot;</span></span>
Geometry geometry = Geometry.fromKml(kml)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geometryfromkml.png" alt="geometry read geometryfromkml">
</div>
</div>
<div class="listingblock">
<div class="title">Get the KML of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
<span class="predefined-type">String</span> kml = geometry.kml
println kml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;Point&gt;&lt;coordinates&gt;-123.15,46.237&lt;/coordinates&gt;&lt;/Point&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to KML using the KmlWriter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
KmlWriter writer = <span class="keyword">new</span> KmlWriter()
<span class="predefined-type">String</span> kml = writer.write(geometry)
println kml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;LineString&gt;&lt;coordinates&gt;3.198,43.164 6.713,49.755 9.702,42.592 15.32,53.798&lt;/coordinates&gt;&lt;/LineString&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="geobuf"><a class="anchor" href="#geobuf"></a>Geobuf</h4>
<div class="listingblock">
<div class="title">Read a Geometry from Geobuf using the GeobufReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> geobuf = <span class="string"><span class="delimiter">&quot;</span><span class="content">10021806320c08001a08dffab87590958c2c</span><span class="delimiter">&quot;</span></span>
GeobufReader reader = <span class="keyword">new</span> GeobufReader()
Geometry geometry = reader.read(geobuf)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geobufreader.png" alt="geometry read geobufreader">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Geometry from Geobuf using the Geometry.fromGeobuf() static method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> geobuf = <span class="string"><span class="delimiter">&quot;</span><span class="content">10021806322408021a20e0b08603c0859529f089ad03b0c8a40690efec02efb1ea06a0e5ad05e0f5d70a</span><span class="delimiter">&quot;</span></span>
Geometry geometry = Geometry.fromGeobuf(geobuf)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geometryfromgeobuf.png" alt="geometry read geometryfromgeobuf">
</div>
</div>
<div class="listingblock">
<div class="title">Get the Geobuf of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
<span class="predefined-type">String</span> geobuf = geometry.geobuf
println geobuf</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>10021806320c08001a08dffab87590958c2c</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to Geobuf using the GeobufWriter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
GeobufWriter writer = <span class="keyword">new</span> GeobufWriter()
<span class="predefined-type">String</span> geobuf = writer.write(geometry)
println geobuf</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>10021806322408021a20e0b08603c0859529f089ad03b0c8a40690efec02efb1ea06a0e5ad05e0f5d70a</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gml-2"><a class="anchor" href="#gml-2"></a>GML 2</h4>
<div class="listingblock">
<div class="title">Read a Geometry from GML2 using the Gml2Reader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> gml2 = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;gml:Point&gt;&lt;gml:coordinates&gt;-123.15,46.237&lt;/gml:coordinates&gt;&lt;/gml:Point&gt;</span><span class="delimiter">&quot;</span></span>
Gml2Reader reader = <span class="keyword">new</span> Gml2Reader()
Geometry geometry = reader.read(gml2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_gml2reader.png" alt="geometry read gml2reader">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Geometry from GML2 using the Geometry.fromGML2() static method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> gml2 = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;gml:LineString&gt;&lt;gml:coordinates&gt;3.198,43.164 6.713,49.755 9.702,42.592 15.32,53.798&lt;/gml:coordinates&gt;&lt;/gml:LineString&gt;</span><span class="delimiter">&quot;</span></span>
Geometry geometry = Geometry.fromGML2(gml2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geometryfromgml2.png" alt="geometry read geometryfromgml2">
</div>
</div>
<div class="listingblock">
<div class="title">Get the GML2 of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
<span class="predefined-type">String</span> gml2 = geometry.gml2
println gml2</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;gml:Point&gt;&lt;gml:coordinates&gt;-123.15,46.237&lt;/gml:coordinates&gt;&lt;/gml:Point&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to GML2 using the Gml2Writer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
Gml2Writer writer = <span class="keyword">new</span> Gml2Writer()
<span class="predefined-type">String</span> gml2 = writer.write(geometry)
println gml2</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;gml:LineString&gt;&lt;gml:coordinates&gt;3.198,43.164 6.713,49.755 9.702,42.592 15.32,53.798&lt;/gml:coordinates&gt;&lt;/gml:LineString&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gml-3"><a class="anchor" href="#gml-3"></a>GML 3</h4>
<div class="listingblock">
<div class="title">Read a Geometry from GML3 using the Gml3Reader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> gml3 = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;gml:Point&gt;&lt;gml:pos&gt;-123.15 46.237&lt;/gml:pos&gt;&lt;/gml:Point&gt;</span><span class="delimiter">&quot;</span></span>
Gml3Reader reader = <span class="keyword">new</span> Gml3Reader()
Geometry geometry = reader.read(gml3)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_gml3reader.png" alt="geometry read gml3reader">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Geometry from GML3 using the Geometry.fromGML3() static method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> gml3 = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;gml:LineString&gt;&lt;gml:posList&gt;3.198 43.164 6.713 49.755 9.702 42.592 15.32 53.798&lt;/gml:posList&gt;&lt;/gml:LineString&gt;</span><span class="delimiter">&quot;</span></span>
Geometry geometry = Geometry.fromGML3(gml3)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geometryfromgml3.png" alt="geometry read geometryfromgml3">
</div>
</div>
<div class="listingblock">
<div class="title">Get the GML3 of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
<span class="predefined-type">String</span> gml3 = geometry.gml3
println gml3</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;gml:Point&gt;&lt;gml:pos&gt;-123.15 46.237&lt;/gml:pos&gt;&lt;/gml:Point&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to GML3 using the Gml3Writer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
Gml3Writer writer = <span class="keyword">new</span> Gml3Writer()
<span class="predefined-type">String</span> gml3 = writer.write(geometry)
println gml3</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;gml:LineString&gt;&lt;gml:posList&gt;3.198 43.164 6.713 49.755 9.702 42.592 15.32 53.798&lt;/gml:posList&gt;&lt;/gml:LineString&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gpx"><a class="anchor" href="#gpx"></a>GPX</h4>
<div class="listingblock">
<div class="title">Read a Geometry from GPX using the GpxReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> gpx = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;wpt lat='46.237' lon='-123.15'/&gt;</span><span class="delimiter">&quot;</span></span>
GpxReader reader = <span class="keyword">new</span> GpxReader()
Geometry geometry = reader.read(gpx)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_gpxreader.png" alt="geometry read gpxreader">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Geometry from GPX using the Geometry.fromGPX() static method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> gpx = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;rte&gt;&lt;rtept lat='43.164' lon='3.198' /&gt;&lt;rtept lat='49.755' lon='6.713' /&gt;&lt;rtept lat='42.592' lon='9.702' /&gt;&lt;rtept lat='53.798' lon='15.32' /&gt;&lt;/rte&gt;</span><span class="delimiter">&quot;</span></span>
Geometry geometry = Geometry.fromGpx(gpx)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_geometryfromgpx.png" alt="geometry read geometryfromgpx">
</div>
</div>
<div class="listingblock">
<div class="title">Get the GPX of a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.15</span>, <span class="float">46.237</span>)
<span class="predefined-type">String</span> gpx = geometry.gpx
println gpx</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;wpt lat='46.237' lon='-123.15'/&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to GPX using the GpxWriter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
GpxWriter writer = <span class="keyword">new</span> GpxWriter()
<span class="predefined-type">String</span> gpx = writer.write(geometry)
println gpx</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;rte&gt;&lt;rtept lat='43.164' lon='3.198' /&gt;&lt;rtept lat='49.755' lon='6.713' /&gt;&lt;rtept lat='42.592' lon='9.702' /&gt;&lt;rtept lat='53.798' lon='15.32' /&gt;&lt;/rte&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="georss"><a class="anchor" href="#georss"></a>GeoRSS</h4>
<div class="listingblock">
<div class="title">Read a Geometry from GeoRSS using the GeoRSSReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> georss = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;georss:point&gt;46.237 -123.15&lt;/georss:point&gt;</span><span class="delimiter">&quot;</span></span>
GeoRSSReader reader = <span class="keyword">new</span> GeoRSSReader()
Geometry geometry = reader.read(georss)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_georssreader.png" alt="geometry read georssreader">
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to GeoRSS using the GeoRSSWriter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
GeoRSSWriter writer = <span class="keyword">new</span> GeoRSSWriter()
<span class="predefined-type">String</span> georss = writer.write(geometry)
println georss</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;georss:line&gt;43.164 3.198 49.755 6.713 42.592 9.702 53.798 15.32&lt;/georss:line&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="google-polyline"><a class="anchor" href="#google-polyline"></a>Google Polyline</h4>
<div class="listingblock">
<div class="title">Read a Geometry from a Google Polyline Encoded String using the GeoRSSReader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> str = <span class="string"><span class="delimiter">&quot;</span><span class="content">_p~iF~ps|U_ulLnnqC_mqNvxq`@</span><span class="delimiter">&quot;</span></span>
GooglePolylineEncoder encoder = <span class="keyword">new</span> GooglePolylineEncoder()
Geometry geometry = encoder.read(str)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_read_googlepolyline.png" alt="geometry read googlepolyline">
</div>
</div>
<div class="listingblock">
<div class="title">Write a Geometry to a Google Polyline Encoded String using the GeoRSSWriter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> LineString(
        [<span class="float">3.198</span>, <span class="float">43.164</span>],
        [<span class="float">6.713</span>, <span class="float">49.755</span>],
        [<span class="float">9.702</span>, <span class="float">42.592</span>],
        [<span class="float">15.32</span>, <span class="float">53.798</span>]
)
GooglePolylineEncoder encoder = <span class="keyword">new</span> GooglePolylineEncoder()
<span class="predefined-type">String</span> str = encoder.write(geometry)
println str</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>_nmfGoroRwhfg@womTv_vj@gxfQotkcAogha@</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bounds-recipes"><a class="anchor" href="#bounds-recipes"></a>Bounds Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Bounds class is in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/geom/package-summary.html">geoscript.geom</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="creating-bounds"><a class="anchor" href="#creating-bounds"></a>Creating Bounds</h3>
<div class="listingblock">
<div class="title">Create a Bounds from four coordinates (minx, miny, maxx, maxy) and a projection.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">127.265</span>, <span class="float">43.068</span>, -<span class="float">113.554</span>, <span class="float">50.289</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_bounds.png" alt="geometry create bounds">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Bounds from four coordinates (minx, miny, maxx, maxy) without a projection.  The projection can be set later.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">127.265</span>, <span class="float">43.068</span>, -<span class="float">113.554</span>, <span class="float">50.289</span>)
bounds.proj = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_bounds_no_proj.png" alt="geometry create bounds no proj">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Bounds from a string with commas delimiting minx, miny, maxx, maxy and projection values.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = Bounds.fromString(<span class="string"><span class="delimiter">&quot;</span><span class="content">-127.265,43.068,-113.554,50.289,EPSG:4326</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_bounds_fromstring_withcommas.png" alt="geometry create bounds fromstring withcommas">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Bounds from a string with spaces delimiting minx, miny, maxx, maxy and projection values.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = Bounds.fromString(<span class="string"><span class="delimiter">&quot;</span><span class="content">12.919921874999998 40.84706035607122 15.99609375 41.77131167976407 EPSG:4326</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_create_bounds_fromstring_withspaces.png" alt="geometry create bounds fromstring withspaces">
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-bounds-properties"><a class="anchor" href="#getting-bounds-properties"></a>Getting Bounds Properties</h3>
<div class="listingblock">
<div class="title">Create a Bounds and view it&#8217;s string representation</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">127.265</span>, <span class="float">43.068</span>, -<span class="float">113.554</span>, <span class="float">50.289</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> boundsStr = bounds.toString()
println boundsStr</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(-127.265,43.068,-113.554,50.289,EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the minimum x coordinate</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> minX = bounds.minX
println minX</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-127.265</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the minimum y coordinate</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> minY = bounds.minY
println minY</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>43.068</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the maximum x coordinate</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> maxX = bounds.maxX
println maxX</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-113.554</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the maximum y coordinate</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> maxY = bounds.maxY
println maxY</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>50.289</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Projection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection proj = bounds.proj
println proj.id</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>EPSG:4326</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the area</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> area = bounds.area
println area</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>99.00713100000004</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the width</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> width = bounds.width
println width</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>13.710999999999999</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the height</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> height = bounds.height
println height</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>7.221000000000004</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the aspect ratio</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> aspect = bounds.aspect
println aspect</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>1.8987674837280144</pre>
</div>
</div>
<div class="listingblock">
<div class="title">A Bounds is not a Geometry but you can get a Geometry from a Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">122.485</span>, <span class="float">47.246</span>, -<span class="float">122.452</span>, <span class="float">47.267</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = bounds.geometry</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_geometry.png" alt="geometry bounds geometry">
</div>
</div>
<div class="listingblock">
<div class="title">You can also get a Polygon from a Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">122.485</span>, <span class="float">47.246</span>, -<span class="float">122.452</span>, <span class="float">47.267</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Polygon</span> polygon = bounds.polygon</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_polygon.png" alt="geometry bounds polygon">
</div>
</div>
<div class="listingblock">
<div class="title">Get the four corners from a Bounds as a List of Points</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">122.485</span>, <span class="float">47.246</span>, -<span class="float">122.452</span>, <span class="float">47.267</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Point</span>&gt; points = bounds.corners</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_corners.png" alt="geometry bounds corners">
</div>
</div>
</div>
<div class="sect2">
<h3 id="processing-bounds"><a class="anchor" href="#processing-bounds"></a>Processing Bounds</h3>
<div class="listingblock">
<div class="title">Reproject a Bounds from one Projection to another.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">122.485</span>, <span class="float">47.246</span>, -<span class="float">122.452</span>, <span class="float">47.267</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
println bounds</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(-122.485,47.246,-122.452,47.267,EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds reprojectedBounds = bounds.reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:2927</span><span class="delimiter">&quot;</span></span>)
println reprojectedBounds</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(1147444.7684517875,703506.2231641772,1155828.1202425088,711367.9403610165,EPSG:2927)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Expand a Bounds by a given distance</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds1 = <span class="keyword">new</span> Bounds(-<span class="float">127.265</span>, <span class="float">43.068</span>, -<span class="float">113.554</span>, <span class="float">50.289</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Bounds bounds2 = <span class="keyword">new</span> Bounds(-<span class="float">127.265</span>, <span class="float">43.068</span>, -<span class="float">113.554</span>, <span class="float">50.289</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
bounds2.expandBy(<span class="float">10.1</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_expandby.png" alt="geometry bounds expandby">
</div>
</div>
<div class="listingblock">
<div class="title">Expand a Bounds to include another Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds1 = <span class="keyword">new</span> Bounds(<span class="float">8.4375</span>, <span class="float">37.996162679728116</span>, <span class="float">19.6875</span>, <span class="float">46.07323062540835</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Bounds bounds2 = <span class="keyword">new</span> Bounds(<span class="float">22.5</span>, <span class="float">31.952162238024975</span>, <span class="float">30.937499999999996</span>, <span class="float">37.43997405227057</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
bounds1.expand(bounds2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_expand.png" alt="geometry bounds expand">
</div>
</div>
<div class="listingblock">
<div class="title">Scale an existing Bounds some distance to create a new Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds1 = <span class="keyword">new</span> Bounds(-<span class="float">127.265</span>, <span class="float">43.068</span>, -<span class="float">113.554</span>, <span class="float">50.289</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Bounds bounds2 = bounds1.scale(<span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_scale.png" alt="geometry bounds scale">
</div>
</div>
<div class="listingblock">
<div class="title">Divide a Bounds into smaller tiles or Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">122.485</span>, <span class="float">47.246</span>, -<span class="float">122.452</span>, <span class="float">47.267</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;Bounds&gt; subBounds = bounds.tile(<span class="float">0.25</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_tile.png" alt="geometry bounds tile">
</div>
</div>
<div class="listingblock">
<div class="title">Calculate a quad tree for this Bounds between the start and stop levels. A Closure is called for each new Bounds generated.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>, -<span class="integer">90</span>, <span class="integer">180</span>, <span class="integer">90</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
bounds.quadTree(<span class="integer">0</span>,<span class="integer">2</span>) { Bounds b -&gt;
    println b
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(-180.0,-90.0,180.0,90.0,EPSG:4326)
(-180.0,-90.0,0.0,0.0,EPSG:4326)
(-180.0,0.0,0.0,90.0,EPSG:4326)
(0.0,-90.0,180.0,0.0,EPSG:4326)
(0.0,0.0,180.0,90.0,EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine whether a Bounds is empty or not. A Bounds is empty if it is null or it&#8217;s area is 0.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">10</span>,<span class="integer">10</span>,<span class="integer">20</span>)
println bounds.isEmpty()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds emptyBounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">10</span>,<span class="integer">10</span>,<span class="integer">10</span>)
println emptyBounds.isEmpty()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a Bounds contains another Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds1 = <span class="keyword">new</span> Bounds(-<span class="float">107.226</span>, <span class="float">34.597</span>, -<span class="float">92.812</span>, <span class="float">43.068</span>)
Bounds bounds2 = <span class="keyword">new</span> Bounds(-<span class="float">104.326</span>, <span class="float">37.857</span>, -<span class="float">98.349</span>, <span class="float">40.913</span>)
println bounds1.contains(bounds2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_contains_bounds1.png" alt="geometry bounds contains bounds1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds3 = <span class="keyword">new</span> Bounds(-<span class="float">112.412</span>, <span class="float">36.809</span>, -<span class="float">99.316</span>, <span class="float">44.777</span>)
println bounds1.contains(bounds3)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_contains_bounds2.png" alt="geometry bounds contains bounds2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if a Bounds contains a Point</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">107.226</span>, <span class="float">34.597</span>, -<span class="float">92.812</span>, <span class="float">43.068</span>)
<span class="predefined-type">Point</span> point1 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">95.976</span>, <span class="float">39.639</span>)
println bounds.contains(point1)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_contains_point1.png" alt="geometry bounds contains point1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point2 = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">89.384</span>, <span class="float">38.959</span>)
println bounds.contains(point2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_contains_point2.png" alt="geometry bounds contains point2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if two Bounds intersect</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds1 = <span class="keyword">new</span> Bounds(-<span class="float">95.885</span>, <span class="float">46.765</span>, -<span class="float">95.788</span>, <span class="float">46.811</span>)
Bounds bounds2 = <span class="keyword">new</span> Bounds(-<span class="float">95.847</span>, <span class="float">46.818</span>, -<span class="float">95.810</span>, <span class="float">46.839</span>)
println bounds1.intersects(bounds2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_intersects1.png" alt="geometry bounds intersects1">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds3 = <span class="keyword">new</span> Bounds(-<span class="float">95.904</span>, <span class="float">46.747</span>, -<span class="float">95.839</span>, <span class="float">46.792</span>)
println bounds1.intersects(bounds3)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_intersects2.png" alt="geometry bounds intersects2">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the intersection between two Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds1 = <span class="keyword">new</span> Bounds(-<span class="float">95.885</span>, <span class="float">46.765</span>, -<span class="float">95.788</span>, <span class="float">46.811</span>)
Bounds bounds2 = <span class="keyword">new</span> Bounds(-<span class="float">95.904</span>, <span class="float">46.747</span>, -<span class="float">95.839</span>, <span class="float">46.792</span>)
Bounds bounds3 = bounds1.intersection(bounds2)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_intersection.png" alt="geometry bounds intersection">
</div>
</div>
<div class="listingblock">
<div class="title">Generate a grid from a Bounds with a given number of columns and rows and the polygon shape.  Other shapes include: polygon, point, circle/ellipse, hexagon, hexagon-inv).</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = bounds.getGrid(<span class="integer">5</span>,<span class="integer">4</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">polygon</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_grid_polygon_colsrows.png" alt="geometry bounds grid polygon colsrows">
</div>
</div>
<div class="listingblock">
<div class="title">Generate a grid from a Bounds with a given number of columns and rows and a point shape.  A Closure that is called with a geometry, column, and row for each grid cell that is created.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span> geometries = <span class="type">[]</span>
Geometry geometry = bounds.generateGrid(<span class="integer">10</span>,<span class="integer">8</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">point</span><span class="delimiter">&quot;</span></span>) { Geometry g, <span class="type">int</span> col, <span class="type">int</span> row -&gt;
    geometries.add(g)
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_grid_point_colsrows.png" alt="geometry bounds grid point colsrows">
</div>
</div>
<div class="listingblock">
<div class="title">Generate a grid from a Bounds with a given cell width and height and a circle/ellipse shape.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = bounds.getGrid(<span class="float">72.0</span>,<span class="float">72.0</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">circle</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_grid_circle_cellwidthheight.png" alt="geometry bounds grid circle cellwidthheight">
</div>
</div>
<div class="listingblock">
<div class="title">Generate a grid from a Bounds with a given cell width and height and a hexagon shape.  A Closure is called with a geometry, column, and row for each grid cell generated.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span> geometries = <span class="type">[]</span>
Geometry geometry = bounds.generateGrid(<span class="float">72.0</span>,<span class="float">72.0</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">hexagon</span><span class="delimiter">&quot;</span></span>) { Geometry g, <span class="type">int</span> col, <span class="type">int</span> row -&gt;
    geometries.add(g)
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_grid_hexagon_cellwidthheight.png" alt="geometry bounds grid hexagon cellwidthheight">
</div>
</div>
<div class="listingblock">
<div class="title">Generate a grid from a Bounds with a given cell width and height and an inverted hexagon shape.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = bounds.getGrid(<span class="integer">5</span>,<span class="integer">5</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">hexagon-inv</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_grid_hexagoninv_colsrows.png" alt="geometry bounds grid hexagoninv colsrows">
</div>
</div>
<div class="listingblock">
<div class="title">Generate a grid from a Bounds with a given cell width and height and a triangle shape.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = bounds.getGrid(<span class="integer">5</span>,<span class="integer">5</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">triangle</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_grid_triangle_colsrows.png" alt="geometry bounds grid triangle colsrows">
</div>
</div>
<div class="listingblock">
<div class="title">Create a rectangle from a Bounds with a given number of Points and a rotation angle in radians.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">20</span>,<span class="integer">20</span>)
<span class="predefined-type">Polygon</span> polygon = bounds.createRectangle(<span class="integer">20</span>,<span class="predefined-type">Math</span>.toRadians(<span class="integer">45</span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_createrectangle.png" alt="geometry bounds createrectangle">
</div>
</div>
<div class="listingblock">
<div class="title">Create an ellipse from a Bounds. The default number of points is 20 and the default rotation angle in radians is 0.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">20</span>,<span class="integer">20</span>)
<span class="predefined-type">Polygon</span> polygon = bounds.createEllipse()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_createreellipse.png" alt="geometry bounds createreellipse">
</div>
</div>
<div class="listingblock">
<div class="title">Create a squircle from a Bounds. The default number of points is 20 and the default rotation angle in radians is 0.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">20</span>,<span class="integer">20</span>)
<span class="predefined-type">Polygon</span> polygon = bounds.createSquircle()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_createresquircle.png" alt="geometry bounds createresquircle">
</div>
</div>
<div class="listingblock">
<div class="title">Create a super circle from a Bounds with a given power. The default number of points is 20 and the default rotation angle in radians is 0.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">20</span>,<span class="integer">20</span>)
<span class="predefined-type">Polygon</span> polygon = bounds.createSuperCircle(<span class="float">1.75</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_createresupercircle.png" alt="geometry bounds createresupercircle">
</div>
</div>
<div class="listingblock">
<div class="title">Create an arc from a Bounds with a start angle and angle extent. The default number of points is 20 and the default rotation angle in radians is 0.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">20</span>,<span class="integer">20</span>)
LineString lineString = bounds.createArc(<span class="predefined-type">Math</span>.toRadians(<span class="integer">45</span>), <span class="predefined-type">Math</span>.toRadians(<span class="integer">90</span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_createrearc.png" alt="geometry bounds createrearc">
</div>
</div>
<div class="listingblock">
<div class="title">Create an arc polygon from a Bounds with a start angle and angle extent. The default number of points is 20 and the default rotation angle in radians is 0.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">20</span>,<span class="integer">20</span>)
<span class="predefined-type">Polygon</span> polygon = bounds.createArcPolygon(<span class="predefined-type">Math</span>.toRadians(<span class="integer">45</span>), <span class="predefined-type">Math</span>.toRadians(<span class="integer">90</span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_createrearcpolygon.png" alt="geometry bounds createrearcpolygon">
</div>
</div>
<div class="listingblock">
<div class="title">Create a sine star from a Bounds with a number of arms and an arm length ratio. The default number of points is 20 and the default rotation angle in radians is 0.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">20</span>,<span class="integer">20</span>)
<span class="predefined-type">Polygon</span> polygon = bounds.createSineStar(<span class="integer">5</span>, <span class="float">2.3</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_createsinestar.png" alt="geometry bounds createsinestar">
</div>
</div>
<div class="listingblock">
<div class="title">Create a hexagon from a Bounds that is either inverted (false) or not (true).</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">20</span>,<span class="integer">20</span>)
<span class="predefined-type">Polygon</span> polygon = bounds.createHexagon(<span class="predefined-constant">false</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/geometry_bounds_createhexagon.png" alt="geometry bounds createhexagon">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="projection-recipes"><a class="anchor" href="#projection-recipes"></a>Projection Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Projection classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/proj/package-summary.html">geoscript.proj</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="creating-projections"><a class="anchor" href="#creating-projections"></a>Creating Projections</h3>
<div class="listingblock">
<div class="title">Create a Projection from an EPSG Code</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection proj = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
println proj.wkt</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GEOGCS["WGS 84",
  DATUM["World Geodetic System 1984",
    SPHEROID["WGS 84", 6378137.0, 298.257223563, AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich", 0.0, AUTHORITY["EPSG","8901"]],
  UNIT["degree", 0.017453292519943295],
  AXIS["Geodetic longitude", EAST],
  AXIS["Geodetic latitude", NORTH],
  AUTHORITY["EPSG","4326"]]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Projection from a WKT Projection String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">      Projection proj = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">GEOGCS[&quot;WGS 84&quot;,
DATUM[&quot;World Geodetic System 1984&quot;,
  SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563, AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],
  AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],
PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
UNIT[&quot;degree&quot;, 0.017453292519943295],
AXIS[&quot;Geodetic longitude&quot;, EAST],
AXIS[&quot;Geodetic latitude&quot;, NORTH],
AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]</span><span class="delimiter">&quot;&quot;&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GEOGCS["WGS 84",
  DATUM["World Geodetic System 1984",
    SPHEROID["WGS 84", 6378137.0, 298.257223563, AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich", 0.0, AUTHORITY["EPSG","8901"]],
  UNIT["degree", 0.017453292519943295],
  AXIS["Geodetic longitude", EAST],
  AXIS["Geodetic latitude", NORTH],
  AUTHORITY["EPSG","4326"]]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Projection from well known name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection proj = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">Mollweide</span><span class="delimiter">&quot;</span></span>)
println proj.wkt</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>PROJCS["Mollweide",
  GEOGCS["WGS84",
    DATUM["WGS84",
      SPHEROID["WGS84", 6378137.0, 298.257223563]],
    PRIMEM["Greenwich", 0.0],
    UNIT["degree", 0.017453292519943295],
    AXIS["Longitude", EAST],
    AXIS["Latitude", NORTH]],
  PROJECTION["Mollweide"],
  PARAMETER["semi-minor axis", 6378137.0],
  PARAMETER["False easting", 0.0],
  PARAMETER["False northing", 0.0],
  PARAMETER["Longitude of natural origin", 0.0],
  UNIT["m", 1.0],
  AXIS["Easting", EAST],
  AXIS["Northing", NORTH]]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a List of all supported Projections (this is really slow)</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;Projection&gt; projections = Projection.projections()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>EPSG:4326
EPSG:4269
EPSG:26918
EPSG:2263
EPSG:2927
...</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-projection-properties"><a class="anchor" href="#getting-projection-properties"></a>Getting Projection Properties</h3>
<div class="listingblock">
<div class="title">Get the id</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection proj = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> id = proj.id</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>EPSG:4326</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the srs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> srs = proj.srs</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>EPSG:4326</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the epsg code</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">int</span> epsg = proj.epsg</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>4326</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the WKT</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> wkt = proj.wkt</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GEOGCS["WGS 84",
  DATUM["World Geodetic System 1984",
    SPHEROID["WGS 84", 6378137.0, 298.257223563, AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich", 0.0, AUTHORITY["EPSG","8901"]],
  UNIT["degree", 0.017453292519943295],
  AXIS["Geodetic longitude", EAST],
  AXIS["Geodetic latitude", NORTH],
  AUTHORITY["EPSG","4326"]]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Bounds in the native Projection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = proj.bounds</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(-180.0,-90.0,180.0,90.0,EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Bounds in the EPSG:4326</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds geoBounds = proj.geoBounds</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(-180.0,-90.0,180.0,90.0,EPSG:4326)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-projections"><a class="anchor" href="#using-projections"></a>Using Projections</h3>
<div class="listingblock">
<div class="title">Transform a Geometry from one projection to another using the Projection static method with strings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry epsg4326Geom = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.440</span>, <span class="float">47.245</span>)
Geometry epsg2927Geom = Projection.transform(epsg4326Geom, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:2927</span><span class="delimiter">&quot;</span></span>)
println epsg2927Geom</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (1158609.2040371667 703068.0661327888)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Transform a Geometry from one projection to another using the Projection static method with Projections</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection epsg4326 = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Projection epsg2927 = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:2927</span><span class="delimiter">&quot;</span></span>)
Geometry epsg4326Geom = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.440</span>, <span class="float">47.245</span>)
Geometry epsg2927Geom = Projection.transform(epsg4326Geom, epsg4326, epsg2927)
println epsg2927Geom</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (1158609.2040371667 703068.0661327888)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Transform a Geometry from one projection to another using two Projections</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection fromProj = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Projection toProj = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:2927</span><span class="delimiter">&quot;</span></span>)
Geometry geom = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.440</span>, <span class="float">47.245</span>)
Geometry projectedGeom = fromProj.transform(geom, toProj)
println projectedGeom</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (1158609.2040371667 703068.0661327888)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Transform a Geometry from one projection to another using a Projections and a String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection fromProj = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Geometry geom = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.440</span>, <span class="float">47.245</span>)
Geometry projectedGeom = fromProj.transform(geom, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:2927</span><span class="delimiter">&quot;</span></span>)
println projectedGeom</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (1158609.2040371667 703068.0661327888)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-geodetic"><a class="anchor" href="#using-geodetic"></a>Using Geodetic</h3>
<div class="listingblock">
<div class="title">Create a Geodetic object with an ellipsoid</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geodetic geodetic = <span class="keyword">new</span> Geodetic(<span class="string"><span class="delimiter">&quot;</span><span class="content">wgs84</span><span class="delimiter">&quot;</span></span>)
println geodetic</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Geodetic [SPHEROID["WGS 84", 6378137.0, 298.257223563]]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculate the forward and back azimuth and distance between the given two Points.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geodetic geodetic = <span class="keyword">new</span> Geodetic(<span class="string"><span class="delimiter">&quot;</span><span class="content">clrk66</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Point</span> bostonPoint = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">71.117</span>, <span class="float">42.25</span>)
<span class="predefined-type">Point</span> portlandPoint = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.683</span>, <span class="float">45.52</span>)
<span class="predefined-type">Map</span> results = geodetic.inverse(bostonPoint, portlandPoint)
<span class="type">double</span> forwardAzimuth =  results.forwardAzimuth
println forwardAzimuth</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-66.52547810974724</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> backAzimuth = results.backAzimuth
println backAzimuth</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>75.6581745719509</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> distance = results.distance
println distance</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>4164050.459880065</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculate a new Point and back azimuth given the starting Point, azimuth, and distance.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geodetic geodetic = <span class="keyword">new</span> Geodetic(<span class="string"><span class="delimiter">&quot;</span><span class="content">clrk66</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Point</span> bostonPoint = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">71.117</span>, <span class="float">42.25</span>)
<span class="predefined-type">Map</span> results = geodetic.forward(bostonPoint, -<span class="float">66.531</span>, <span class="float">4164192.708</span>)
<span class="predefined-type">Point</span> point = results.point
println point</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-123.6835797667373 45.516427795897236)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> azimuth = results.backAzimuth
println azimuth</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>75.65337425050724</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Place the given number of points between starting and ending Points</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geodetic geodetic = <span class="keyword">new</span> Geodetic(<span class="string"><span class="delimiter">&quot;</span><span class="content">clrk66</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Point</span> bostonPoint = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">71.117</span>, <span class="float">42.25</span>)
<span class="predefined-type">Point</span> portlandPoint = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.683</span>, <span class="float">45.52</span>)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Point</span>&gt; points = geodetic.placePoints(bostonPoint, portlandPoint, <span class="integer">10</span>)
points.each { <span class="predefined-type">Point</span> point -&gt;
    println point.wkt
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-75.41357382496236 43.52791689304305)
POINT (-79.8828640042499 44.63747566950249)
POINT (-84.51118758826816 45.565540142641)
POINT (-89.27793446221685 46.300124344169255)
POINT (-94.15564606698499 46.83102721803566)
POINT (-99.11079892605703 47.15045006457598)
POINT (-104.10532353179985 47.25351783423774)
POINT (-109.09873812691619 47.13862709798195)
POINT (-114.05062990603696 46.80756425557423)
POINT (-118.92312608779855 46.26537395700513)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-decimal-degrees"><a class="anchor" href="#using-decimal-degrees"></a>Using Decimal Degrees</h3>
<div class="listingblock">
<div class="title">Create a new DecimalDegrees from a longitude and latitude</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(-<span class="float">122.525619</span>, <span class="float">47.212023</span>)
println decimalDegrees</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122° 31' 32.2284" W, 47° 12' 43.2828" N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a new DecimalDegrees from a Point</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.525619</span>,<span class="float">47.212023</span>))
println decimalDegrees</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-122.52561944444444 47.212022222222224)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a new DecimalDegrees from a Longitude and Latitude string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">-122.525619, 47.212023</span><span class="delimiter">&quot;</span></span>)
println decimalDegrees</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122° 31' 32.2284" W, 47° 12' 43.2828" N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a new DecimalDegrees from two strings with glyphs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122</span><span class="char">\u00B0</span><span class="content"> 31' 32.23</span><span class="char">\&quot;</span><span class="content"> W</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">47</span><span class="char">\u00B0</span><span class="content"> 12' 43.28</span><span class="char">\&quot;</span><span class="content"> N</span><span class="delimiter">&quot;</span></span>)
println decimalDegrees</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122° 31' 32.2300" W, 47° 12' 43.2800" N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a new DecimalDegrees from two strings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122d 31m 32.23s W</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">47d 12m 43.28s N</span><span class="delimiter">&quot;</span></span>)
println decimalDegrees</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122° 31' 32.2300" W, 47° 12' 43.2800" N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a new DecimalDegrees from a single Degrees Minutes Seconds formatted string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122d 31m 32.23s W, 47d 12m 43.28s N</span><span class="delimiter">&quot;</span></span>)
println decimalDegrees</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122° 31' 32.2300" W, 47° 12' 43.2800" N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a new DecimalDegrees from a single Decimal Degree Minutes formatted string with glyphs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122</span><span class="char">\u00B0</span><span class="content"> 31.5372' W, 47</span><span class="char">\u00B0</span><span class="content"> 12.7213' N</span><span class="delimiter">&quot;</span></span>)
println decimalDegrees</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122° 31' 32.2320" W, 47° 12' 43.2780" N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a new DecimalDegrees from a single Decimal Degree Minutes formatted string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122d 31.5372m W, 47d 12.7213m N</span><span class="delimiter">&quot;</span></span>)
println decimalDegrees</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122° 31' 32.2320" W, 47° 12' 43.2780" N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get degrees minutes seconds from a DecimalDegrees object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122d 31m 32.23s W</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">47d 12m 43.28s N</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> dms = decimalDegrees.dms
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Degrees: </span><span class="inline"><span class="inline-delimiter">${</span>dms.longitude.degrees<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Minutes: </span><span class="inline"><span class="inline-delimiter">${</span>dms.longitude.minutes<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Seconds: </span><span class="inline"><span class="inline-delimiter">${</span>dms.longitude.seconds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Degrees: -122
Minutes: 31
Seconds: 32.22999999998388</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">println <span class="string"><span class="delimiter">&quot;</span><span class="content">Degrees: </span><span class="inline"><span class="inline-delimiter">${</span>dms.latitude.degrees<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Minutes: </span><span class="inline"><span class="inline-delimiter">${</span>dms.latitude.minutes<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Seconds: </span><span class="inline"><span class="inline-delimiter">${</span>dms.latitude.seconds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Degrees: 47
Minutes: 12
Seconds: 43.280000000006396</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Convert a DecimalDegrees object to a DMS String with glyphs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122d 31m 32.23s W</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">47d 12m 43.28s N</span><span class="delimiter">&quot;</span></span>)
println decimalDegrees.toDms(<span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122° 31' 32.2300" W, 47° 12' 43.2800" N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Convert a DecimalDegrees object to a DMS String without glyphs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">println decimalDegrees.toDms(<span class="predefined-constant">false</span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122d 31m 32.2300s W, 47d 12m 43.2800s N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get degrees minutes from a DecimalDegrees object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122d 31m 32.23s W</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">47d 12m 43.28s N</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> dms = decimalDegrees.ddm
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Degrees: </span><span class="inline"><span class="inline-delimiter">${</span>dms.longitude.degrees<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Minutes: </span><span class="inline"><span class="inline-delimiter">${</span>dms.longitude.minutes<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Degrees: -122
Minutes: 31.537166666666398</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">println <span class="string"><span class="delimiter">&quot;</span><span class="content">Degrees: </span><span class="inline"><span class="inline-delimiter">${</span>dms.latitude.degrees<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Minutes: </span><span class="inline"><span class="inline-delimiter">${</span>dms.latitude.minutes<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Degrees: 47
Minutes: 12.72133333333344</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Convert a DecimalDegrees object to a DDM String with glyphs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122d 31m 32.23s W</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">47d 12m 43.28s N</span><span class="delimiter">&quot;</span></span>)
println decimalDegrees.toDdm(<span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122° 31.5372' W, 47° 12.7213' N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Convert a DecimalDegrees object to a DDM String without glyphs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">println decimalDegrees.toDdm(<span class="predefined-constant">false</span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-122d 31.5372m W, 47d 12.7213m N</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Point from a DecimalDegrees object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">DecimalDegrees decimalDegrees = <span class="keyword">new</span> DecimalDegrees(<span class="string"><span class="delimiter">&quot;</span><span class="content">122d 31m 32.23s W</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">47d 12m 43.28s N</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Point</span> point = decimalDegrees.point</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-122.52561944444444 47.212022222222224)</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spatial-index-recipes"><a class="anchor" href="#spatial-index-recipes"></a>Spatial Index Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Index classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/index/package-summary.html">geoscript.index</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="using-strtree"><a class="anchor" href="#using-strtree"></a>Using STRtree</h3>
<div class="listingblock">
<div class="title">Create a STRtree spatial index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">STRtree index = <span class="keyword">new</span> STRtree()</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Insert Geometries and their Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">index.insert(<span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">10</span>,<span class="integer">10</span>), <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="integer">5</span>,<span class="integer">5</span>))
index.insert(<span class="keyword">new</span> Bounds(<span class="integer">2</span>,<span class="integer">2</span>,<span class="integer">6</span>,<span class="integer">6</span>), <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="integer">4</span>,<span class="integer">4</span>))
index.insert(<span class="keyword">new</span> Bounds(<span class="integer">20</span>,<span class="integer">20</span>,<span class="integer">60</span>,<span class="integer">60</span>), <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="integer">30</span>,<span class="integer">30</span>))
index.insert(<span class="keyword">new</span> Bounds(<span class="integer">22</span>,<span class="integer">22</span>,<span class="integer">44</span>,<span class="integer">44</span>), <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="integer">32</span>,<span class="integer">32</span>))</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the size of the index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">int</span> size = index.size
println size</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Query the index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> results = index.query(<span class="keyword">new</span> Bounds(<span class="integer">1</span>,<span class="integer">1</span>,<span class="integer">5</span>,<span class="integer">5</span>))
results.each { Geometry geometry -&gt;
    println geometry
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (4 4)
POINT (5 5)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-quadtree"><a class="anchor" href="#using-quadtree"></a>Using Quadtree</h3>
<div class="listingblock">
<div class="title">Create a Quadtree spatial index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Quadtree index = <span class="keyword">new</span> Quadtree()</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Insert Geometries and their Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">index.insert(<span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">10</span>,<span class="integer">10</span>), <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="integer">5</span>,<span class="integer">5</span>))
index.insert(<span class="keyword">new</span> Bounds(<span class="integer">2</span>,<span class="integer">2</span>,<span class="integer">6</span>,<span class="integer">6</span>), <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="integer">4</span>,<span class="integer">4</span>))
index.insert(<span class="keyword">new</span> Bounds(<span class="integer">20</span>,<span class="integer">20</span>,<span class="integer">60</span>,<span class="integer">60</span>), <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="integer">30</span>,<span class="integer">30</span>))
index.insert(<span class="keyword">new</span> Bounds(<span class="integer">22</span>,<span class="integer">22</span>,<span class="integer">44</span>,<span class="integer">44</span>), <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="integer">32</span>,<span class="integer">32</span>))</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the size of the index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">int</span> size = index.size
println size</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Query the index with a Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> results = index.query(<span class="keyword">new</span> Bounds(<span class="integer">1</span>,<span class="integer">1</span>,<span class="integer">5</span>,<span class="integer">5</span>))
results.each { Geometry geometry -&gt;
    println geometry
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (30 30)
POINT (32 32)
POINT (5 5)
POINT (4 4)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Query the entire index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> allResults = index.queryAll()
allResults.each { Geometry geometry -&gt;
    println geometry
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (30 30)
POINT (32 32)
POINT (5 5)
POINT (4 4)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Remove an item from the index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry itemToRemove = allResults[<span class="integer">0</span>]
<span class="type">boolean</span> removed = index.remove(itemToRemove.bounds, itemToRemove)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Removed? </span><span class="inline"><span class="inline-delimiter">${</span>removed<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Size = </span><span class="inline"><span class="inline-delimiter">${</span>index.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Removed = true
Size = 3</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-geohash"><a class="anchor" href="#using-geohash"></a>Using GeoHash</h3>
<div class="listingblock">
<div class="title">Encode a Point as a String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="float">112.5584</span>, <span class="float">37.8324</span>)
<span class="predefined-type">String</span> hash = geohash.encode(point)
println hash</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ww8p1r4t8</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Decode a Point from a String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="predefined-type">Point</span> point = geohash.decode(<span class="string"><span class="delimiter">&quot;</span><span class="content">ww8p1r4t8</span><span class="delimiter">&quot;</span></span>)
println point</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (112.55838632583618 37.83238649368286)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Encode a Point as a Long</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="float">112.5584</span>, <span class="float">37.8324</span>)
<span class="type">long</span> hash = geohash.encodeLong(point)
println <span class="type">long</span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>4064984913515641</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Decode a Point from a Long</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="predefined-type">Point</span> point = geohash.decode(<span class="integer">4064984913515641</span>)
println point</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (112.55839973688126 37.83240124583244)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Decode a Bounds from a String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
Bounds bounds = geohash.decodeBounds(<span class="string"><span class="delimiter">&quot;</span><span class="content">ww8p1r4t8</span><span class="delimiter">&quot;</span></span>)
println bounds</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(112.55836486816406,37.83236503601074,112.5584077835083,37.83240795135498)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Decode a Bounds from a Long</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
Bounds bounds = geohash.decodeBounds(<span class="integer">4064984913515641</span>)
println bounds</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(112.55836486816406,37.83236503601074,112.5584077835083,37.83240795135498)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find neighboring geohash strings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="predefined-type">String</span> hash = <span class="string"><span class="delimiter">&quot;</span><span class="content">dqcjq</span><span class="delimiter">&quot;</span></span>
<span class="predefined-type">String</span> north     = geohash.neighbor(hash, GeoHash.Direction.NORTH)
<span class="predefined-type">String</span> northwest = geohash.neighbor(hash, GeoHash.Direction.NORTHWEST)
<span class="predefined-type">String</span> west      = geohash.neighbor(hash, GeoHash.Direction.WEST)
<span class="predefined-type">String</span> southwest = geohash.neighbor(hash, GeoHash.Direction.SOUTHWEST)
<span class="predefined-type">String</span> south     = geohash.neighbor(hash, GeoHash.Direction.SOUTH)
<span class="predefined-type">String</span> southeast = geohash.neighbor(hash, GeoHash.Direction.SOUTHEAST)
<span class="predefined-type">String</span> east      = geohash.neighbor(hash, GeoHash.Direction.EAST)
<span class="predefined-type">String</span> northeast = geohash.neighbor(hash, GeoHash.Direction.NORTHEAST)
<span class="predefined-type">String</span> str = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>northwest<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>north<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>northeast<span class="inline-delimiter">}</span></span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>west<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>hash<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>east<span class="inline-delimiter">}</span></span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>southwest<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>south<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>southeast<span class="inline-delimiter">}</span></span><span class="content">
             |</span><span class="delimiter">&quot;&quot;&quot;</span></span>.stripMargin()
println str</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> dqcjt dqcjw dqcjx
 dqcjm dqcjq dqcjr
 dqcjj dqcjn dqcjp</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find neighboring geohash longs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="type">long</span> hash = <span class="integer">1702789509</span>
<span class="type">long</span> north     = geohash.neighbor(hash, GeoHash.Direction.NORTH)
<span class="type">long</span> northwest = geohash.neighbor(hash, GeoHash.Direction.NORTHWEST)
<span class="type">long</span> west      = geohash.neighbor(hash, GeoHash.Direction.WEST)
<span class="type">long</span> southwest = geohash.neighbor(hash, GeoHash.Direction.SOUTHWEST)
<span class="type">long</span> south     = geohash.neighbor(hash, GeoHash.Direction.SOUTH)
<span class="type">long</span> southeast = geohash.neighbor(hash, GeoHash.Direction.SOUTHEAST)
<span class="type">long</span> east      = geohash.neighbor(hash, GeoHash.Direction.EAST)
<span class="type">long</span> northeast = geohash.neighbor(hash, GeoHash.Direction.NORTHEAST)
<span class="predefined-type">String</span> str = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>northwest<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>north<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>northeast<span class="inline-delimiter">}</span></span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>west<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>hash<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>east<span class="inline-delimiter">}</span></span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>southwest<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>south<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>southeast<span class="inline-delimiter">}</span></span><span class="content">
             |</span><span class="delimiter">&quot;&quot;&quot;</span></span>.stripMargin()
println str</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> 1702789434 1702789520 1702789522
 1702789423 1702789509 1702789511
 1702789422 1702789508 1702789510</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find all neighboring geohash strings</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="predefined-type">String</span> hash = <span class="string"><span class="delimiter">&quot;</span><span class="content">dqcjq</span><span class="delimiter">&quot;</span></span>
<span class="predefined-type">Map</span> neighbors = geohash.neighbors(hash)
<span class="predefined-type">String</span> north     = neighbors[GeoHash.Direction.NORTH]
<span class="predefined-type">String</span> northwest = neighbors[GeoHash.Direction.NORTHWEST]
<span class="predefined-type">String</span> west      = neighbors[GeoHash.Direction.WEST]
<span class="predefined-type">String</span> southwest = neighbors[GeoHash.Direction.SOUTHWEST]
<span class="predefined-type">String</span> south     = neighbors[GeoHash.Direction.SOUTH]
<span class="predefined-type">String</span> southeast = neighbors[GeoHash.Direction.SOUTHEAST]
<span class="predefined-type">String</span> east      = neighbors[GeoHash.Direction.EAST]
<span class="predefined-type">String</span> northeast = neighbors[GeoHash.Direction.NORTHEAST]
<span class="predefined-type">String</span> str = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>northwest<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>north<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>northeast<span class="inline-delimiter">}</span></span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>west<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>hash<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>east<span class="inline-delimiter">}</span></span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>southwest<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>south<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>southeast<span class="inline-delimiter">}</span></span><span class="content">
             |</span><span class="delimiter">&quot;&quot;&quot;</span></span>.stripMargin()
println str</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> dqcjt dqcjw dqcjx
 dqcjm dqcjq dqcjr
 dqcjj dqcjn dqcjp</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find all neighboring geohash longs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="type">long</span> hash = <span class="integer">1702789509</span>
<span class="predefined-type">Map</span> neighbors = geohash.neighbors(hash)
<span class="type">long</span> north     = neighbors[GeoHash.Direction.NORTH]
<span class="type">long</span> northwest = neighbors[GeoHash.Direction.NORTHWEST]
<span class="type">long</span> west      = neighbors[GeoHash.Direction.WEST]
<span class="type">long</span> southwest = neighbors[GeoHash.Direction.SOUTHWEST]
<span class="type">long</span> south     = neighbors[GeoHash.Direction.SOUTH]
<span class="type">long</span> southeast = neighbors[GeoHash.Direction.SOUTHEAST]
<span class="type">long</span> east      = neighbors[GeoHash.Direction.EAST]
<span class="type">long</span> northeast = neighbors[GeoHash.Direction.NORTHEAST]
<span class="predefined-type">String</span> str = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>northwest<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>north<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>northeast<span class="inline-delimiter">}</span></span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>west<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>hash<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>east<span class="inline-delimiter">}</span></span><span class="content">
             | </span><span class="inline"><span class="inline-delimiter">${</span>southwest<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>south<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>southeast<span class="inline-delimiter">}</span></span><span class="content">
             |</span><span class="delimiter">&quot;&quot;&quot;</span></span>.stripMargin()
println str</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> 1702789434 1702789520 1702789522
 1702789423 1702789509 1702789511
 1702789422 1702789508 1702789510</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find all geohashes as strings within a Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; bboxes = geohash.bboxes(<span class="keyword">new</span> Bounds(<span class="integer">120</span>, <span class="integer">30</span>, <span class="float">120.0001</span>, <span class="float">30.0001</span>), <span class="integer">8</span>)
bboxes.each { <span class="predefined-type">String</span> hash -&gt;
    println hash
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>wtm6dtm6
wtm6dtm7</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find all geohashes as longs within a Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoHash geohash = <span class="keyword">new</span> GeoHash()
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Long</span>&gt; bboxes = geohash.bboxesLong(<span class="keyword">new</span> Bounds(<span class="integer">120</span>, <span class="integer">30</span>, <span class="float">120.0001</span>, <span class="float">30.0001</span>), <span class="integer">40</span>)
bboxes.each { <span class="type">long</span> hash -&gt;
    println hash
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>989560464998
989560464999</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="viewer-recipes"><a class="anchor" href="#viewer-recipes"></a>Viewer Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Viewer classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/viewer/package-summary.html">geoscript.viewer</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="drawing-geometries"><a class="anchor" href="#drawing-geometries"></a>Drawing geometries</h3>
<div class="listingblock">
<div class="title">Draw a geometry in a simple GUI</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>],
       [-<span class="float">101.5576171875</span>, <span class="float">46.93526088057719</span>],
       [-<span class="float">100.12939453125</span>, <span class="float">46.51351558059737</span>],
       [-<span class="float">99.77783203125</span>, <span class="float">47.44294999517949</span>],
       [-<span class="float">100.45898437499999</span>, <span class="float">47.88688085106901</span>],
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>]
]])
Viewer.draw(polygon)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/viewer_draw.png" alt="viewer draw">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a geometry to an image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>],
       [-<span class="float">101.5576171875</span>, <span class="float">46.93526088057719</span>],
       [-<span class="float">100.12939453125</span>, <span class="float">46.51351558059737</span>],
       [-<span class="float">99.77783203125</span>, <span class="float">47.44294999517949</span>],
       [-<span class="float">100.45898437499999</span>, <span class="float">47.88688085106901</span>],
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>]
]])
<span class="predefined-type">BufferedImage</span> image = Viewer.drawToImage(polygon)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/viewer_draw2image.png" alt="viewer draw2image">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a geometry to an image with options</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>],
       [-<span class="float">101.5576171875</span>, <span class="float">46.93526088057719</span>],
       [-<span class="float">100.12939453125</span>, <span class="float">46.51351558059737</span>],
       [-<span class="float">99.77783203125</span>, <span class="float">47.44294999517949</span>],
       [-<span class="float">100.45898437499999</span>, <span class="float">47.88688085106901</span>],
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>]
]])
<span class="predefined-type">BufferedImage</span> image = Viewer.drawToImage(
        polygon,
        <span class="key">size</span>: [<span class="integer">200</span>,<span class="integer">200</span>],
        <span class="key">drawCoords</span>: <span class="predefined-constant">true</span>,
        <span class="key">fillCoords</span>: <span class="predefined-constant">true</span>,
        <span class="key">fillPolys</span>: <span class="predefined-constant">true</span>
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/viewer_draw2imagewithoptions.png" alt="viewer draw2imagewithoptions">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a List of geometries to an image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.11</span>, <span class="float">47.23</span>)
Geometry buffer = point.buffer(<span class="integer">4</span>)
Geometry bounds = buffer.bounds.geometry
<span class="predefined-type">BufferedImage</span> image = Viewer.drawToImage(
        [bounds, buffer, point],
        <span class="key">size</span>: [<span class="integer">200</span>,<span class="integer">200</span>],
        <span class="key">drawCoords</span>: <span class="predefined-constant">true</span>,
        <span class="key">fillCoords</span>: <span class="predefined-constant">true</span>,
        <span class="key">fillPolys</span>: <span class="predefined-constant">true</span>
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/viewer_draw2imagegeometries.png" alt="viewer draw2imagegeometries">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a List of Geometries to a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.11</span>, <span class="float">47.23</span>)
Geometry buffer = point.buffer(<span class="integer">4</span>)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geometry.png</span><span class="delimiter">&quot;</span></span>)
Viewer.drawToFile([buffer, point], file, <span class="key">size</span>: [<span class="integer">200</span>,<span class="integer">200</span>])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/viewer_drawtofile.png" alt="viewer drawtofile">
</div>
</div>
</div>
<div class="sect2">
<h3 id="plotting-geometries"><a class="anchor" href="#plotting-geometries"></a>Plotting geometries</h3>
<div class="listingblock">
<div class="title">Plot a geometry in a simple GUI</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>],
       [-<span class="float">101.5576171875</span>, <span class="float">46.93526088057719</span>],
       [-<span class="float">100.12939453125</span>, <span class="float">46.51351558059737</span>],
       [-<span class="float">99.77783203125</span>, <span class="float">47.44294999517949</span>],
       [-<span class="float">100.45898437499999</span>, <span class="float">47.88688085106901</span>],
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>]
]])
Viewer.plot(polygon)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/viewer_plot.png" alt="viewer plot">
</div>
</div>
<div class="listingblock">
<div class="title">Plot a Geometry to an image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Polygon</span> polygon = <span class="keyword">new</span> <span class="predefined-type">Polygon</span>([[
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>],
       [-<span class="float">101.5576171875</span>, <span class="float">46.93526088057719</span>],
       [-<span class="float">100.12939453125</span>, <span class="float">46.51351558059737</span>],
       [-<span class="float">99.77783203125</span>, <span class="float">47.44294999517949</span>],
       [-<span class="float">100.45898437499999</span>, <span class="float">47.88688085106901</span>],
       [-<span class="float">101.35986328125</span>, <span class="float">47.754097979680026</span>]
]])
<span class="predefined-type">BufferedImage</span> image = Viewer.plotToImage(polygon)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/viewer_plot2image.png" alt="viewer plot2image">
</div>
</div>
<div class="listingblock">
<div class="title">Plot a List of Geometries to an image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.11</span>, <span class="float">47.23</span>)
Geometry buffer = point.buffer(<span class="integer">4</span>)
Geometry bounds = buffer.bounds.geometry
<span class="predefined-type">BufferedImage</span> image = Viewer.plotToImage(
        [bounds, buffer, point],
        <span class="key">size</span>: [<span class="integer">300</span>,<span class="integer">300</span>],
        <span class="key">drawCoords</span>: <span class="predefined-constant">true</span>,
        <span class="key">fillCoords</span>: <span class="predefined-constant">true</span>,
        <span class="key">fillPolys</span>: <span class="predefined-constant">true</span>
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/viewer_plot2imagegeometries.png" alt="viewer plot2imagegeometries">
</div>
</div>
<div class="listingblock">
<div class="title">Plot a Geometry to a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">123.11</span>, <span class="float">47.23</span>)
Geometry buffer = point.buffer(<span class="integer">4</span>)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geometry.png</span><span class="delimiter">&quot;</span></span>)
Viewer.plotToFile([buffer, point], file, <span class="key">size</span>: [<span class="integer">300</span>,<span class="integer">300</span>])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/viewer_plottofile.png" alt="viewer plottofile">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="plot-recipes"><a class="anchor" href="#plot-recipes"></a>Plot Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Plot classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/plot/package-summary.html">geoscript.plot</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="processing-charts"><a class="anchor" href="#processing-charts"></a>Processing Charts</h3>
<div class="listingblock">
<div class="title">Show a chart in a GUI</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> data = [
        [<span class="integer">1</span>,<span class="integer">10</span>],[<span class="integer">45</span>,<span class="integer">12</span>],[<span class="integer">23</span>,<span class="integer">3</span>],[<span class="integer">5</span>,<span class="integer">20</span>]
]
Chart chart = Bar.xy(data)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_show.png" alt="plot show">
</div>
</div>
<div class="listingblock">
<div class="title">Get an image from a chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> data = [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>:<span class="integer">20</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>:<span class="integer">45</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>:<span class="integer">2</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">D</span><span class="delimiter">&quot;</span></span>:<span class="integer">14</span>
]
Chart chart = Pie.pie(data)
<span class="predefined-type">BufferedImage</span> image = chart.image</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_getimage.png" alt="plot getimage">
</div>
</div>
<div class="listingblock">
<div class="title">Save a chart to a file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> data = [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>:[<span class="integer">1</span>,<span class="integer">10</span>,<span class="integer">20</span>],
        <span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>:[<span class="integer">45</span>,<span class="integer">39</span>,<span class="integer">10</span>],
        <span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>:[<span class="integer">40</span>,<span class="integer">30</span>,<span class="integer">20</span>],
        <span class="string"><span class="delimiter">&quot;</span><span class="content">D</span><span class="delimiter">&quot;</span></span>:[<span class="integer">14</span>,<span class="integer">25</span>,<span class="integer">19</span>]
]
Chart chart = <span class="predefined-type">Box</span>.box(data)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">chart.png</span><span class="delimiter">&quot;</span></span>)
chart.save(file)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_save.png" alt="plot save">
</div>
</div>
<div class="listingblock">
<div class="title">Overlay multiple charts</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> data = [
        [<span class="integer">1</span>,<span class="integer">10</span>],[<span class="integer">45</span>,<span class="integer">12</span>],[<span class="integer">23</span>,<span class="integer">3</span>],[<span class="integer">5</span>,<span class="integer">20</span>]
]
Chart chart1 = Bar.xy(data)
Chart chart2 = Curve.curve(data)
Chart chart3 = Regression.linear(data)
chart1.overlay([chart2,chart3])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_overlay.png" alt="plot overlay">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-bar-charts"><a class="anchor" href="#creating-bar-charts"></a>Creating Bar Charts</h3>
<div class="listingblock">
<div class="title">Create a basic bar chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> data = [
        [<span class="integer">1</span>,<span class="integer">10</span>],[<span class="integer">45</span>,<span class="integer">12</span>],[<span class="integer">23</span>,<span class="integer">3</span>],[<span class="integer">5</span>,<span class="integer">20</span>]
]
Chart chart = Bar.xy(data)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_bar_chart.png" alt="plot bar chart">
</div>
</div>
<div class="listingblock">
<div class="title">Create a bar chart with categories</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> data = [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>:<span class="integer">20</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>:<span class="integer">45</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>:<span class="integer">2</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">D</span><span class="delimiter">&quot;</span></span>:<span class="integer">14</span>
]
Chart chart = Bar.category(data)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_bar_chart_with_categories.png" alt="plot bar chart with categories">
</div>
</div>
<div class="listingblock">
<div class="title">Create a stacked bar chart with two series of data</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> data = [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>:<span class="integer">50</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>:<span class="integer">25</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">D</span><span class="delimiter">&quot;</span></span>:<span class="integer">25</span>],
        <span class="string"><span class="delimiter">&quot;</span><span class="content">F</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">G</span><span class="delimiter">&quot;</span></span>:<span class="integer">75</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">H</span><span class="delimiter">&quot;</span></span>:<span class="integer">10</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">I</span><span class="delimiter">&quot;</span></span>:<span class="integer">15</span>]
]
Chart chart = Bar.category(data, <span class="key">stacked</span>: <span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_bar_chart_with_categories_stacked.png" alt="plot bar chart with categories stacked">
</div>
</div>
<div class="listingblock">
<div class="title">Create a 3D bar chart with categories</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> data = [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>:<span class="integer">20</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>:<span class="integer">45</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>:<span class="integer">2</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">D</span><span class="delimiter">&quot;</span></span>:<span class="integer">14</span>
]
Chart chart = Bar.category(data, <span class="key">trid</span>: <span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_bar_chart_with_categories_3d.png" alt="plot bar chart with categories 3d">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-pie-charts"><a class="anchor" href="#creating-pie-charts"></a>Creating Pie Charts</h3>
<div class="listingblock">
<div class="title">Create a pie chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> data = [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>:<span class="integer">20</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>:<span class="integer">45</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>:<span class="integer">2</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">D</span><span class="delimiter">&quot;</span></span>:<span class="integer">14</span>
]
Chart chart = Pie.pie(data)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_pie_chart.png" alt="plot pie chart">
</div>
</div>
<div class="listingblock">
<div class="title">Create a 3D pie chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> data = [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>:<span class="integer">20</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>:<span class="integer">45</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>:<span class="integer">2</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">D</span><span class="delimiter">&quot;</span></span>:<span class="integer">14</span>
]
Chart chart = Pie.pie(data, <span class="key">trid</span>: <span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_pie_chart3d.png" alt="plot pie chart3d">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-box-charts"><a class="anchor" href="#creating-box-charts"></a>Creating Box Charts</h3>
<div class="listingblock">
<div class="title">Create a box chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> data = [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>:[<span class="integer">1</span>,<span class="integer">10</span>,<span class="integer">20</span>],
        <span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>:[<span class="integer">45</span>,<span class="integer">39</span>,<span class="integer">10</span>],
        <span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>:[<span class="integer">40</span>,<span class="integer">30</span>,<span class="integer">20</span>],
        <span class="string"><span class="delimiter">&quot;</span><span class="content">D</span><span class="delimiter">&quot;</span></span>:[<span class="integer">14</span>,<span class="integer">25</span>,<span class="integer">19</span>]
]
Chart chart = <span class="predefined-type">Box</span>.box(data)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_box.png" alt="plot box">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-curve-charts"><a class="anchor" href="#creating-curve-charts"></a>Creating Curve Charts</h3>
<div class="listingblock">
<div class="title">Create a curve chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> data = [
        [<span class="integer">1</span>,<span class="integer">10</span>],[<span class="integer">45</span>,<span class="integer">12</span>],[<span class="integer">23</span>,<span class="integer">3</span>],[<span class="integer">5</span>,<span class="integer">20</span>]
]
Chart chart = Curve.curve(data)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_curve.png" alt="plot curve">
</div>
</div>
<div class="listingblock">
<div class="title">Create a smooth curve chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> data = [
        [<span class="integer">1</span>,<span class="integer">10</span>],[<span class="integer">45</span>,<span class="integer">12</span>],[<span class="integer">23</span>,<span class="integer">3</span>],[<span class="integer">5</span>,<span class="integer">20</span>]
]
Chart chart = Curve.curve(data, <span class="key">smooth</span>: <span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_curve_smooth.png" alt="plot curve smooth">
</div>
</div>
<div class="listingblock">
<div class="title">Create a 3D curve chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> data = [
        [<span class="integer">1</span>,<span class="integer">10</span>],[<span class="integer">45</span>,<span class="integer">12</span>],[<span class="integer">23</span>,<span class="integer">3</span>],[<span class="integer">5</span>,<span class="integer">20</span>]
]
Chart chart = Curve.curve(data, <span class="key">trid</span>: <span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_curve3d.png" alt="plot curve3d">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-regression-charts"><a class="anchor" href="#creating-regression-charts"></a>Creating Regression Charts</h3>
<div class="listingblock">
<div class="title">Create a linear regression chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint mulitPoint = Geometry.createRandomPoints(<span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">100</span>,<span class="integer">100</span>).geometry, <span class="integer">10</span>)
<span class="predefined-type">List</span> data = mulitPoint.geometries.collect{ <span class="predefined-type">Point</span> pt -&gt;
    [pt.x, pt.y]
}
Chart chart = Regression.linear(data)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_linear_regression.png" alt="plot linear regression">
</div>
</div>
<div class="listingblock">
<div class="title">Create a power regression chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint mulitPoint = Geometry.createRandomPoints(<span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">100</span>,<span class="integer">100</span>).geometry, <span class="integer">10</span>)
<span class="predefined-type">List</span> data = mulitPoint.geometries.collect{ <span class="predefined-type">Point</span> pt -&gt;
    [pt.x, pt.y]
}
Chart chart = Regression.power(data)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_power_regression.png" alt="plot power regression">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-scatter-plot-charts"><a class="anchor" href="#creating-scatter-plot-charts"></a>Creating Scatter Plot Charts</h3>
<div class="listingblock">
<div class="title">Create a scatter plot chart</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint mulitPoint = Geometry.createRandomPoints(<span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">100</span>,<span class="integer">100</span>).geometry, <span class="integer">10</span>)
<span class="predefined-type">List</span> data = mulitPoint.geometries.collect{ <span class="predefined-type">Point</span> pt -&gt;
    [pt.x, pt.y]
}
Chart chart = Scatter.scatterplot(data)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_scatterplot.png" alt="plot scatterplot">
</div>
</div>
<div class="listingblock">
<div class="title">Create a scatter plot chart with options</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MultiPoint mulitPoint = Geometry.createRandomPoints(<span class="keyword">new</span> Bounds(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">100</span>,<span class="integer">100</span>).geometry, <span class="integer">10</span>)
<span class="predefined-type">List</span> data = mulitPoint.geometries.collect{ <span class="predefined-type">Point</span> pt -&gt;
    [pt.x, pt.y]
}
Chart chart = Scatter.scatterplot(data, <span class="key">legend</span>: <span class="predefined-constant">false</span>, <span class="key">xLabel</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">X Coordinates</span><span class="delimiter">&quot;</span></span>, <span class="key">yLabel</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Y Coordinates</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/plot_scatterplot_options.png" alt="plot scatterplot options">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="feature-recipes"><a class="anchor" href="#feature-recipes"></a>Feature Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Feature classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/feature/package-summary.html">geoscript.feature</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="creating-fields"><a class="anchor" href="#creating-fields"></a>Creating Fields</h3>
<div class="listingblock">
<div class="title">Create a Field with a name and a type</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Field</span> field = <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
println field</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Geometry Field with a name and a geometry type and an optional projection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Field</span> field = <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
println field</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geom: Point(EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Field with a List of Strings (name, type, projection)</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Field</span> field = <span class="keyword">new</span> <span class="predefined-type">Field</span>([<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>])
println field</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geom: Polygon(EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Field from a Map where keys are name, type, proj</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Field</span> field = <span class="keyword">new</span> <span class="predefined-type">Field</span>([
        <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">LineString</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">proj</span><span class="delimiter">&quot;</span></span>: <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
])
println field</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geom: LineString(EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Access a Field&#8217;s properties</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Field</span> field = <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Name = </span><span class="inline"><span class="inline-delimiter">${</span>field.name<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Type = </span><span class="inline"><span class="inline-delimiter">${</span>field.typ<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Projection = </span><span class="inline"><span class="inline-delimiter">${</span>field.proj<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Is Geometry = </span><span class="inline"><span class="inline-delimiter">${</span>field.geometry<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Name = geom
Type = Point
Projection = "EPSG:4326
Is Geometry = true</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-schemas"><a class="anchor" href="#creating-schemas"></a>Creating Schemas</h3>
<div class="listingblock">
<div class="title">Create a Schema from a list of Fields</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
println schema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities geom: Point(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Schema from a list of Lists</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        [<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>],
        [<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>],
        [<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>]
])
println schema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities geom: Point(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Schema from a list of Maps</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        [<span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="key">proj</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>],
        [<span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>,   <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>],
        [<span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>]
])
println schema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities geom: Point(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Schema from a string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">geom:Point:srid=4326,id:Integer,name:String</span><span class="delimiter">&quot;</span></span>)
println schema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities geom: Point(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-schema-properties"><a class="anchor" href="#getting-schema-properties"></a>Getting Schema Properties</h3>
<div class="listingblock">
<div class="title">Get the Schema&#8217;s name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">https://github.com/jericks/geoscript-groovy-cookbook</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> name = schema.name
println name</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Schema&#8217;s geometry Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Field</span> geomField = schema.geom
println geomField</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geom: Point(EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Schema&#8217;s Projection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection proj = schema.proj
println proj</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>EPSG:4326</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Schema&#8217;s URI</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> uri = schema.uri
println uri</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>https://github.com/jericks/geoscript-groovy-cookbook</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Schema&#8217;s specification string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> spec = schema.spec
println spec</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geom:Point:srid=4326,id:Integer,name:String</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-schema-fields"><a class="anchor" href="#getting-schema-fields"></a>Getting Schema Fields</h3>
<div class="listingblock">
<div class="title">Get the Schema&#8217;s Fields</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Field</span>&gt; fields = schema.fields
fields.each { <span class="predefined-type">Field</span> field -&gt;
    println field
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geom: Point(EPSG:4326)
id: Integer
name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Field</span> nameField = schema.field(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>)
println nameField</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Field</span> idField = schema.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>)
println idField</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>id: Integer</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check if a Schema has a Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">boolean</span> hasArea = schema.has(<span class="string"><span class="delimiter">&quot;</span><span class="content">area</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Has area Field? </span><span class="inline"><span class="inline-delimiter">${</span>hasArea<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="type">boolean</span> hasGeom = schema.has(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Has geom Field? </span><span class="inline"><span class="inline-delimiter">${</span>hasGeom<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false
true</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="modifying-schemas"><a class="anchor" href="#modifying-schemas"></a>Modifying Schemas</h3>
<div class="listingblock">
<div class="title">Change the projection of a Schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Schema</span> reprojectedSchema = schema.reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:2927</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">cities_spws</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities_spws geom: Point(EPSG:2927), id: Integer, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Change the geometry type of a Schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Schema</span> polyognSchema = schema.changeGeometryType(<span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">cities_buffer</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities_buffer geom: Polygon(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Change a Field definition of a Schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Schema</span> guidSchema = schema.changeField(schema.field(<span class="string"><span class="delimiter">'</span><span class="content">id</span><span class="delimiter">'</span></span>), <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">'</span><span class="content">guid</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">String</span><span class="delimiter">'</span></span>), <span class="string"><span class="delimiter">'</span><span class="content">cities_guid</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities_guid geom: Point(EPSG:4326), guid: String, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Change Field definitions of a Schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Schema</span> updatedSchema = schema.changeFields(
        [
            (schema.field(<span class="string"><span class="delimiter">'</span><span class="content">id</span><span class="delimiter">'</span></span>))   : <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">'</span><span class="content">guid</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">String</span><span class="delimiter">'</span></span>),
            (schema.field(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>)) : <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">'</span><span class="content">description</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">String</span><span class="delimiter">'</span></span>)
        ], <span class="string"><span class="delimiter">'</span><span class="content">cities_updated</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities_updated geom: Point(EPSG:4326), guid: String, description: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Add a Field to a Schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Schema</span> updatedSchema = schema.addField(<span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">area</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Double</span><span class="delimiter">&quot;</span></span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">countries_area</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries_area geom: Polygon(EPSG:4326), id: Integer, name: String, area: Double</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Add a List of Fields to a Schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Schema</span> updatedSchema = schema.addFields([
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">area</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Double</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">perimeter</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Double</span><span class="delimiter">&quot;</span></span>),
], <span class="string"><span class="delimiter">&quot;</span><span class="content">countries_areaperimeter</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries_areaperimeter geom: Polygon(EPSG:4326), id: Integer, name: String, area: Double, perimeter: Double</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Remove a Field from a Schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">area</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Double</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Schema</span> updatedSchema = schema.removeField(schema.field(<span class="string"><span class="delimiter">&quot;</span><span class="content">area</span><span class="delimiter">&quot;</span></span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">countries_updated</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries_updated geom: Polygon(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Remove a List of Fields from a Schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">area</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Double</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Schema</span> updatedSchema = schema.removeFields([
        schema.field(<span class="string"><span class="delimiter">&quot;</span><span class="content">area</span><span class="delimiter">&quot;</span></span>),
        schema.field(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">countries_updated</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries_updated geom: Polygon(EPSG:4326), id: Integer</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a new Schema from an existing Schema but only including a subset of Fields</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">area</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Double</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Schema</span> updatedSchema = schema.removeFields([
        schema.field(<span class="string"><span class="delimiter">&quot;</span><span class="content">area</span><span class="delimiter">&quot;</span></span>),
        schema.field(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">countries_updated</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries_updated geom: Polygon(EPSG:4326), name: String</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="combining-schemas"><a class="anchor" href="#combining-schemas"></a>Combining Schemas</h3>
<div class="paragraph">
<p>Combining two Schemas results in a Map with two values: schema and fields.  The schema property contains
the new Schema.  The fields property is List of two Maps which both contain a mapping between the fields
of the original Schema and the newly created Schema.</p>
</div>
<div class="paragraph">
<p>Optional arguments to the Schema.addSchema method are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>postfixAll: Whether to postfix all field names (true) or not (false). If true, all Fields from the this current Schema will have '1' at the end of their name while the other Schema&#8217;s Fields will have '2'. Defaults to false.</p>
</li>
<li>
<p>includeDuplicates: Whether or not to include duplicate fields names. Defaults to false. If a duplicate is found a '2' will be added.</p>
</li>
<li>
<p>maxFieldNameLength: The maximum new Field name length (mostly to support shapefiles where Field names can&#8217;t be longer than 10 characters</p>
</li>
<li>
<p>firstPostfix: The postfix string (default is '1') for Fields from the current Schema. Only applicable when postfixAll or includeDuplicates is true.</p>
</li>
<li>
<p>secondPostfix: The postfix string (default is '2') for Fields from the other Schema. Only applicable when postfixAll or includeDuplicates is true.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Combine two Schemas with no duplicate fields and no postfixes to field names</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> shopSchema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">shops</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])

<span class="predefined-type">Schema</span> cafeSchema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cafes</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">address</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])

<span class="predefined-type">Map</span> result = shopSchema.addSchema(cafeSchema, <span class="string"><span class="delimiter">&quot;</span><span class="content">business</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">Schema</span> combinedSchema = result.schema
println combinedSchema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>business geom: Point(EPSG:4326), id: Integer, name: String, address: String</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">String</span>&gt; shopSchemaFieldMapping = result.fields[<span class="integer">0</span>]
println shopSchemaFieldMapping</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[geom:geom, id:id, name:name]</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">String</span>&gt; cafeSchemaSchemaFieldMapping = result.fields[<span class="integer">1</span>]
println cafeSchemaSchemaFieldMapping</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[address:address]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Combine two Schemas with no duplicate fields and postfixes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> shopSchema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">shops</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])

<span class="predefined-type">Schema</span> cafeSchema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cafes</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">address</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])

<span class="predefined-type">Map</span> result = shopSchema.addSchema(cafeSchema, <span class="string"><span class="delimiter">&quot;</span><span class="content">business</span><span class="delimiter">&quot;</span></span>, <span class="key">postfixAll</span>: <span class="predefined-constant">true</span>, <span class="key">includeDuplicates</span>: <span class="predefined-constant">false</span>)

<span class="predefined-type">Schema</span> combinedSchema = result.schema
println combinedSchema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>business geom: Point(EPSG:4326), id1: Integer, name1: String, id2: Integer, name2: String, address2: String</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">String</span>&gt; shopSchemaFieldMapping = result.fields[<span class="integer">0</span>]
println shopSchemaFieldMapping</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[geom:geom, id:id1, name:name1]</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">String</span>&gt; cafeSchemaSchemaFieldMapping = result.fields[<span class="integer">1</span>]
println cafeSchemaSchemaFieldMapping</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[id:id2, name:name2, address:address2]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-features-from-a-schema"><a class="anchor" href="#creating-features-from-a-schema"></a>Creating Features from a Schema</h3>
<div class="listingblock">
<div class="title">Create a Feature from a Schema with a Map of values</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = schema.feature([
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Seattle</span><span class="delimiter">'</span></span>,
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>( -<span class="float">122.3204</span>, <span class="float">47.6024</span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities.city.1 geom: POINT (-122.3204 47.6024), id: 1, name: Seattle</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Feature from a Schema with a List of values.  The order of the values must match the order of the Fields.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = schema.feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>( -<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">'</span><span class="content">Seattle</span><span class="delimiter">'</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities.city.1 geom: POINT (-122.3204 47.6024), id: 1, name: Seattle</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Feature from a Schema with another Feature.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature1 = <span class="keyword">new</span> Feature([
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Seattle</span><span class="delimiter">'</span></span>,
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>( -<span class="float">122.3204</span>, <span class="float">47.6024</span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)
println feature1
Feature feature2 = schema.feature(feature1)
println feature2</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities.city.1 geom: POINT (-122.3204 47.6024), id: 1, name: Seattle
cities.city.1 geom: POINT (-122.3204 47.6024), id: 1, name: Seattle</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create an empty Feature from a Schema.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = schema.feature()
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities.fid-430c8eb2_16d5549ff60_-282a geom: null, id: null, name: null</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reading-and-writing-schemas"><a class="anchor" href="#reading-and-writing-schemas"></a>Reading and Writing Schemas</h3>
<div class="paragraph">
<p>The Schema IO classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/feature/io/package-summary.html">geoscript.feature.io</a></strong> package.</p>
</div>
<div class="sect3">
<h4 id="finding-schema-writer-and-readers"><a class="anchor" href="#finding-schema-writer-and-readers"></a>Finding Schema Writer and Readers</h4>
<div class="listingblock">
<div class="title">List all Schema Writers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;SchemaWriter&gt; writers = SchemaWriters.list()
writers.each { SchemaWriter writer -&gt;
    println writer.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>JsonSchemaWriter
StringSchemaWriter
XmlSchemaWriter</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Schema Writer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])

SchemaWriter writer = SchemaWriters.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> schemaStr = writer.write(schema)
println schemaStr</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geom:Point:srid=4326,id:Integer,name:String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">List all Schema Readers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;SchemaReader&gt; readers = SchemaReaders.list()
readers.each { SchemaReader reader -&gt;
    println reader.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>JsonSchemaReader
StringSchemaReader
XmlSchemaReader</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Schema Reader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">SchemaReader reader = SchemaReaders.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Schema</span> schema = reader.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom:Point:srid=4326,id:Integer,name:String</span><span class="delimiter">&quot;</span></span>)
println schema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>layer geom: Point(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="string"><a class="anchor" href="#string"></a>String</h4>
<div class="listingblock">
<div class="title">Read a Schema from a String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">StringSchemaReader reader = <span class="keyword">new</span> StringSchemaReader()
<span class="predefined-type">Schema</span> schema = reader.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom:Point:srid=4326,id:Integer,name:String</span><span class="delimiter">&quot;</span></span>, <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">points</span><span class="delimiter">&quot;</span></span>)
println schema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>points geom: Point(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Schema to a String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])

StringSchemaWriter writer = <span class="keyword">new</span> StringSchemaWriter()
<span class="predefined-type">String</span> schemaStr = writer.write(schema)
println schemaStr</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geom:Point:srid=4326,id:Integer,name:String</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="json"><a class="anchor" href="#json"></a>JSON</h4>
<div class="listingblock">
<div class="title">Read a Schema from a JSON</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        JsonSchemaReader reader = <span class="keyword">new</span> JsonSchemaReader()
        <span class="predefined-type">Schema</span> schema = reader.read(<span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">{
    &quot;name&quot;: &quot;cities&quot;,
    &quot;projection&quot;: &quot;EPSG:4326&quot;,
    &quot;geometry&quot;: &quot;geom&quot;,
    &quot;fields&quot;: [
        {
            &quot;name&quot;: &quot;geom&quot;,
            &quot;type&quot;: &quot;Point&quot;,
            &quot;geometry&quot;: true,
            &quot;projection&quot;: &quot;EPSG:4326&quot;
        },
        {
            &quot;name&quot;: &quot;id&quot;,
            &quot;type&quot;: &quot;Integer&quot;
        },
        {
            &quot;name&quot;: &quot;name&quot;,
            &quot;type&quot;: &quot;String&quot;
        }
    ]
}</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
        println schema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities geom: Point(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Schema to a JSON</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])

JsonSchemaWriter writer = <span class="keyword">new</span> JsonSchemaWriter()
<span class="predefined-type">String</span> schemaStr = writer.write(schema)
println schemaStr</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{
    "name": "cities",
    "projection": "EPSG:4326",
    "geometry": "geom",
    "fields": [
        {
            "name": "geom",
            "type": "Point",
            "geometry": true,
            "projection": "EPSG:4326"
        },
        {
            "name": "id",
            "type": "Integer"
        },
        {
            "name": "name",
            "type": "String"
        }
    ]
}</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xml"><a class="anchor" href="#xml"></a>XML</h4>
<div class="listingblock">
<div class="title">Read a Schema from a XML</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        XmlSchemaReader reader = <span class="keyword">new</span> XmlSchemaReader()
        <span class="predefined-type">Schema</span> schema = reader.read(<span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;schema&gt;
  &lt;name&gt;cities&lt;/name&gt;
  &lt;projection&gt;EPSG:4326&lt;/projection&gt;
  &lt;geometry&gt;geom&lt;/geometry&gt;
  &lt;fields&gt;
    &lt;field&gt;
      &lt;name&gt;geom&lt;/name&gt;
      &lt;type&gt;Point&lt;/type&gt;
      &lt;projection&gt;EPSG:4326&lt;/projection&gt;
    &lt;/field&gt;
    &lt;field&gt;
      &lt;name&gt;id&lt;/name&gt;
      &lt;type&gt;Integer&lt;/type&gt;
    &lt;/field&gt;
    &lt;field&gt;
      &lt;name&gt;name&lt;/name&gt;
      &lt;type&gt;String&lt;/type&gt;
    &lt;/field&gt;
  &lt;/fields&gt;
&lt;/schema&gt;</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
        println schema</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities geom: Point(EPSG:4326), id: Integer, name: String</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Schema to a XML</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])

XmlSchemaWriter writer = <span class="keyword">new</span> XmlSchemaWriter()
<span class="predefined-type">String</span> schemaStr = writer.write(schema)
println schemaStr</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;schema&gt;
  &lt;name&gt;cities&lt;/name&gt;
  &lt;projection&gt;EPSG:4326&lt;/projection&gt;
  &lt;geometry&gt;geom&lt;/geometry&gt;
  &lt;fields&gt;
    &lt;field&gt;
      &lt;name&gt;geom&lt;/name&gt;
      &lt;type&gt;Point&lt;/type&gt;
      &lt;projection&gt;EPSG:4326&lt;/projection&gt;
    &lt;/field&gt;
    &lt;field&gt;
      &lt;name&gt;id&lt;/name&gt;
      &lt;type&gt;Integer&lt;/type&gt;
    &lt;/field&gt;
    &lt;field&gt;
      &lt;name&gt;name&lt;/name&gt;
      &lt;type&gt;String&lt;/type&gt;
    &lt;/field&gt;
  &lt;/fields&gt;
&lt;/schema&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-features"><a class="anchor" href="#creating-features"></a>Creating Features</h3>
<div class="listingblock">
<div class="title">Create an empty Feature from a Map of values and a Schema.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities.city.1 geom: POINT (-122.3204 47.6024), id: 1, name: Seattle</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create an empty Feature from a List of values and a Schema.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities.city.1 geom: POINT (-122.3204 47.6024), id: 1, name: Seattle</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create an empty Feature from a Map of values.  The Schema is inferred from the values.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Feature feature = <span class="keyword">new</span> Feature([
  <span class="key">id</span>: <span class="integer">1</span>,
  <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
  <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>feature.city.1 id: 1, name: Seattle, geom: POINT (-122.3204 47.6024)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-feature-properties"><a class="anchor" href="#getting-feature-properties"></a>Getting Feature Properties</h3>
<div class="listingblock">
<div class="title">Get a Feature&#8217;s ID</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

<span class="predefined-type">String</span> id = feature.id
println id</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>city.1</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Feature&#8217;s Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = feature.geom
println geometry</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-122.3204 47.6024)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Feature&#8217;s Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = feature.bounds
println bounds</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(-122.3204,47.6024,-122.3204,47.6024,EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Feature&#8217;s attributes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> attributes = feature.attributes
println attributes</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[geom:POINT (-122.3204 47.6024), id:1, name:Seattle]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-feature-attributes"><a class="anchor" href="#getting-feature-attributes"></a>Getting Feature Attributes</h3>
<div class="listingblock">
<div class="title">Get an attribute from a Feature using a Field name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

<span class="type">int</span> id = feature.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>)
println id</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>1</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get an attribute from a Feature using a Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> name = feature.get(schema.field(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>))
println name</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Seattle</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Set an attribute of a Feature using a Field name and a new value</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">feature.set(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>)
println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>]</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Tacoma</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Set an attribute of a Feature using a Field and a new value</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">feature.set(schema.field(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">Mercer Island</span><span class="delimiter">&quot;</span></span>)
println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>]</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Mercer Island</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Set attributes of a Feature using a Map of new values</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">feature.set([<span class="key">id</span>: <span class="integer">2</span>])
println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>]</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>2</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Set a new Geometry value</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">feature.geom = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.2220</span>, <span class="float">47.5673</span>)
println feature.geom</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-122.222 47.5673)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reading-and-writing-features"><a class="anchor" href="#reading-and-writing-features"></a>Reading and Writing Features</h3>
<div class="paragraph">
<p>The Feature IO classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/feature/io/package-summary.html">geoscript.feature.io</a></strong> package.</p>
</div>
<div class="sect3">
<h4 id="finding-feature-writer-and-readers"><a class="anchor" href="#finding-feature-writer-and-readers"></a>Finding Feature Writer and Readers</h4>
<div class="listingblock">
<div class="title">List all Feature Writers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Writer</span>&gt; writers = Writers.list()
writers.each { <span class="predefined-type">Writer</span> writer -&gt;
    println writer.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeobufWriter
GeoJSONWriter
GeoRSSWriter
GmlWriter
GpxWriter
KmlWriter</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Feature Writer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Writer</span> writer = Writers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">geojson</span><span class="delimiter">&quot;</span></span>)
println writer.class.simpleName</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeoJSONWriter</pre>
</div>
</div>
<div class="listingblock">
<div class="title">List all Feature Readers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Reader</span>&gt; readers = Readers.list()
readers.each { <span class="predefined-type">Reader</span> reader -&gt;
    println reader.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeobufReader
GeoJSONReader
GeoRSSReader
GmlReader
GpxReader
KmlReader</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Feature Reader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Reader</span> reader = Readers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">geojson</span><span class="delimiter">&quot;</span></span>)
println reader.class.simpleName</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeoJSONReader</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="geojson-2"><a class="anchor" href="#geojson-2"></a>GeoJSON</h4>
<div class="listingblock">
<div class="title">Get a GeoJSON String from a Feature</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

<span class="predefined-type">String</span> geojson = feature.geoJSON
println geojson</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{"type":"Feature","geometry":{"type":"Point","coordinates":[-122.3204,47.6024]},"properties":{"id":1,"name":"Seattle"},"id":"city.1"}</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Feature to GeoJSON</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

GeoJSONWriter writer = <span class="keyword">new</span> GeoJSONWriter()
<span class="predefined-type">String</span> geojson = writer.write(feature)
println geojson</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{"type":"Feature","geometry":{"type":"Point","coordinates":[-122.3204,47.6024]},"properties":{"id":1,"name":"Seattle"},"id":"city.1"}</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Feature from GeoJSON</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> geojson = <span class="string"><span class="delimiter">'</span><span class="content">{&quot;type&quot;:&quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-122.3204,47.6024]},&quot;properties&quot;:{&quot;id&quot;:1,&quot;name&quot;:&quot;Seattle&quot;},&quot;id&quot;:&quot;city.1&quot;}</span><span class="delimiter">'</span></span>
Feature feature = Feature.fromGeoJSON(geojson)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>feature.city.1 id: 1, name: Seattle, geometry: POINT (-122.3204 47.6024)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Feature from GeoJSON</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeoJSONReader reader = <span class="keyword">new</span> GeoJSONReader()
<span class="predefined-type">String</span> geojson = <span class="string"><span class="delimiter">'</span><span class="content">{&quot;type&quot;:&quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-122.3204,47.6024]},&quot;properties&quot;:{&quot;id&quot;:1,&quot;name&quot;:&quot;Seattle&quot;},&quot;id&quot;:&quot;city.1&quot;}</span><span class="delimiter">'</span></span>
Feature feature = reader.read(geojson)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>feature.city.1 id: 1, name: Seattle, geometry: POINT (-122.3204 47.6024)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="geobuf-2"><a class="anchor" href="#geobuf-2"></a>GeoBuf</h4>
<div class="listingblock">
<div class="title">Get a GeoBuf String from a Feature</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

<span class="predefined-type">String</span> geobuf = feature.geobuf
println geobuf</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0a0269640a046e616d65100218062a1d0a0c08001a089fd8d374c0ebb22d6a0218016a090a0753656174746c65</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Feature from a GeoBuf String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> geobuf = <span class="string"><span class="delimiter">'</span><span class="content">0a0269640a046e616d65100218062a1d0a0c08001a089fd8d374c0ebb22d6a0218016a090a0753656174746c65</span><span class="delimiter">'</span></span>
Feature feature = Feature.fromGeobuf(geobuf)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>features.0 geom: POINT (-122.3204 47.6024), id: 1, name: Seattle</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Feature to a GeoBuf String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

GeobufWriter writer = <span class="keyword">new</span> GeobufWriter()
<span class="predefined-type">String</span> geobuf = writer.write(feature)
println geobuf</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0a0269640a046e616d65100218062a1d0a0c08001a089fd8d374c0ebb22d6a0218016a090a0753656174746c65</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Feature from a GeoBuf String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GeobufReader reader = <span class="keyword">new</span> GeobufReader()
<span class="predefined-type">String</span> geobuf = <span class="string"><span class="delimiter">'</span><span class="content">0a0269640a046e616d65100218062a1d0a0c08001a089fd8d374c0ebb22d6a0218016a090a0753656174746c65</span><span class="delimiter">'</span></span>
Feature feature = reader.read(geobuf)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>features.0 geom: POINT (-122.3204 47.6024), id: 1, name: Seattle</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="georss-2"><a class="anchor" href="#georss-2"></a>GeoRSS</h4>
<div class="listingblock">
<div class="title">Get a GeoRSS String from a Feature</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

<span class="predefined-type">String</span> georss = feature.geoRSS
println georss</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;entry xmlns:georss='http://www.georss.org/georss' xmlns='http://www.w3.org/2005/Atom'&gt;&lt;title&gt;city.1&lt;/title&gt;&lt;summary xmlns:georss='http://www.georss.org/georss' xmlns='http://www.w3.org/2005/Atom'&gt;[geom:POINT (-122.3204 47.6024), id:1, name:Seattle]&lt;/summary&gt;&lt;updated&gt;Sat Sep 21 19:28:41 UTC 2019&lt;/updated&gt;&lt;georss:point xmlns:georss='http://www.georss.org/georss' xmlns='http://www.w3.org/2005/Atom'&gt;47.6024 -122.3204&lt;/georss:point&gt;&lt;/entry&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Feature from a GeoRSS String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> georss = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;entry xmlns:georss='http://www.georss.org/georss' xmlns='http://www.w3.org/2005/Atom'&gt;
    &lt;title&gt;city.1&lt;/title&gt;
    &lt;summary&gt;[geom:POINT (-122.3204 47.6024), id:1, name:Seattle]&lt;/summary&gt;
    &lt;updated&gt;Sat Jan 28 15:51:47 PST 2017&lt;/updated&gt;
    &lt;georss:point&gt;47.6024 -122.3204&lt;/georss:point&gt;
&lt;/entry&gt;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        Feature feature = Feature.fromGeoRSS(georss)
        println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>georss.fid-430c8eb2_16d5549ff60_-282e title: city.1, summary: [geom:POINT (-122.3204 47.6024), id:1, name:Seattle], updated: Sat Jan 28 15:51:47 PST 2017, geom: POINT (-122.3204 47.6024)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Feature to a GeoRSS String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

GeoRSSWriter writer = <span class="keyword">new</span> GeoRSSWriter()
<span class="predefined-type">String</span> georss = writer.write(feature)
println georss</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;entry xmlns:georss='http://www.georss.org/georss' xmlns='http://www.w3.org/2005/Atom'&gt;&lt;title&gt;city.1&lt;/title&gt;&lt;summary xmlns:georss='http://www.georss.org/georss' xmlns='http://www.w3.org/2005/Atom'&gt;[geom:POINT (-122.3204 47.6024), id:1, name:Seattle]&lt;/summary&gt;&lt;updated&gt;Sat Sep 21 19:28:41 UTC 2019&lt;/updated&gt;&lt;georss:point xmlns:georss='http://www.georss.org/georss' xmlns='http://www.w3.org/2005/Atom'&gt;47.6024 -122.3204&lt;/georss:point&gt;&lt;/entry&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Feature from a GeoRSS String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        GeoRSSReader reader = <span class="keyword">new</span> GeoRSSReader()
        <span class="predefined-type">String</span> georss = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;entry xmlns:georss='http://www.georss.org/georss' xmlns='http://www.w3.org/2005/Atom'&gt;
    &lt;title&gt;city.1&lt;/title&gt;
    &lt;summary&gt;[geom:POINT (-122.3204 47.6024), id:1, name:Seattle]&lt;/summary&gt;
    &lt;updated&gt;Sat Jan 28 15:51:47 PST 2017&lt;/updated&gt;
    &lt;georss:point&gt;47.6024 -122.3204&lt;/georss:point&gt;
&lt;/entry&gt;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        Feature feature = reader.read(georss)
        println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>georss.fid-430c8eb2_16d5549ff60_-282c title: city.1, summary: [geom:POINT (-122.3204 47.6024), id:1, name:Seattle], updated: Sat Jan 28 15:51:47 PST 2017, geom: POINT (-122.3204 47.6024)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gml"><a class="anchor" href="#gml"></a>GML</h4>
<div class="listingblock">
<div class="title">Get a GML String from a Feature</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

<span class="predefined-type">String</span> gml = feature.gml
println gml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;gsf:cities xmlns:gsf="http://geoscript.org/feature" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" fid="city.1"&gt;
&lt;gml:name&gt;Seattle&lt;/gml:name&gt;
&lt;gsf:geom&gt;
&lt;gml:Point&gt;
&lt;gml:coord&gt;
&lt;gml:X&gt;-122.3204&lt;/gml:X&gt;
&lt;gml:Y&gt;47.6024&lt;/gml:Y&gt;
&lt;/gml:coord&gt;
&lt;/gml:Point&gt;
&lt;/gsf:geom&gt;
&lt;gsf:id&gt;1&lt;/gsf:id&gt;
&lt;/gsf:cities&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Feature from a GML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> gml = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;gsf:cities xmlns:gsf=&quot;http://geoscript.org/feature&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:gml=&quot;http://www.opengis.net/gml&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; fid=&quot;city.1&quot;&gt;
    &lt;gml:name&gt;Seattle&lt;/gml:name&gt;
    &lt;gsf:geom&gt;
        &lt;gml:Point&gt;
            &lt;gml:coord&gt;
                &lt;gml:X&gt;-122.3204&lt;/gml:X&gt;
                &lt;gml:Y&gt;47.6024&lt;/gml:Y&gt;
            &lt;/gml:coord&gt;
        &lt;/gml:Point&gt;
    &lt;/gsf:geom&gt;
    &lt;gsf:id&gt;1&lt;/gsf:id&gt;
&lt;/gsf:cities&gt;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        Feature feature = Feature.fromGml(gml)
        println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>feature.city.1 name: Seattle, id: 1, geom: POINT (-122.3204 47.6024)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Feature to a GML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

GmlWriter writer = <span class="keyword">new</span> GmlWriter()
<span class="predefined-type">String</span> gml = writer.write(feature)
println gml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;gsf:cities xmlns:gsf="http://geoscript.org/feature" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" fid="city.1"&gt;
&lt;gml:name&gt;Seattle&lt;/gml:name&gt;
&lt;gsf:geom&gt;
&lt;gml:Point&gt;
&lt;gml:coord&gt;
&lt;gml:X&gt;-122.3204&lt;/gml:X&gt;
&lt;gml:Y&gt;47.6024&lt;/gml:Y&gt;
&lt;/gml:coord&gt;
&lt;/gml:Point&gt;
&lt;/gsf:geom&gt;
&lt;gsf:id&gt;1&lt;/gsf:id&gt;
&lt;/gsf:cities&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Feature from a GML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        GmlReader reader = <span class="keyword">new</span> GmlReader()
        <span class="predefined-type">String</span> gml = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;gsf:cities xmlns:gsf=&quot;http://geoscript.org/feature&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:gml=&quot;http://www.opengis.net/gml&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; fid=&quot;city.1&quot;&gt;
    &lt;gml:name&gt;Seattle&lt;/gml:name&gt;
    &lt;gsf:geom&gt;
        &lt;gml:Point&gt;
            &lt;gml:coord&gt;
                &lt;gml:X&gt;-122.3204&lt;/gml:X&gt;
                &lt;gml:Y&gt;47.6024&lt;/gml:Y&gt;
            &lt;/gml:coord&gt;
        &lt;/gml:Point&gt;
    &lt;/gsf:geom&gt;
    &lt;gsf:id&gt;1&lt;/gsf:id&gt;
&lt;/gsf:cities&gt;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        Feature feature = reader.read(gml)
        println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>feature.city.1 name: Seattle, id: 1, geom: POINT (-122.3204 47.6024)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gpx-2"><a class="anchor" href="#gpx-2"></a>GPX</h4>
<div class="listingblock">
<div class="title">Get a GPX String from a Feature</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

<span class="predefined-type">String</span> gpx = feature.gpx
println gpx</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;wpt lat='47.6024' lon='-122.3204' xmlns='http://www.topografix.com/GPX/1/1'&gt;&lt;name&gt;city.1&lt;/name&gt;&lt;/wpt&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Feature from a GPX String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> gpx = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;wpt lat='47.6024' lon='-122.3204' xmlns='http://www.topografix.com/GPX/1/1'&gt;&lt;name&gt;city.1&lt;/name&gt;&lt;/wpt&gt;</span><span class="delimiter">&quot;</span></span>
Feature feature = Feature.fromGpx(gpx)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>gpx.fid-430c8eb2_16d5549ff60_-282b geom: POINT (-122.3204 47.6024), name: city.1</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Feature to a GPX String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

GpxWriter writer = <span class="keyword">new</span> GpxWriter()
<span class="predefined-type">String</span> gpx = writer.write(feature)
println gpx</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;wpt lat='47.6024' lon='-122.3204' xmlns='http://www.topografix.com/GPX/1/1'&gt;&lt;name&gt;city.1&lt;/name&gt;&lt;/wpt&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Feature from a GPX String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GpxReader reader = <span class="keyword">new</span> GpxReader()
<span class="predefined-type">String</span> gpx = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;wpt lat='47.6024' lon='-122.3204' xmlns='http://www.topografix.com/GPX/1/1'&gt;&lt;name&gt;city.1&lt;/name&gt;&lt;/wpt&gt;</span><span class="delimiter">&quot;</span></span>
Feature feature = reader.read(gpx)
println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>gpx.fid-430c8eb2_16d5549ff60_-282d geom: POINT (-122.3204 47.6024), name: city.1</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="kml-2"><a class="anchor" href="#kml-2"></a>KML</h4>
<div class="listingblock">
<div class="title">Get a KML String from a Feature</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

<span class="predefined-type">String</span> kml = feature.kml
println kml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;kml:Placemark xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:kml="http://earth.google.com/kml/2.1" id="city.1"&gt;&lt;kml:name&gt;Seattle&lt;/kml:name&gt;&lt;kml:Point&gt;&lt;kml:coordinates&gt;-122.3204,47.6024&lt;/kml:coordinates&gt;&lt;/kml:Point&gt;&lt;/kml:Placemark&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Feature from a KML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> kml = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;kml:Placemark xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:kml=&quot;http://earth.google.com/kml/2.1&quot; id=&quot;city.1&quot;&gt;
    &lt;kml:name&gt;Seattle&lt;/kml:name&gt;
    &lt;kml:Point&gt;
        &lt;kml:coordinates&gt;-122.3204,47.6024&lt;/kml:coordinates&gt;
    &lt;/kml:Point&gt;
&lt;/kml:Placemark&gt;</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        Feature feature = Feature.fromKml(kml)
        println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>placemark.city.1 name: Seattle, description: null, Geometry: POINT (-122.3204 47.6024)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Feature to a KML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Feature feature = <span class="keyword">new</span> Feature([
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="integer">1</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>, schema)

KmlWriter writer = <span class="keyword">new</span> KmlWriter()
<span class="predefined-type">String</span> kml = writer.write(feature)
println kml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;kml:Placemark xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:kml="http://earth.google.com/kml/2.1" id="city.1"&gt;&lt;kml:name&gt;Seattle&lt;/kml:name&gt;&lt;kml:Point&gt;&lt;kml:coordinates&gt;-122.3204,47.6024&lt;/kml:coordinates&gt;&lt;/kml:Point&gt;&lt;/kml:Placemark&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Feature from a KML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        KmlReader reader = <span class="keyword">new</span> KmlReader()
        <span class="predefined-type">String</span> kml = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;kml:Placemark xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:kml=&quot;http://earth.google.com/kml/2.1&quot; id=&quot;city.1&quot;&gt;
    &lt;kml:name&gt;Seattle&lt;/kml:name&gt;
    &lt;kml:Point&gt;
        &lt;kml:coordinates&gt;-122.3204,47.6024&lt;/kml:coordinates&gt;
    &lt;/kml:Point&gt;
&lt;/kml:Placemark&gt;</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        Feature feature = reader.read(kml)
        println feature</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>placemark.city.1 name: Seattle, description: null, Geometry: POINT (-122.3204 47.6024)</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="filter-recipes"><a class="anchor" href="#filter-recipes"></a>Filter Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Filter classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/filter/package-summary.html">geoscript.filter</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="creating-filters"><a class="anchor" href="#creating-filters"></a>Creating Filters</h3>
<div class="listingblock">
<div class="title">Create a Filter from a CQL string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name='Seattle'</span><span class="delimiter">&quot;</span></span>)
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ name = Seattle ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Filter from a CQL string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;filter&gt;&lt;PropertyIsEqualTo&gt;&lt;PropertyName&gt;soilType&lt;/PropertyName&gt;&lt;Literal&gt;Mollisol&lt;/Literal&gt;&lt;/PropertyIsEqualTo&gt;&lt;/filter&gt;</span><span class="delimiter">&quot;</span></span>)
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ soilType = Mollisol ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a pass Filter that return true for everything</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.PASS
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Filter.INCLUDE</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a fail Filter that return false for everything</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.FAIL
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Filter.EXCLUDE</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a spatial bounding box Filter from a Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.bbox(<span class="keyword">new</span> Bounds(-<span class="integer">102</span>, <span class="float">43.5</span>, -<span class="integer">100</span>, <span class="float">47.5</span>))
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ the_geom bbox ReferencedEnvelope[-102.0 : -100.0, 43.5 : 47.5] ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a spatial contains Filter from a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.contains(Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON ((-104 45, -95 45, -95 50, -104 50, -104 45))</span><span class="delimiter">&quot;</span></span>))
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ the_geom contains POLYGON ((-104 45, -95 45, -95 50, -104 50, -104 45)) ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a spatial distance within Filter from a Geometry and a distance</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.dwithin(<span class="string"><span class="delimiter">&quot;</span><span class="content">the_geom</span><span class="delimiter">&quot;</span></span>, Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POINT (-100 47)</span><span class="delimiter">&quot;</span></span>), <span class="float">10.2</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">feet</span><span class="delimiter">&quot;</span></span>)
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ the_geom dwithin POINT (-100 47), distance: 10.2 ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a spatial crosses Filter from a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.crosses(<span class="string"><span class="delimiter">&quot;</span><span class="content">the_geom</span><span class="delimiter">&quot;</span></span>, Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">LINESTRING (-104 45, -95 45)</span><span class="delimiter">&quot;</span></span>))
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ the_geom crosses LINESTRING (-104 45, -95 45) ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a spatial intersects Filter from a Geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.intersects(Geometry.fromWKT(<span class="string"><span class="delimiter">&quot;</span><span class="content">POLYGON ((-104 45, -95 45, -95 50, -104 50, -104 45))</span><span class="delimiter">&quot;</span></span>))
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ the_geom intersects POLYGON ((-104 45, -95 45, -95 50, -104 50, -104 45)) ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a feature id Filter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.id(<span class="string"><span class="delimiter">&quot;</span><span class="content">points.1</span><span class="delimiter">&quot;</span></span>)
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ points.1 ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a feature ids Filter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.ids([<span class="string"><span class="delimiter">&quot;</span><span class="content">points.1</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">points.2</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">points.3</span><span class="delimiter">&quot;</span></span>])
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ points.1, points.2, points.3 ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create an equals Filter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="predefined-type">Filter</span>.equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Washington</span><span class="delimiter">&quot;</span></span>)
println filter.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ name = Washington ]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-filters"><a class="anchor" href="#using-filters"></a>Using Filters</h3>
<div class="listingblock">
<div class="title">Get a CQL string from a Filter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> filter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name='Seattle'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> cql = filter.cql
println cql</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>name = 'Seattle'</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get an XML string from a Filter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> xml = filter.xml
println xml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;ogc:Filter xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc"&gt;
&lt;ogc:PropertyIsEqualTo&gt;
&lt;ogc:PropertyName&gt;name&lt;/ogc:PropertyName&gt;
&lt;ogc:Literal&gt;Seattle&lt;/ogc:Literal&gt;
&lt;/ogc:PropertyIsEqualTo&gt;
&lt;/ogc:Filter&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Combine Filters with and</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> cityFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">city = 'Seattle'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Filter</span> stateFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">state = 'WA'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Filter</span> andFilter = cityFilter.and(stateFilter)
println andFilter</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[[ city = Seattle ] AND [ state = WA ]]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Combine Filters with and using the plus operator</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> cityFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">city = 'Seattle'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Filter</span> stateFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">state = 'WA'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Filter</span> andFilter = cityFilter + stateFilter
println andFilter</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[[ city = Seattle ] AND [ state = WA ]]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Combine Filters with or</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> seattleFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">city = 'Seattle'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Filter</span> tacomaFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">city = 'Tacoma'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Filter</span> orFilter = seattleFilter.or(tacomaFilter)
println orFilter</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[[ city = Seattle ] OR [ city = Tacoma ]]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Negate a Filter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> seattleFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">city = 'Seattle'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Filter</span> notSeattleFilter = seattleFilter.not
println notSeattleFilter</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ NOT [ city = Seattle ] ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Negate a Filter using the minus operator</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> seattleFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">city = 'Seattle'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Filter</span> notSeattleFilter = -seattleFilter
println notSeattleFilter</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ NOT [ city = Seattle ] ]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Simplify a Filter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> seattleFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">city = 'Seattle'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Filter</span> filter = (seattleFilter + <span class="predefined-type">Filter</span>.PASS).simplify()
println filter</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[ city = Seattle ]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="evaluating-filters"><a class="anchor" href="#evaluating-filters"></a>Evaluating Filters</h3>
<div class="listingblock">
<div class="title">Test to see if a Filter matches a Feature by attribute</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Feature feature = <span class="keyword">new</span> Feature([
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">Filter</span> isNameFilter = <span class="keyword">new</span> <span class="predefined-type">Filter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name='Seattle'</span><span class="delimiter">&quot;</span></span>)
<span class="type">boolean</span> isName = isNameFilter.evaluate(feature)
println isName</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Filter isNotNameFilter = new Filter("name='Tacoma'")
boolean isNotName = isNotNameFilter.evaluate(feature)
println isNotName</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test to see if a Filter matches a Feature by feature id</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> isIdFilter = <span class="predefined-type">Filter</span>.id(<span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>)
<span class="type">boolean</span> isId = isIdFilter.evaluate(feature)
println isId</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Filter isNotIdFilter = Filter.id("city.2")
boolean isNotId = isNotIdFilter.evaluate(feature)
println isNotId</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test to see if a Filter matches a Feature by a spatial bounding box</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Filter</span> isInBboxFilter = <span class="predefined-type">Filter</span>.bbox(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>,  <span class="keyword">new</span> Bounds(-<span class="float">132.539</span>, <span class="float">42.811</span>, -<span class="float">111.796</span>, <span class="float">52.268</span>))
<span class="type">boolean</span> isInBbox = isInBboxFilter.evaluate(feature)
println isInBbox</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Filter isNotInBboxFilter = Filter.bbox("geom", new Bounds(-12.656, 18.979, 5.273, 34.597))
boolean isNotInBbox = isNotInBboxFilter.evaluate(feature)
println isNotInBbox</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-literals"><a class="anchor" href="#creating-literals"></a>Creating Literals</h3>
<div class="listingblock">
<div class="title">Create a literal Expression from a number</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> expression = <span class="keyword">new</span> <span class="predefined-type">Expression</span>(<span class="float">3.56</span>)
println expression</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>3.56</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a literal Expression from a string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> expression = <span class="keyword">new</span> <span class="predefined-type">Expression</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>)
println expression</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Seattle</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Evaluating a literal Expression just gives you the value</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> expression = <span class="keyword">new</span> <span class="predefined-type">Expression</span>(<span class="float">3.56</span>)
<span class="type">double</span> number = expression.evaluate()
println number</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>3.56</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-properties"><a class="anchor" href="#creating-properties"></a>Creating Properties</h3>
<div class="listingblock">
<div class="title">Create a Property from a string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Property property = <span class="keyword">new</span> Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>)
println property</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>name</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Property from a Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Field</span> field = <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>)
Property property = <span class="keyword">new</span> Property(field)
println property</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geom</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="evaluating-properties"><a class="anchor" href="#evaluating-properties"></a>Evaluating Properties</h3>
<div class="listingblock">
<div class="title">Evaluate a Property to get values from a Feature. Get the id</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Feature feature = <span class="keyword">new</span> Feature([
    <span class="key">id</span>: <span class="integer">1</span>,
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
    <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>)

Property idProperty = <span class="keyword">new</span> Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> id = idProperty.evaluate(feature)
println id</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>1</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Property nameProperty = <span class="keyword">new</span> Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> name = nameProperty.evaluate(feature)
println name</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Seattle</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the geometry</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Property geomProperty = <span class="keyword">new</span> Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = geomProperty.evaluate(feature)
println geometry</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>POINT (-122.3204 47.6024)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-functions"><a class="anchor" href="#creating-functions"></a>Creating Functions</h3>
<div class="listingblock">
<div class="title">Create a Function from a CQL string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Function function = <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">centroid(the_geom)</span><span class="delimiter">&quot;</span></span>)
println function</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>centroid([the_geom])</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Function from a name and Expressions</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Function function = <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">centroid</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">the_geom</span><span class="delimiter">&quot;</span></span>))
println function</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>centroid([the_geom])</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Function from a name, a Closure, and Expressions</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Function function = <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">my_centroid</span><span class="delimiter">&quot;</span></span>, {g-&gt; g.centroid}, <span class="keyword">new</span> Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">the_geom</span><span class="delimiter">&quot;</span></span>))
println function</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>my_centroid([the_geom])</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Function from a CQL string and a Closure</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Function function = <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">my_centroid(the_geom)</span><span class="delimiter">&quot;</span></span>, {g-&gt; g.centroid})
println function</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>my_centroid([the_geom])</pre>
</div>
</div>
<div class="listingblock">
<div class="title">You can get a list of built in Functions</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; functionNames = Function.getFunctionNames()
println <span class="string"><span class="delimiter">&quot;</span><span class="content">There are </span><span class="inline"><span class="inline-delimiter">${</span>functionNames.size()<span class="inline-delimiter">}</span></span><span class="content"> Functions:</span><span class="delimiter">&quot;</span></span>
functionNames.sort().subList(<span class="integer">0</span>,<span class="integer">10</span>).each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>There are 306 Functions:
Area
Categorize
Collection_Average
Collection_Bounds
Collection_Count
Collection_Max
Collection_Median
Collection_Min
Collection_Nearest
Collection_Sum</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="evaluating-functions"><a class="anchor" href="#evaluating-functions"></a>Evaluating Functions</h3>
<div class="listingblock">
<div class="title">Evaulate a geometry Function</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Feature feature = <span class="keyword">new</span> Feature([
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>)
], <span class="string"><span class="delimiter">&quot;</span><span class="content">city.1</span><span class="delimiter">&quot;</span></span>)

Function bufferFunction = <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">buffer(geom, 10)</span><span class="delimiter">&quot;</span></span>)
Geometry polygon = bufferFunction.evaluate(feature)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_function_evaluate_buffer.png" alt="filter function evaluate buffer">
</div>
</div>
<div class="listingblock">
<div class="title">Evaulate a geometry Function</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Function lowerCaseFunction = <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">strToLowerCase(name)</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> lowerCaseName = lowerCaseFunction.evaluate(feature)
println lowerCaseName</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>seattle</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="process-functions"><a class="anchor" href="#process-functions"></a>Process Functions</h3>
<div class="paragraph">
<p>Process Functions are a combination of Functions and Processes that can be used to create rendering transformations.</p>
</div>
<div class="listingblock">
<div class="title">Create a Function from a Process that converts geometries in a Layer into a convexhull.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer places = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Process</span> process = <span class="keyword">new</span> <span class="predefined-type">Process</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">convexhull</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Create a convexhull around the features</span><span class="delimiter">&quot;</span></span>,
        [<span class="key">features</span>: geoscript.layer.Cursor],
        [<span class="key">result</span>: geoscript.layer.Cursor],
        { inputs -&gt;
            <span class="keyword">def</span> geoms = <span class="keyword">new</span> GeometryCollection(inputs.features.collect{ f -&gt; f.geom})
            <span class="keyword">def</span> output = <span class="keyword">new</span> Layer()
            output.add([geoms.convexHull])
            [<span class="key">result</span>: output]
        }
)
Function function = <span class="keyword">new</span> Function(process, <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">parameter</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">Expression</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>)))
Symbolizer symbolizer =  <span class="keyword">new</span> Transform(function, Transform.RENDERING) + <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">aqua</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
places.style = symbolizer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/createFunctionProcess.png" alt="createFunctionProcess">
</div>
</div>
<div class="listingblock">
<div class="title">Create a ProcessFunction from a Process that converts geometries in a Layer into a bounds.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer places = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Process</span> process = <span class="keyword">new</span> <span class="predefined-type">Process</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">bounds</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Create a bounds around the features</span><span class="delimiter">&quot;</span></span>,
        [<span class="key">features</span>: geoscript.layer.Cursor],
        [<span class="key">result</span>: geoscript.layer.Cursor],
        { inputs -&gt;
            <span class="keyword">def</span> geoms = <span class="keyword">new</span> GeometryCollection(inputs.features.collect{ f -&gt; f.geom})
            <span class="keyword">def</span> output = <span class="keyword">new</span> Layer()
            output.add([geoms.bounds.geometry])
            [<span class="key">result</span>: output]
        }
)
ProcessFunction processFunction = <span class="keyword">new</span> ProcessFunction(process, <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">parameter</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">Expression</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>)))
Symbolizer symbolizer =  <span class="keyword">new</span> Transform(processFunction, Transform.RENDERING) + <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">aqua</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
places.style = symbolizer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/createProcessFunction.png" alt="createProcessFunction">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-colors"><a class="anchor" href="#creating-colors"></a>Creating Colors</h3>
<div class="listingblock">
<div class="title">Create a Color from a RGB color string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">0,255,0</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_rbgstring.png" alt="filter color rbgstring">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color from a CSS color name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">silver</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_csscolorname.png" alt="filter color csscolorname">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color from a hexadecimal string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#0000ff</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_hexadecimal.png" alt="filter color hexadecimal">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color from a RGB List</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>([<span class="integer">255</span>,<span class="integer">0</span>,<span class="integer">0</span>])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_rgblist.png" alt="filter color rgblist">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color from a RGB Map</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>([<span class="key">r</span>: <span class="integer">5</span>, <span class="key">g</span>: <span class="integer">35</span>, <span class="key">b</span>:<span class="integer">45</span>])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_rgbmap.png" alt="filter color rgbmap">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color from a RGB function string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">rgb(0,128,128)</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_rgbs_funcstring.png" alt="filter color rgbs funcstring">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color from a HLS Map</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>([<span class="key">h</span>: <span class="integer">0</span>, <span class="key">s</span>: <span class="float">1.0</span>, <span class="key">l</span>: <span class="float">0.5</span>])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_hlsmap.png" alt="filter color hlsmap">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color from a HSL function string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">hsl(0,1,0.5)</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_hsl_functionstr.png" alt="filter color hsl functionstr">
</div>
</div>
<div class="listingblock">
<div class="title">Get a Random Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="predefined-type">Color</span>.getRandom()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_random.png" alt="filter color random">
</div>
</div>
<div class="listingblock">
<div class="title">Get a Random Pastel Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="predefined-type">Color</span>.getRandomPastel()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_random_pastel.png" alt="filter color random pastel">
</div>
</div>
<div class="listingblock">
<div class="title">Get a darker Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">lightblue</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Color</span> darkerColor = color.darker()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/getDarkerColor.png" alt="getDarkerColor">
</div>
</div>
<div class="listingblock">
<div class="title">Get a brighter Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">purple</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Color</span> brigtherColor = color.brighter()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/getBrighterColor.png" alt="getBrighterColor">
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-color-formats"><a class="anchor" href="#getting-color-formats"></a>Getting Color Formats</h3>
<div class="listingblock">
<div class="title">Create a Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">wheat</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/getColorProperties.png" alt="getColorProperties">
</div>
</div>
<div class="listingblock">
<div class="title">Get Hex</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> hex = color.hex
println hex</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>#f5deb3</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get RGB</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> rgb = color.rgb
println rgb</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[245, 222, 179]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get HSL</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> hsl = color.hsl
println hsl</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[0.10858585256755147, 0.7674419030001307, 0.8313725489999999]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the java.awt.Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">java.awt.Color awtColor = color.asColor()
println awtColor</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>java.awt.Color[r=245,g=222,b=179]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="displaying-colors"><a class="anchor" href="#displaying-colors"></a>Displaying Colors</h3>
<div class="listingblock">
<div class="title">Draw a List of Colors to a BufferedImage</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> color = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">pink</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">BufferedImage</span> image = <span class="predefined-type">Color</span>.drawToImage(
        [color.brighter(), color, color.darker()],
        <span class="string"><span class="delimiter">&quot;</span><span class="content">vertical</span><span class="delimiter">&quot;</span></span>,
        <span class="integer">40</span>
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_draw2img.png" alt="filter color draw2img">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a List of Colors to a simple GUI</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Color</span>&gt; colors = <span class="predefined-type">Color</span>.getPaletteColors(<span class="string"><span class="delimiter">&quot;</span><span class="content">YlOrBr</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Color</span>.draw(colors, <span class="string"><span class="delimiter">&quot;</span><span class="content">horizontal</span><span class="delimiter">&quot;</span></span>, <span class="integer">50</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_drawgui.png" alt="filter color drawgui">
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-color-palettes"><a class="anchor" href="#using-color-palettes"></a>Using Color Palettes</h3>
<div class="listingblock">
<div class="title">Get all color palettes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; allPalettes = <span class="predefined-type">Color</span>.getPaletteNames(<span class="string"><span class="delimiter">&quot;</span><span class="content">all</span><span class="delimiter">&quot;</span></span>)
allPalettes.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>YlOrRd
PRGn
PuOr
RdGy
Spectral
Grays
PuBuGn
RdPu
BuPu
YlOrBr
Greens
BuGn
Accents
GnBu
PuRd
Purples
RdYlGn
Paired
Blues
RdBu
Oranges
RdYlBu
PuBu
OrRd
Set3
Set2
Set1
Reds
PiYG
Dark2
YlGn
BrBG
YlGnBu
Pastel2
Pastel1
BlueToOrange
GreenToOrange
BlueToRed
GreenToRedOrange
Sunset
Green
YellowToRedHeatMap
BlueToYellowToRedHeatMap
DarkRedToYellowWhiteHeatMap
LightPurpleToDarkPurpleHeatMap
BoldLandUse
MutedTerrain
BoldLandUse
MutedTerrain</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get diverging color palettes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; divergingPalettes = <span class="predefined-type">Color</span>.getPaletteNames(<span class="string"><span class="delimiter">&quot;</span><span class="content">diverging</span><span class="delimiter">&quot;</span></span>)
divergingPalettes.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>PRGn
PuOr
RdGy
Spectral
RdYlGn
RdBu
RdYlBu
PiYG
BrBG
BlueToOrange
GreenToOrange
BlueToRed
GreenToRedOrange</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get sequential color palettes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; sequentialPalettes = <span class="predefined-type">Color</span>.getPaletteNames(<span class="string"><span class="delimiter">&quot;</span><span class="content">sequential</span><span class="delimiter">&quot;</span></span>)
sequentialPalettes.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>YlOrRd
Grays
PuBuGn
RdPu
BuPu
YlOrBr
Greens
BuGn
GnBu
PuRd
Purples
Blues
Oranges
PuBu
OrRd
Reds
YlGn
YlGnBu
Sunset
Green
YellowToRedHeatMap
BlueToYellowToRedHeatMap
DarkRedToYellowWhiteHeatMap
LightPurpleToDarkPurpleHeatMap
BoldLandUse
MutedTerrain</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get qualitative color palettes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; qualitativePalettes = <span class="predefined-type">Color</span>.getPaletteNames(<span class="string"><span class="delimiter">&quot;</span><span class="content">qualitative</span><span class="delimiter">&quot;</span></span>)
qualitativePalettes.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Accents
Paired
Set3
Set2
Set1
Dark2
Pastel2
Pastel1
BoldLandUse
MutedTerrain</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Blue Green Color Palette</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> colors = <span class="predefined-type">Color</span>.getPaletteColors(<span class="string"><span class="delimiter">&quot;</span><span class="content">BuGn</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/color_palette_bugn.png" alt="color palette bugn">
</div>
</div>
<div class="listingblock">
<div class="title">Get a Purple Color Palette with only four colors</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">colors = <span class="predefined-type">Color</span>.getPaletteColors(<span class="string"><span class="delimiter">&quot;</span><span class="content">Purples</span><span class="delimiter">&quot;</span></span>, <span class="integer">4</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/color_palette_purples.png" alt="color palette purples">
</div>
</div>
<div class="listingblock">
<div class="title">Get a Blue Green Color Palette</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">colors = <span class="predefined-type">Color</span>.getPaletteColors(<span class="string"><span class="delimiter">&quot;</span><span class="content">MutedTerrain</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/color_palette_mutedterrain.png" alt="color palette mutedterrain">
</div>
</div>
<div class="listingblock">
<div class="title">Get a Blue Green Color Palette</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">colors = <span class="predefined-type">Color</span>.getPaletteColors(<span class="string"><span class="delimiter">&quot;</span><span class="content">BlueToYellowToRedHeatMap</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/color_palette_bluetoyellowtoredheatmap.png" alt="color palette bluetoyellowtoredheatmap">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color palette by interpolating between two colors</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> startColor = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">red</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Color</span> endColor = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">green</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Color</span>&gt; colors = startColor.interpolate(endColor, <span class="integer">10</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_interpolate.png" alt="filter color interpolate">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color palette by interpolating between two colors</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Color</span> startColor = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">wheat</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Color</span> endColor = <span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">lightblue</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Color</span>&gt; colors = <span class="predefined-type">Color</span>.interpolate(startColor, endColor, <span class="integer">8</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/filter_color_interpolate_static.png" alt="filter color interpolate static">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-expressions-from-cql"><a class="anchor" href="#creating-expressions-from-cql"></a>Creating Expressions from CQL</h3>
<div class="listingblock">
<div class="title">Create a literal number Expression from a CQL String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> expression = <span class="predefined-type">Expression</span>.fromCQL(<span class="string"><span class="delimiter">&quot;</span><span class="content">12</span><span class="delimiter">&quot;</span></span>)
println expression</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>12</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a literal string Expression from a CQL String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> expression = <span class="predefined-type">Expression</span>.fromCQL(<span class="string"><span class="delimiter">&quot;</span><span class="content">'Washington'</span><span class="delimiter">&quot;</span></span>)
println expression</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Washington</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Property from a CQL String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Property property = <span class="predefined-type">Expression</span>.fromCQL(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>)
println property</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>NAME</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Function from a CQL String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Function function = <span class="predefined-type">Expression</span>.fromCQL(<span class="string"><span class="delimiter">&quot;</span><span class="content">centroid(the_geom)</span><span class="delimiter">&quot;</span></span>)
println function</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>centroid([the_geom])</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-expression-from-static-imports"><a class="anchor" href="#create-expression-from-static-imports"></a>Create Expression from static imports</h3>
<div class="listingblock">
<div class="title">You can import short helper methods from the Expressions class.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">static</span> <span class="include">geoscript.filter.Expressions.*</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a literal</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> literal = expression(<span class="float">1.2</span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> color = color(<span class="string"><span class="delimiter">&quot;</span><span class="content">wheat</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Property</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> property = property(<span class="string"><span class="delimiter">&quot;</span><span class="content">ID</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Function</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> function = function(<span class="string"><span class="delimiter">&quot;</span><span class="content">max(10,22)</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="process-recipes"><a class="anchor" href="#process-recipes"></a>Process Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Process classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/process/package-summary.html">geoscript.process</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="execute-a-built-in-process"><a class="anchor" href="#execute-a-built-in-process"></a>Execute a built-in Process</h3>
<div class="listingblock">
<div class="title">Create a Process from a built-in process by name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Process</span> process = <span class="keyword">new</span> <span class="predefined-type">Process</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">vec:Bounds</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> name = process.name
println name</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>vec:Bounds</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the title</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> title = process.title
println title</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Bounds</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the description</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> description = process.description
println description</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Computes the bounding box of the input features.</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the version</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> version = process.version
println version</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>1.0.0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the input parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> parameters = process.parameters
println parameters</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[features:class geoscript.layer.Cursor]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the output parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> results = process.results
println results</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[bounds:class geoscript.geom.Bounds]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Execute the Process to calculate the bounding box of all Features in a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> executeResults = process.execute([<span class="key">features</span>: layer])
Bounds bounds = executeResults.bounds</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/process_execute_bounds.png" alt="process execute bounds">
</div>
</div>
</div>
<div class="sect2">
<h3 id="listing-built-in-processes"><a class="anchor" href="#listing-built-in-processes"></a>Listing built-in Processes</h3>
<div class="listingblock">
<div class="title">Get the names of all built-in Processes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; processes = <span class="predefined-type">Process</span>.processNames
processes.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>vec:Aggregate
vec:BarnesSurface
vec:Bounds
vec:BufferFeatureCollection
vec:Centroid
vec:ClassifyByRange
vec:Clip
vec:CollectGeometries
vec:Count
vec:Feature
vec:FeatureClassStats
vec:Grid
vec:Heatmap
vec:InclusionFeatureCollection
vec:IntersectionFeatureCollection
vec:LRSGeocode
vec:LRSMeasure
vec:LRSSegment
vec:Nearest
vec:PointBuffers
vec:PointStacker
vec:Query
vec:RectangularClip
vec:Reproject
vec:Simplify
vec:Snap
vec:Transform
vec:UnionFeatureCollection
vec:Unique
vec:VectorToRaster
vec:VectorZonalStatistics
geo:getX
geo:getY
geo:isValid
geo:buffer
geo:union
geo:intersection
geo:difference
geo:endPoint
geo:isRing
geo:polygonize
geo:reproject
geo:splitPolygon
geo:within
geo:touches
geo:convexHull
geo:area
geo:crosses
geo:symDifference
geo:distance
geo:boundary
geo:centroid
geo:interiorPoint
geo:getGeometryN
geo:overlaps
geo:isSimple
geo:isWithinDistance
geo:relate
geo:densify
geo:simplify
geo:numGeometries
geo:startPoint
geo:numPoints
geo:isClosed
geo:dimension
geo:exteriorRing
geo:numInteriorRing
geo:geometryType
geo:envelope
geo:equalsExact
geo:interiorRingN
geo:relatePattern
geo:equalsExactTolerance
geo:pointN
geo:length
geo:isEmpty
geo:contains
geo:disjoint
geo:intersects
polygonlabelprocess:PolyLabeller
ras:AddCoverages
ras:Affine
ras:AreaGrid
ras:BandMerge
ras:BandSelect
ras:Contour
ras:ConvolveCoverage
ras:CoverageClassStats
ras:CropCoverage
ras:Jiffle
ras:MultiplyCoverages
ras:NormalizeCoverage
ras:PolygonExtraction
ras:RangeLookup
ras:RasterAsPointCollection
ras:RasterZonalStatistics
ras:RasterZonalStatistics2
ras:ScaleCoverage
ras:StyleCoverage
ras:TransparencyFill
geoscript:convexhull</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="executing-a-new-process"><a class="anchor" href="#executing-a-new-process"></a>Executing a new Process</h3>
<div class="listingblock">
<div class="title">Create a Process using a Groovy Closure</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Process</span> process = <span class="keyword">new</span> <span class="predefined-type">Process</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">convexhull</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Create a convexhull around the features</span><span class="delimiter">&quot;</span></span>,
        [<span class="key">features</span>: geoscript.layer.Cursor],
        [<span class="key">result</span>: geoscript.layer.Cursor],
        { inputs -&gt;
            <span class="keyword">def</span> geoms = <span class="keyword">new</span> GeometryCollection(inputs.features.collect{f -&gt; f.geom})
            <span class="keyword">def</span> output = <span class="keyword">new</span> Layer()
            output.add([geoms.convexHull])
            [<span class="key">result</span>: output]
        }
)
<span class="predefined-type">String</span> name = process.name
println name</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geoscript:convexhull</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the title</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> title = process.title
println title</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>convexhull</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the description</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> description = process.description
println description</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Create a convexhull around the features</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the version</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> version = process.version
println version</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>1.0.0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the input parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> parameters = process.parameters
println parameters</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[features:class geoscript.layer.Cursor]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the output parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> results = process.results
println results</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[result:class geoscript.layer.Cursor]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Execute the Process created from a Groovy Closure</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> executeResults = process.execute([<span class="key">features</span>: layer.cursor])
<span class="predefined-type">Cursor</span> convexHullCursor = executeResults.result</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/process_execute_closure.png" alt="process execute closure">
</div>
</div>
</div>
<div class="sect2">
<h3 id="process-functions-2"><a class="anchor" href="#process-functions-2"></a>Process Functions</h3>
<div class="paragraph">
<p>Process Functions are a combination of Functions and Processes that can be used to create rendering transformations.</p>
</div>
<div class="listingblock">
<div class="title">Create a Function from a Process that converts geometries in a Layer into a convexhull.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer places = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Process</span> process = <span class="keyword">new</span> <span class="predefined-type">Process</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">convexhull</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Create a convexhull around the features</span><span class="delimiter">&quot;</span></span>,
        [<span class="key">features</span>: geoscript.layer.Cursor],
        [<span class="key">result</span>: geoscript.layer.Cursor],
        { inputs -&gt;
            <span class="keyword">def</span> geoms = <span class="keyword">new</span> GeometryCollection(inputs.features.collect{ f -&gt; f.geom})
            <span class="keyword">def</span> output = <span class="keyword">new</span> Layer()
            output.add([geoms.convexHull])
            [<span class="key">result</span>: output]
        }
)
Function function = <span class="keyword">new</span> Function(process, <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">parameter</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">Expression</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>)))
Symbolizer symbolizer =  <span class="keyword">new</span> Transform(function, Transform.RENDERING) + <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">aqua</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
places.style = symbolizer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/processFunctionProcess.png" alt="processFunctionProcess">
</div>
</div>
<div class="listingblock">
<div class="title">Create a ProcessFunction from a Process that converts geometries in a Layer into a bounds.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer places = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Process</span> process = <span class="keyword">new</span> <span class="predefined-type">Process</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">bounds</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Create a bounds around the features</span><span class="delimiter">&quot;</span></span>,
        [<span class="key">features</span>: geoscript.layer.Cursor],
        [<span class="key">result</span>: geoscript.layer.Cursor],
        { inputs -&gt;
            <span class="keyword">def</span> geoms = <span class="keyword">new</span> GeometryCollection(inputs.features.collect{ f -&gt; f.geom})
            <span class="keyword">def</span> output = <span class="keyword">new</span> Layer()
            output.add([geoms.bounds.geometry])
            [<span class="key">result</span>: output]
        }
)
ProcessFunction processFunction = <span class="keyword">new</span> ProcessFunction(process, <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">parameter</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">Expression</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>)))
Symbolizer symbolizer =  <span class="keyword">new</span> Transform(processFunction, Transform.RENDERING) + <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">aqua</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
places.style = symbolizer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/processProcessFunction.png" alt="processProcessFunction">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="render-recipes"><a class="anchor" href="#render-recipes"></a>Render Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Render classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/render/package-summary.html">geoscript.render</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="creating-maps"><a class="anchor" href="#creating-maps"></a>Creating Maps</h3>
<div class="listingblock">
<div class="title">Create a Map with Layers and render to a File.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
    <span class="key">width</span>: <span class="integer">800</span>,
    <span class="key">height</span>: <span class="integer">300</span>,
    <span class="key">layers</span>: [ocean, countries]
)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.png</span><span class="delimiter">&quot;</span></span>)
map.render(file)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_create.png" alt="map create">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Map with Layers and render to a file name.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
map.render(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.png</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_create_filename.png" alt="map create filename">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Map with Layers and render to an OutputStream.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.png</span><span class="delimiter">&quot;</span></span>)
file.withOutputStream { <span class="predefined-type">OutputStream</span> outputStream -&gt;
    map.render(outputStream)
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_create_outputstream.png" alt="map create outputstream">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Map with Layers and render to an BufferedImage.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
<span class="predefined-type">BufferedImage</span> image = map.renderToImage()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_create_image.png" alt="map create image">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Map with Layers and render to a Graphics2D object.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
<span class="predefined-type">BufferedImage</span> image = <span class="keyword">new</span> <span class="predefined-type">BufferedImage</span>(<span class="integer">800</span>, <span class="integer">300</span>, <span class="predefined-type">BufferedImage</span>.TYPE_INT_ARGB)
<span class="predefined-type">Graphics2D</span> graphics = image.graphics
map.render(graphics)
graphics.dispose()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_create_graphics.png" alt="map create graphics">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Map with Layers and display in a simple UI.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
map.display()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_display_map.png" alt="render display map">
</div>
</div>
</div>
<div class="sect2">
<h3 id="map-properties"><a class="anchor" href="#map-properties"></a>Map Properties</h3>
<div class="listingblock">
<div class="title">Get Map properties</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">600</span>,
        <span class="key">height</span>: <span class="integer">600</span>,
        <span class="key">backgroundColor</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>,
        <span class="key">layers</span>: [countries],
        <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>,
        <span class="key">proj</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>,
        <span class="key">bounds</span>: <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">85</span>,<span class="integer">180</span>,<span class="integer">85</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>),
        <span class="key">fixAspectRatio</span>: <span class="predefined-constant">false</span>
)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.png</span><span class="delimiter">&quot;</span></span>)
map.render(file)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_properties.png" alt="map properties">
</div>
</div>
<div class="listingblock">
<div class="title">Get width and height</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">int</span> width = map.width
<span class="type">int</span> height = map.height
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width and Height = </span><span class="inline"><span class="inline-delimiter">${</span>width<span class="inline-delimiter">}</span></span><span class="content"> x </span><span class="inline"><span class="inline-delimiter">${</span>height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Width and Height = 600 x 600</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Bounds</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = map.bounds
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds = </span><span class="inline"><span class="inline-delimiter">${</span>bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Bounds = (-2.0037508342789244E7,-1.9971868880408555E7,2.0037508342789244E7,1.9971868880408563E7,EPSG:3857)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Projection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection projection = map.proj
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Projeciton = </span><span class="inline"><span class="inline-delimiter">${</span>projection<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Projeciton = EPSG:3857</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Layers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;Layer&gt; layers = map.layers
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Layers:</span><span class="delimiter">&quot;</span></span>
layers.each { Layer layer -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">   </span><span class="inline"><span class="inline-delimiter">${</span>layer.name<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Layers:
   countries</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the renderer type</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> type = map.type
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Type = </span><span class="inline"><span class="inline-delimiter">${</span>type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Type = png</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get whether we are fixing the aspect ration or not.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">boolean</span> shouldFixAspectRation = map.fixAspectRatio
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Fix Aspect Ratio = </span><span class="inline"><span class="inline-delimiter">${</span>shouldFixAspectRation<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Fix Aspect Ratio = false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the background color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> backgroundColor = map.backgroundColor
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Background Color = </span><span class="inline"><span class="inline-delimiter">${</span>backgroundColor<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Background Color = #a5bfdd</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the scale</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> scale = map.scaleDenominator
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Scale = </span><span class="inline"><span class="inline-delimiter">${</span>scale<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Scale = 2.385417659855862E8</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-properties"><a class="anchor" href="#advanced-properties"></a>Advanced Properties</h3>
<div class="listingblock">
<div class="title">You can set the scale computation to be accurate (the default) or ogc compliant.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">400</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries],
        <span class="key">bounds</span>: <span class="keyword">new</span> Bounds(-<span class="float">162.070313</span>,<span class="float">9.968851</span>,-<span class="float">35.507813</span>,<span class="float">58.995311</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
)

map.setScaleComputation(<span class="string"><span class="delimiter">&quot;</span><span class="content">accurate</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">File</span> accurateFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map_accurate.png</span><span class="delimiter">&quot;</span></span>)
map.render(accurateFile)

map.setScaleComputation(<span class="string"><span class="delimiter">&quot;</span><span class="content">ogc</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">File</span> ogcFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map_ogc.png</span><span class="delimiter">&quot;</span></span>)
map.render(ogcFile)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Accurate</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_accurate.png" alt="map accurate">
</div>
</div>
<div class="paragraph">
<p>OGC</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_ogc.png" alt="map ogc">
</div>
</div>
<div class="listingblock">
<div class="title">You can set whether to use advanced projection handling or not.  By default this is set to true.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">400</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries],
        <span class="key">bounds</span>: <span class="keyword">new</span> Bounds(-<span class="float">162.070313</span>,<span class="float">9.968851</span>,-<span class="float">35.507813</span>,<span class="float">58.995311</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
)

map.setAdvancedProjectionHandling(<span class="predefined-constant">true</span>)
<span class="predefined-type">File</span> trueFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map_advancedproj_true.png</span><span class="delimiter">&quot;</span></span>)
map.render(trueFile)

map.setAdvancedProjectionHandling(<span class="predefined-constant">false</span>)
<span class="predefined-type">File</span> falseFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map_advancedproj_false.png</span><span class="delimiter">&quot;</span></span>)
map.render(falseFile)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Yes</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_advancedproj_true.png" alt="map advancedproj true">
</div>
</div>
<div class="paragraph">
<p>No</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_advancedproj_false.png" alt="map advancedproj false">
</div>
</div>
<div class="listingblock">
<div class="title">You can set whether to use continuous map wrapping. The default is true.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">200</span>,
        <span class="key">layers</span>: [ocean, countries]
)

map.setContinuousMapWrapping(<span class="predefined-constant">true</span>)
<span class="predefined-type">File</span> trueFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map_continuouswrapping_true.png</span><span class="delimiter">&quot;</span></span>)
map.render(trueFile)

map.setContinuousMapWrapping(<span class="predefined-constant">false</span>)
<span class="predefined-type">File</span> falseFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map_continuouswrapping_false.png</span><span class="delimiter">&quot;</span></span>)
map.render(falseFile)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Yes</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_continuouswrapping_true.png" alt="map continuouswrapping true">
</div>
</div>
<div class="paragraph">
<p>No</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_continuouswrapping_false.png" alt="map continuouswrapping false">
</div>
</div>
</div>
<div class="sect2">
<h3 id="map-cubes"><a class="anchor" href="#map-cubes"></a>Map Cubes</h3>
<div class="listingblock">
<div class="title">Create a map cube to a file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/shapefiles</span><span class="delimiter">&quot;</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

MapCube mapCube = <span class="keyword">new</span> MapCube(
    <span class="key">drawOutline</span>: <span class="predefined-constant">true</span>,
    <span class="key">drawTabs</span>: <span class="predefined-constant">true</span>,
    <span class="key">tabSize</span>: <span class="integer">30</span>,
    <span class="key">title</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">World Cube</span><span class="delimiter">&quot;</span></span>,
    <span class="key">source</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Nartual Earth</span><span class="delimiter">&quot;</span></span>,
    <span class="key">imageType</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>
)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map_cube_file.png</span><span class="delimiter">&quot;</span></span>)
mapCube.render([ocean, countries], file)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_cube_file.png" alt="map cube file">
</div>
</div>
<div class="listingblock">
<div class="title">Create a map cube to a byte array</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

MapCube mapCube = <span class="keyword">new</span> MapCube()
<span class="type">byte</span><span class="type">[]</span> bytes = mapCube.render([ocean, countries])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_cube_bytes.png" alt="map cube bytes">
</div>
</div>
<div class="listingblock">
<div class="title">Create a map cube to a byte array</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

MapCube mapCube = <span class="keyword">new</span> MapCube()
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map_cube_stream.png</span><span class="delimiter">&quot;</span></span>)
file.withOutputStream { <span class="predefined-type">OutputStream</span> outputStream -&gt;
    mapCube.render([ocean, countries], outputStream)
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_cube_stream.png" alt="map cube stream">
</div>
</div>
</div>
<div class="sect2">
<h3 id="rendering-maps"><a class="anchor" href="#rendering-maps"></a>Rendering Maps</h3>
<div class="sect3">
<h4 id="finding-renderers"><a class="anchor" href="#finding-renderers"></a>Finding Renderers</h4>
<div class="listingblock">
<div class="title">Get all Renderers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Renderer</span>&gt; renderers = Renderers.list()
renderers.each { <span class="predefined-type">Renderer</span> renderer -&gt;
    println renderer.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ASCII
Base64
GeoTIFF
GIF
JPEG
Pdf
PNG
Svg</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Renderer</span> renderer = Renderers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>)
println renderer.class.simpleName</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>PNG</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="image"><a class="anchor" href="#image"></a>Image</h4>
<div class="listingblock">
<div class="title">Render a Map to an image using an Image Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
<span class="predefined-type">Image</span> png = <span class="keyword">new</span> <span class="predefined-type">Image</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">BufferedImage</span> image = png.render(map)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_image_image.png" alt="map image image">
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to an OutputStream using the Image Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
<span class="predefined-type">Image</span> jpeg = <span class="keyword">new</span> <span class="predefined-type">Image</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">jpeg</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.jpeg</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">FileOutputStream</span> out = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file)
jpeg.render(map, out)
out.close()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_image_file.jpeg" alt="map image file">
</div>
</div>
</div>
<div class="sect3">
<h4 id="png"><a class="anchor" href="#png"></a>PNG</h4>
<div class="listingblock">
<div class="title">Render a Map to an Image using the PNG Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
    <span class="key">width</span>: <span class="integer">800</span>,
    <span class="key">height</span>: <span class="integer">300</span>,
    <span class="key">layers</span>: [ocean, countries]
)
PNG png = <span class="keyword">new</span> PNG()
<span class="predefined-type">BufferedImage</span> image = png.render(map)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_png_image.png" alt="map png image">
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to an OutputStream using the PNG Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
    <span class="key">width</span>: <span class="integer">800</span>,
    <span class="key">height</span>: <span class="integer">300</span>,
    <span class="key">layers</span>: [ocean, countries]
)
PNG png = <span class="keyword">new</span> PNG()
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.png</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">FileOutputStream</span> out = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file)
png.render(map, out)
out.close()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_png_file.png" alt="map png file">
</div>
</div>
</div>
<div class="sect3">
<h4 id="jpeg"><a class="anchor" href="#jpeg"></a>JPEG</h4>
<div class="listingblock">
<div class="title">Render a Map to an Image using the JPEG Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
JPEG jpeg = <span class="keyword">new</span> JPEG()
<span class="predefined-type">BufferedImage</span> image = jpeg.render(map)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_jpeg_image.jpeg" alt="map jpeg image">
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to an OutputStream using the JPEG Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
JPEG jpeg = <span class="keyword">new</span> JPEG()
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.jpeg</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">FileOutputStream</span> out = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file)
jpeg.render(map, out)
out.close()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_jpeg_file.jpeg" alt="map jpeg file">
</div>
</div>
</div>
<div class="sect3">
<h4 id="gif"><a class="anchor" href="#gif"></a>GIF</h4>
<div class="listingblock">
<div class="title">Render a Map to an Image using the GIF Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
GIF gif = <span class="keyword">new</span> GIF()
<span class="predefined-type">BufferedImage</span> image = gif.render(map)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_gif_image.png" alt="map gif image">
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to an OutputStream using the GIF Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
GIF gif = <span class="keyword">new</span> GIF()
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.gif</span><span class="delimiter">&quot;</span></span>)
gif.render(map, <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_gif_file.png" alt="map gif file">
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to an animated GIF using the GIF Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer states = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
states.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">1.0</span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries, states]
)

GIF gif = <span class="keyword">new</span> GIF()
<span class="predefined-type">List</span> images = [<span class="string"><span class="delimiter">&quot;</span><span class="content">Washington</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">Oregon</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">California</span><span class="delimiter">&quot;</span></span>].collect { <span class="predefined-type">String</span> state -&gt;
    map.bounds = states.getFeatures(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1 = '</span><span class="inline"><span class="inline-delimiter">${</span>state<span class="inline-delimiter">}</span></span><span class="content">'</span><span class="delimiter">&quot;</span></span>)[<span class="integer">0</span>].bounds
    <span class="keyword">def</span> image = gif.render(map)
    image
}
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">states.gif</span><span class="delimiter">&quot;</span></span>)
gif.renderAnimated(images, file, <span class="integer">500</span>, <span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_animated_gif.gif" alt="render animated gif">
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to an animated GIF to a byte array using the GIF Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer states = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
states.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">1.0</span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries, states]
)

GIF gif = <span class="keyword">new</span> GIF()
<span class="predefined-type">List</span> images = [<span class="string"><span class="delimiter">&quot;</span><span class="content">Washington</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">Oregon</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">California</span><span class="delimiter">&quot;</span></span>].collect { <span class="predefined-type">String</span> state -&gt;
    map.bounds = states.getFeatures(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1 = '</span><span class="inline"><span class="inline-delimiter">${</span>state<span class="inline-delimiter">}</span></span><span class="content">'</span><span class="delimiter">&quot;</span></span>)[<span class="integer">0</span>].bounds
    <span class="keyword">def</span> image = gif.render(map)
    image
}
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">states.gif</span><span class="delimiter">&quot;</span></span>)
<span class="type">byte</span><span class="type">[]</span> bytes = gif.renderAnimated(images, <span class="integer">500</span>, <span class="predefined-constant">true</span>)
file.bytes = bytes</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_animated_gif_bytes.gif" alt="render animated gif bytes">
</div>
</div>
</div>
<div class="sect3">
<h4 id="geotiff"><a class="anchor" href="#geotiff"></a>GeoTIFF</h4>
<div class="listingblock">
<div class="title">Render a Map to an Image using the GeoTIFF Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
GeoTIFF geotiff = <span class="keyword">new</span> GeoTIFF()
<span class="predefined-type">BufferedImage</span> image = geotiff.render(map)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_geotiff_image.png" alt="map geotiff image">
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to an OutputStream using the GeoTIFF Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
GeoTIFF geotiff = <span class="keyword">new</span> GeoTIFF()
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.tif</span><span class="delimiter">&quot;</span></span>)
geotiff.render(map, <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/map_geotiff_file.png" alt="map geotiff file">
</div>
</div>
</div>
<div class="sect3">
<h4 id="ascii"><a class="anchor" href="#ascii"></a>ASCII</h4>
<div class="listingblock">
<div class="title">Render a Map to an string using the ASCII Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
ASCII ascii = <span class="keyword">new</span> ASCII(<span class="key">width</span>: <span class="integer">60</span>)
<span class="predefined-type">String</span> asciiStr = ascii.render(map)
println asciiStr</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((
(((((((((((((((^(^(.(?......((((((((((((((^(((((((((((((((((
.....:.^(^..??^^!^:.:!(^...(((((^.^(((^...........:.^(^..??^
.....(:((.........((.(((.((((((:(.................(:((......
?..(^((((((((^.........((((((.(..............?..(^((((((((^.
.^((((((((((((^.......^(((((((..::^.^?...^..:.^((((((((((((^
((.((((((((((((.....:((((((((^^((^:!^^^^.....((.((((((((((((
((((((((((((((((.!(((((((((((................(((((((((((((((
((((((((((^((((((.((.(((((((....:....((..^^((((((((((((^((((
^((((((((((((((((((.((((((((^:^...^((((.((^^(^((((((((((((((
((((((((((((((((((((.!:((((((((.....((((((((((((((((((((((((
((.(((((((((((((((((.....(((((((...(((((((((^((.((((((((((((
(^((((((((((((((((((.....(((((((.^.(((((((((((^(((((((((((((
....(^((((((((((((((((...(((((((.^(^(((((((((....(^(((((((((
....(((((((((((((((((...((((((((^:((((((((((.....(((((((((((
((^.(((((((((((((((((..((((((((((((((((((((((((^.(((((((((((
(((((((((((((((((((((.((((((((((((((((((((((((((((((((((((((
(((((((((((((((((((((^((((((((((((((((((((((((((((((((((((((
((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((
....^((((((((((((((((?((((((((((((?....(.........^((((((((((
.....(((((...........(((((........................(((((.....
............................................................</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to an text file using the ASCII Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
ASCII ascii = <span class="keyword">new</span> ASCII(<span class="key">width</span>: <span class="integer">60</span>)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.txt</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">FileOutputStream</span> out = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file)
ascii.render(map, out)
out.close()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((
(((((((((((((((^(^(.(?......((((((((((((((^(((((((((((((((((
.....:.^(^..??^^!^:.:!(^...(((((^.^(((^...........:.^(^..??^
.....(:((.........((.(((.((((((:(.................(:((......
?..(^((((((((^.........((((((.(..............?..(^((((((((^.
.^((((((((((((^.......^(((((((..::^.^?...^..:.^((((((((((((^
((.((((((((((((.....:((((((((^^((^:!^^^^.....((.((((((((((((
((((((((((((((((.!(((((((((((................(((((((((((((((
((((((((((^((((((.((.(((((((....:....((..^^((((((((((((^((((
^((((((((((((((((((.((((((((^:^...^((((.((^^(^((((((((((((((
((((((((((((((((((((.!:((((((((.....((((((((((((((((((((((((
((.(((((((((((((((((.....(((((((...(((((((((^((.((((((((((((
(^((((((((((((((((((.....(((((((.^.(((((((((((^(((((((((((((
....(^((((((((((((((((...(((((((.^(^(((((((((....(^(((((((((
....(((((((((((((((((...((((((((^:((((((((((.....(((((((((((
((^.(((((((((((((((((..((((((((((((((((((((((((^.(((((((((((
(((((((((((((((((((((.((((((((((((((((((((((((((((((((((((((
(((((((((((((((((((((^((((((((((((((((((((((((((((((((((((((
((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((
....^((((((((((((((((?((((((((((((?....(.........^((((((((((
.....(((((...........(((((........................(((((.....
............................................................</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="base64"><a class="anchor" href="#base64"></a>Base64</h4>
<div class="listingblock">
<div class="title">Render a Map to an string using the Base64 Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
Base64 base64 = <span class="keyword">new</span> Base64()
<span class="predefined-type">String</span> base64Str = base64.render(map)
println base64Str</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAEsC...</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to an text file using the Base64 Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
Base64 base64 = <span class="keyword">new</span> Base64()
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.txt</span><span class="delimiter">&quot;</span></span>)
base64.render(map, <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file))</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>iVBORw0KGgoAAAANSUhEUgAAAyAAAAEsCAYAAAA7Ldc6AACAAE...</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="pdf"><a class="anchor" href="#pdf"></a>PDF</h4>
<div class="listingblock">
<div class="title">Render a Map to a PDF Document using the PDF Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
Pdf pdf = <span class="keyword">new</span> Pdf()
com.lowagie.text.Document document = pdf.render(map)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_pdf.png" alt="render pdf">
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to a PDF file using the PDF Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
Pdf pdf = <span class="keyword">new</span> Pdf()
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.pdf</span><span class="delimiter">&quot;</span></span>)
pdf.render(map, <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_pdf.png" alt="render pdf">
</div>
</div>
</div>
<div class="sect3">
<h4 id="svg"><a class="anchor" href="#svg"></a>SVG</h4>
<div class="listingblock">
<div class="title">Render a Map to a SVG Document using the SVG Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
Svg svg = <span class="keyword">new</span> Svg()
org.w3c.dom.Document document = svg.render(map)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_svg.png" alt="render svg">
</div>
</div>
<div class="listingblock">
<div class="title">Render a Map to a SVG file using the SVG Renderer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
Svg svg = <span class="keyword">new</span> Svg()
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">map.svg</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">FileOutputStream</span> out = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file)
svg.render(map, out)
out.close()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_svg.png" alt="render svg">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="displaying-maps"><a class="anchor" href="#displaying-maps"></a>Displaying Maps</h3>
<div class="sect3">
<h4 id="finding-displayers"><a class="anchor" href="#finding-displayers"></a>Finding Displayers</h4>
<div class="listingblock">
<div class="title">Get all Displayers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;Displayer&gt; displayers = Displayers.list()
displayers.each { Displayer displayer -&gt;
    println displayer.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>MapWindow
Window</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Displayer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Displayer displayer = Displayers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">window</span><span class="delimiter">&quot;</span></span>)
println displayer.class.simpleName</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Window</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="window"><a class="anchor" href="#window"></a>Window</h4>
<div class="listingblock">
<div class="title">Display a Map in a simple GUI</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
<span class="predefined-type">Window</span> window = <span class="keyword">new</span> <span class="predefined-type">Window</span>()
window.display(map)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/displayer_window.png" alt="displayer window">
</div>
</div>
</div>
<div class="sect3">
<h4 id="mapwindow"><a class="anchor" href="#mapwindow"></a>MapWindow</h4>
<div class="listingblock">
<div class="title">Display a Map in a interactive GUI</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(
        <span class="key">width</span>: <span class="integer">800</span>,
        <span class="key">height</span>: <span class="integer">300</span>,
        <span class="key">layers</span>: [ocean, countries]
)
MapWindow window = <span class="keyword">new</span> MapWindow()
window.display(map)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/displayer_mapwindow.png" alt="displayer mapwindow">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="drawing"><a class="anchor" href="#drawing"></a>Drawing</h3>
<div class="paragraph">
<p>The Draw class is an easy way to quickly render a Geometry, a List of Geometries,
a Feature, or a Layer to an Image, a File, an OutputStream, or a GUI.</p>
</div>
<div class="sect3">
<h4 id="drawing-to-a-file-or-gui"><a class="anchor" href="#drawing-to-a-file-or-gui"></a>Drawing to a File or GUI</h4>
<div class="paragraph">
<p>All of the draw methods take a single required parameter but can also take
the following optional parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>style = A Style</p>
</li>
<li>
<p>bounds = The Bounds</p>
</li>
<li>
<p>size = The size of the canvas ([400,350])</p>
</li>
<li>
<p>out = The OutputStream, File, or File name.  If null (which is the default) a GUI will be opened.</p>
</li>
<li>
<p>format = The format ("jpeg", "png", "gif")</p>
</li>
<li>
<p>proj = The Projection</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Draw a Geometry to a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geometry.png</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.376</span>, <span class="float">47.587</span>).buffer(<span class="float">0.5</span>)
Draw.draw(geometry,
        <span class="key">style</span>: <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>),
        <span class="key">bounds</span>: <span class="keyword">new</span> Bounds(-<span class="float">122.876</span>,<span class="float">47.087</span>,-<span class="float">121.876</span>,<span class="float">48.087</span>),
        <span class="key">size</span>: [<span class="integer">400</span>,<span class="integer">400</span>],
        <span class="key">format</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>,
        <span class="key">proj</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>,
        <span class="key">backgroundColor</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>,
        <span class="key">out</span>: file
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_draw_geometry.png" alt="render draw geometry">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a List of Geometries to an OuputStream</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.376</span>, <span class="float">47.587</span>)
<span class="predefined-type">List</span> geometries = [<span class="float">1.5</span>, <span class="float">1.0</span>, <span class="float">0.5</span>].collect { <span class="type">double</span> distance -&gt;
    point.buffer(distance)
}
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geometries.png</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">OutputStream</span> outputStream = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file)
Draw.draw(geometries, <span class="key">out</span>: outputStream, <span class="key">format</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>)
outputStream.flush()
outputStream.close()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_draw_geometries.png" alt="render draw geometries">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a Feature to a file name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
Feature feature = layer.first(<span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1='Washington'</span><span class="delimiter">&quot;</span></span>)
Draw.draw(feature, <span class="key">bounds</span>: feature.bounds, <span class="key">out</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">feature.png</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_draw_feature_file.png" alt="render draw feature file">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a Layer to a GUI</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
layer.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">LightSteelBlue</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">LightSlateGrey</span><span class="delimiter">&quot;</span></span>, <span class="float">0.25</span>)
Draw.draw(layer, <span class="key">bounds</span>: layer.bounds)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_draw_feature_window.png" alt="render draw feature window">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a Raster to a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth.png</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> raster = <span class="keyword">new</span> geoscript.layer.GeoTIFF(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">'</span></span>)).read()
Draw.draw(raster, <span class="key">bounds</span>: raster.bounds, <span class="key">size</span>: [<span class="integer">400</span>,<span class="integer">200</span>], <span class="key">out</span>: file)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_draw_raster.png" alt="render draw raster">
</div>
</div>
</div>
<div class="sect3">
<h4 id="drawing-to-an-image"><a class="anchor" href="#drawing-to-an-image"></a>Drawing to an Image</h4>
<div class="paragraph">
<p>All of the drawToImage methods take a single required parameter but can also take
the following optional parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>style = A Style</p>
</li>
<li>
<p>bounds = The Bounds</p>
</li>
<li>
<p>size = The size of the canvas ([400,350])</p>
</li>
<li>
<p>imageType = The format ("jpeg", "png", "gif")</p>
</li>
<li>
<p>proj = The Projection</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Draw a Geometry to an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.376</span>, <span class="float">47.587</span>).buffer(<span class="float">0.5</span>)
<span class="predefined-type">BufferedImage</span> image = Draw.drawToImage(geometry,
        <span class="key">style</span>: <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>),
        <span class="key">bounds</span>: <span class="keyword">new</span> Bounds(-<span class="float">122.876</span>,<span class="float">47.087</span>,-<span class="float">121.876</span>,<span class="float">48.087</span>),
        <span class="key">size</span>: [<span class="integer">400</span>,<span class="integer">400</span>],
        <span class="key">imageType</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>,
        <span class="key">proj</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>,
        <span class="key">backgroundColor</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_drawtoimage_geometry.png" alt="render drawtoimage geometry">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a List of Geometries to an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.376</span>, <span class="float">47.587</span>)
<span class="predefined-type">List</span> geometries = [<span class="float">1.5</span>, <span class="float">1.0</span>, <span class="float">0.5</span>].collect { <span class="type">double</span> distance -&gt;
    point.buffer(distance)
}
<span class="predefined-type">BufferedImage</span> image = Draw.drawToImage(geometries)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_drawtoimage_geometries.png" alt="render drawtoimage geometries">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a Feature to an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
Feature feature = layer.first(<span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1='Washington'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">BufferedImage</span> image = Draw.drawToImage(feature, <span class="key">bounds</span>: feature.bounds)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_drawtoimage_feature.png" alt="render drawtoimage feature">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a Layer to an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
layer.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">LightSteelBlue</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">LightSlateGrey</span><span class="delimiter">&quot;</span></span>, <span class="float">0.25</span>)
<span class="predefined-type">BufferedImage</span> image = Draw.drawToImage(layer, <span class="key">bounds</span>: layer.bounds)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_drawtoimage_layer.png" alt="render drawtoimage layer">
</div>
</div>
<div class="listingblock">
<div class="title">Draw a Raster to an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> raster = <span class="keyword">new</span> geoscript.layer.GeoTIFF(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">'</span></span>)).read()
<span class="predefined-type">BufferedImage</span> image = Draw.drawToImage(raster, <span class="key">bounds</span>: raster.bounds, <span class="key">size</span>: [<span class="integer">400</span>,<span class="integer">200</span>])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_drawtoimage_raster.png" alt="render drawtoimage raster">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="plotting"><a class="anchor" href="#plotting"></a>Plotting</h3>
<div class="sect3">
<h4 id="plotting-to-a-file-or-gui"><a class="anchor" href="#plotting-to-a-file-or-gui"></a>Plotting to a File or GUI</h4>
<div class="paragraph">
<p>The Plot module can plot a Geometry, a list of Geometries, a Feature, or a Layer to a File, a File name, an OutputStream, or
a simple GUI.</p>
</div>
<div class="listingblock">
<div class="title">Plot a Geometry to a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geometry.png</span><span class="delimiter">&quot;</span></span>)
Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.376</span>, <span class="float">47.587</span>).buffer(<span class="float">0.5</span>)
Plot.plot(geometry, <span class="key">out</span>: file)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_plot_geometry.png" alt="render plot geometry">
</div>
</div>
<div class="listingblock">
<div class="title">Plot a List of Geometries to an OutputStream</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.376</span>, <span class="float">47.587</span>)
<span class="predefined-type">List</span> geometries = [<span class="float">1.5</span>, <span class="float">1.0</span>, <span class="float">0.5</span>].collect { <span class="type">double</span> distance -&gt;
    point.buffer(distance)
}
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geometries.png</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">OutputStream</span> outputStream = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(file)
Plot.plot(geometries, <span class="key">out</span>: outputStream)
outputStream.flush()
outputStream.close()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_plot_geometries.png" alt="render plot geometries">
</div>
</div>
<div class="listingblock">
<div class="title">Plot a Feature to a File name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
Feature feature = layer.first(<span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1='Washington'</span><span class="delimiter">&quot;</span></span>)
Plot.plot(feature, <span class="key">out</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">feature.png</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_plot_feature_file.png" alt="render plot feature file">
</div>
</div>
<div class="listingblock">
<div class="title">Plot a Layer to a GUI</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
Plot.plot(layer)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_plot_layer.png" alt="render plot layer">
</div>
</div>
</div>
<div class="sect3">
<h4 id="plotting-to-an-image"><a class="anchor" href="#plotting-to-an-image"></a>Plotting to an Image</h4>
<div class="paragraph">
<p>The Plot module can plot a Geometry, a list of Geometries, a Feature, or a Layer to an image.</p>
</div>
<div class="listingblock">
<div class="title">Plot a Geometry to an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Geometry geometry = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.376</span>, <span class="float">47.587</span>).buffer(<span class="float">0.5</span>)
<span class="predefined-type">BufferedImage</span> image = Plot.plotToImage(geometry, <span class="key">size</span>: [<span class="integer">400</span>,<span class="integer">400</span>],)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_plottoimage_geometry.png" alt="render plottoimage geometry">
</div>
</div>
<div class="listingblock">
<div class="title">Plot a List of Geometries to an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.376</span>, <span class="float">47.587</span>)
<span class="predefined-type">List</span> geometries = [<span class="float">1.5</span>, <span class="float">1.0</span>, <span class="float">0.5</span>].collect { <span class="type">double</span> distance -&gt;
    point.buffer(distance)
}
<span class="predefined-type">BufferedImage</span> image = Plot.plotToImage(geometries)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_plottoimage_geometries.png" alt="render plottoimage geometries">
</div>
</div>
<div class="listingblock">
<div class="title">Plot a Feature to an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
Feature feature = layer.first(<span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1='Washington'</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">BufferedImage</span> image = Plot.plotToImage(feature, <span class="key">bounds</span>: feature.bounds)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_plottoimage_feature.png" alt="render plottoimage feature">
</div>
</div>
<div class="listingblock">
<div class="title">Plot a Layer to an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">BufferedImage</span> image = Plot.plotToImage(layer, <span class="key">bounds</span>: layer.bounds)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/render_plottoimage_layer.png" alt="render plottoimage layer">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="style-recipes"><a class="anchor" href="#style-recipes"></a>Style Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Styles are found in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/style/package-summary.html">geoscript.style</a></strong> package.</p>
</div>
<div class="paragraph">
<p>Styles are made up Symbolizers and Composites.  A Symbolizer is a particular style like Stroke or Fill.  Symbolizers also have methods for controlling the drawing order (zindex), the min and max scale (range), and filtering (where).</p>
</div>
<div class="sect2">
<h3 id="creating-basic-styles"><a class="anchor" href="#creating-basic-styles"></a>Creating Basic Styles</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Fill fill = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#6B8E23</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_basic_symbolizer.png" alt="style basic symbolizer">
</div>
</div>
<div class="paragraph">
<p>A Composite is simply two or more Symbolizers.  So, a Composite would be a combination of a Stroke symbolizer (to style the boundary) and a Fill Symbolizer (to style the interior).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Composite</span> composite = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#6B8E23</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_basic_composite.png" alt="style basic composite">
</div>
</div>
<div class="listingblock">
<div class="title">A Symbolizer can use the where method to restrict which features are styled.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffcc</span><span class="delimiter">&quot;</span></span>).where(<span class="string"><span class="delimiter">&quot;</span><span class="content">PEOPLE &lt; 4504128.33</span><span class="delimiter">&quot;</span></span>) +
        <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#41b6c4</span><span class="delimiter">&quot;</span></span>).where(<span class="string"><span class="delimiter">&quot;</span><span class="content">PEOPLE BETWEEN 4504128.33 AND 16639804.33</span><span class="delimiter">&quot;</span></span>) +
        <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#253494</span><span class="delimiter">&quot;</span></span>).where(<span class="string"><span class="delimiter">&quot;</span><span class="content">PEOPLE &gt; 16639804.33</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_basic_symbolizer_where.png" alt="style basic symbolizer where">
</div>
</div>
<div class="listingblock">
<div class="title">The zindex method is used to order Symbolizers on top of each other. In this recipe we use it to create line casings.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">2.0</span>).zindex(<span class="integer">0</span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>, <span class="float">0.1</span>).zindex(<span class="integer">1</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_basic_symbolizer_zindex.png" alt="style basic symbolizer zindex">
</div>
</div>
<div class="listingblock">
<div class="title">The scale method is used to create Symbolizers that are dependent on map scale.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = (<span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.1</span>)) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>)
        .point(<span class="key">anchor</span>: [<span class="float">0.5</span>,<span class="float">0.5</span>])
        .polygonAlign(<span class="string"><span class="delimiter">&quot;</span><span class="content">mbr</span><span class="delimiter">&quot;</span></span>)
        .range(<span class="key">max</span>: <span class="integer">16000000</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_basic_symbolizer_scale1.png" alt="style basic symbolizer scale1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_basic_symbolizer_scale2.png" alt="style basic symbolizer scale2">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-strokes"><a class="anchor" href="#creating-strokes"></a>Creating Strokes</h3>
<div class="listingblock">
<div class="title">Create a Stroke Symbolizer with a Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Stroke</span> stroke = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#1E90FF</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_stroke_color.png" alt="style stroke color">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Stroke Symbolizer with a Color and Width</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Stroke</span> stroke = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#1E90FF</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_stroke_color_width.png" alt="style stroke color width">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Stroke Symbolizer with casing</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer stroke = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#333333</span><span class="delimiter">&quot;</span></span>, <span class="key">width</span>: <span class="integer">5</span>, <span class="key">cap</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">round</span><span class="delimiter">&quot;</span></span>).zindex(<span class="integer">0</span>) +
        <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#6699FF</span><span class="delimiter">&quot;</span></span>, <span class="key">width</span>: <span class="integer">3</span>, <span class="key">cap</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">round</span><span class="delimiter">&quot;</span></span>).zindex(<span class="integer">1</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_stroke_casing.png" alt="style stroke casing">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Stroke Symbolizer with Dashes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Stroke</span> stroke = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#1E90FF</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>, [<span class="integer">5</span>,<span class="integer">5</span>], <span class="string"><span class="delimiter">&quot;</span><span class="content">round</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">bevel</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_stroke_dashes.png" alt="style stroke dashes">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Stroke Symbolizer with railroad Hatching</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer stroke = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#1E90FF</span><span class="delimiter">&quot;</span></span>, <span class="integer">1</span>) + <span class="keyword">new</span> Hatch(<span class="string"><span class="delimiter">&quot;</span><span class="content">vertline</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#1E90FF</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>), <span class="integer">6</span>).zindex(<span class="integer">1</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_stroke_hatch.png" alt="style stroke hatch">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Stroke Symbolizer with spaced Shape symbols</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer stroke = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="key">width</span>: <span class="integer">0</span>, <span class="key">dash</span>: [<span class="integer">4</span>, <span class="integer">4</span>]).shape(<span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#1E90FF</span><span class="delimiter">&quot;</span></span>, <span class="integer">6</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">circle</span><span class="delimiter">&quot;</span></span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_stroke_space_symbols.png" alt="style stroke space symbols">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Stroke Symbolizer with alternating spaced Shape symbols</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer stroke = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#0000FF</span><span class="delimiter">&quot;</span></span>, <span class="integer">1</span>, [<span class="integer">10</span>,<span class="integer">10</span>]).zindex(<span class="integer">0</span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="predefined-constant">null</span>, <span class="integer">0</span>, [[<span class="integer">5</span>,<span class="integer">15</span>],<span class="float">7.5</span>])
        .shape(<span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="predefined-constant">null</span>, <span class="integer">5</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">circle</span><span class="delimiter">&quot;</span></span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">#000033</span><span class="delimiter">&quot;</span></span>,<span class="integer">1</span>)).zindex(<span class="integer">1</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_stroke_alternating_symbols.png" alt="style stroke alternating symbols">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-fills"><a class="anchor" href="#creating-fills"></a>Creating Fills</h3>
<div class="listingblock">
<div class="title">Create a Fill Symbolizer with a Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Fill fill = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#6B8E23</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_fill_color.png" alt="style fill color">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Fill Symbolizer with a Color and a Stroke</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#6B8E23</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.1</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_fill_stroke.png" alt="style fill stroke">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Fill Symbolizer with a Color and Opacity</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Fill fill = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#6B8E23</span><span class="delimiter">&quot;</span></span>, <span class="float">0.35</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_fill_color_opacity.png" alt="style fill color opacity">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Fill Symbolizer from named parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Fill fill = <span class="keyword">new</span> Fill(<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">wheat</span><span class="delimiter">&quot;</span></span>, <span class="key">opacity</span>: <span class="float">0.75</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_fill_map.png" alt="style fill map">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Fill Symbolizer with an Icon</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Fill fill = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">green</span><span class="delimiter">&quot;</span></span>).icon(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/trees.png</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">image/png</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_fill_icon.png" alt="style fill icon">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Fill Symbolizer with a Hatch</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Fill fill = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">green</span><span class="delimiter">&quot;</span></span>).hatch(<span class="string"><span class="delimiter">&quot;</span><span class="content">slash</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">green</span><span class="delimiter">&quot;</span></span>, <span class="float">0.25</span>), <span class="integer">8</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_fill_hatch.png" alt="style fill hatch">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Fill Symbolizer with a random fill</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>).hatch(<span class="string"><span class="delimiter">&quot;</span><span class="content">circle</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>), <span class="integer">2</span>).random(
    <span class="key">random</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">free</span><span class="delimiter">&quot;</span></span>,
    <span class="key">seed</span>: <span class="integer">0</span>,
    <span class="key">symbolCount</span>: <span class="integer">50</span>,
    <span class="key">tileSize</span>: <span class="integer">50</span>,
    <span class="key">rotation</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">none</span><span class="delimiter">&quot;</span></span>
) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.25</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_fill_random.png" alt="style fill random">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-shapes"><a class="anchor" href="#creating-shapes"></a>Creating Shapes</h3>
<div class="listingblock">
<div class="title">Create a Shape Symbolizer with a Color</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Shape</span> shape = <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_shape_color.png" alt="style shape color">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Shape Symbolizer with a color, size, type, opacity and angle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Shape</span> shape = <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#9370DB</span><span class="delimiter">&quot;</span></span>, <span class="integer">8</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">triangle</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>, <span class="integer">45</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_shape.png" alt="style shape">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Shape Symbolizer with named parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Shape</span> shape = <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#8B4513</span><span class="delimiter">&quot;</span></span>, <span class="key">size</span>: <span class="integer">10</span>, <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">star</span><span class="delimiter">&quot;</span></span>, <span class="key">opacity</span>: <span class="float">1.0</span>, <span class="key">rotation</span>: <span class="integer">0</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_shape_params.png" alt="style shape params">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Shape Symbolizer with Stroke outline</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>, <span class="integer">10</span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_shape_stroke.png" alt="style shape stroke">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-icons"><a class="anchor" href="#creating-icons"></a>Creating Icons</h3>
<div class="listingblock">
<div class="title">Create an Icon Symbolizer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> <span class="predefined-type">Icon</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/place.png</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">image/png</span><span class="delimiter">&quot;</span></span>, <span class="integer">12</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_icon.png" alt="style icon">
</div>
</div>
<div class="listingblock">
<div class="title">Create an Icon Symbolizer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> <span class="predefined-type">Icon</span>(<span class="key">url</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/place.png</span><span class="delimiter">&quot;</span></span>, <span class="key">format</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">image/png</span><span class="delimiter">&quot;</span></span>, <span class="key">size</span>: <span class="integer">10</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_icon_params.png" alt="style icon params">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-labels"><a class="anchor" href="#creating-labels"></a>Creating Labels</h3>
<div class="listingblock">
<div class="title">Create a Label for a Point Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">blue</span><span class="delimiter">&quot;</span></span>, <span class="integer">6</span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>).point(
        [<span class="float">0.5</span>,<span class="float">0.5</span>],  <i class="conum" data-value="1"></i><b>(1)</b>
        [<span class="integer">0</span>, <span class="float">5.0</span>],   <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="integer">0</span>           <i class="conum" data-value="3"></i><b>(3)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>anchor</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>displacement</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>rotation</td>
</tr>
</table>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_label_points.png" alt="style label points">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Label for a Point Layer with a Font</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">blue</span><span class="delimiter">&quot;</span></span>, <span class="integer">6</span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>).point(
        [<span class="float">0.5</span>,<span class="float">0.5</span>],
        [<span class="integer">0</span>, <span class="float">5.0</span>],
        <span class="integer">0</span>
) + <span class="keyword">new</span> <span class="predefined-type">Font</span>(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">normal</span><span class="delimiter">&quot;</span></span>,   <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">bold</span><span class="delimiter">&quot;</span></span>,     <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="integer">12</span>,         <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Arial</span><span class="delimiter">&quot;</span></span>     <i class="conum" data-value="4"></i><b>(4)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>style (normal, italic, oblique)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>weight (normal, bold)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>size (8,12,16,ect..)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>family (serif, arial, verdana)</td>
</tr>
</table>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_label_points_font.png" alt="style label points font">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Label for a Point Layer with Halo</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">blue</span><span class="delimiter">&quot;</span></span>, <span class="integer">6</span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>).point(
        [<span class="float">0.5</span>,<span class="float">0.5</span>],
        [<span class="integer">0</span>, <span class="float">5.0</span>],
        <span class="integer">0</span>
).fill(<span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>)) + <span class="keyword">new</span> Halo(<span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>), <span class="float">2.5</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_label_points_halo.png" alt="style label points halo">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Label for a Polygon Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.1</span>) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>)
    .point(<span class="key">anchor</span>: [<span class="float">0.5</span>,<span class="float">0.5</span>])
    .polygonAlign(<span class="string"><span class="delimiter">&quot;</span><span class="content">mbr</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_label_polygons.png" alt="style label polygons">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Label for a Polygon Layer using an Expression</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.1</span>) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="predefined-type">Expression</span>.fromCQL(<span class="string"><span class="delimiter">&quot;</span><span class="content">strToLowerCase(NAME_1)</span><span class="delimiter">&quot;</span></span>))
        .point(<span class="key">anchor</span>: [<span class="float">0.5</span>,<span class="float">0.5</span>])
        .polygonAlign(<span class="string"><span class="delimiter">&quot;</span><span class="content">mbr</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_label_polygons_expression.png" alt="style label polygons expression">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Label for a Polygon Layer using an Expression that concatenates properties and strings.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Expression</span> expression = <span class="predefined-type">Expression</span>.fromCQL(<span class="string"><span class="delimiter">&quot;</span><span class="content">Concatenate(z, '/', x, '/', y)</span><span class="delimiter">&quot;</span></span>)
Symbolizer symbolizer = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">1.0</span>) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(expression)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/createLabelWithExpression.png" alt="createLabelWithExpression">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Label for a Polygon Layer with strike through style.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.1</span>) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>)
        .point(<span class="key">anchor</span>: [<span class="float">0.5</span>,<span class="float">0.5</span>])
        .polygonAlign(<span class="string"><span class="delimiter">&quot;</span><span class="content">mbr</span><span class="delimiter">&quot;</span></span>)
        .strikethrough(<span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_label_polygons_strikethrough.png" alt="style label polygons strikethrough">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Label for a Polygon Layer with word and character spacing.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.1</span>) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>)
        .point(<span class="key">anchor</span>: [<span class="float">0.5</span>,<span class="float">0.5</span>])
        .polygonAlign(<span class="string"><span class="delimiter">&quot;</span><span class="content">mbr</span><span class="delimiter">&quot;</span></span>)
        .wordSpacing(<span class="integer">8</span>)
        .characterSpacing(<span class="integer">5</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_label_polygons_spacing.png" alt="style label polygons spacing">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Label for a Polygon Layer with underlining.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.1</span>) + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>)
        .point(<span class="key">anchor</span>: [<span class="float">0.5</span>,<span class="float">0.5</span>])
        .polygonAlign(<span class="string"><span class="delimiter">&quot;</span><span class="content">mbr</span><span class="delimiter">&quot;</span></span>)
        .underline(<span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_label_polygons_underline.png" alt="style label polygons underline">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Label for a Line Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">blue</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>)  + <span class="keyword">new</span> <span class="predefined-type">Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>)
        .fill(<span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>))
        .linear(<span class="key">follow</span>: <span class="predefined-constant">true</span>, <span class="key">offset</span>: <span class="integer">50</span>, <span class="key">displacement</span>: <span class="integer">200</span>, <span class="key">repeat</span>: <span class="integer">150</span>).maxDisplacement(<span class="integer">400</span>).maxAngleDelta(<span class="integer">90</span>)
        .halo(<span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>), <span class="float">2.5</span>)
        .font(<span class="keyword">new</span> <span class="predefined-type">Font</span>(<span class="key">size</span>: <span class="integer">10</span>, <span class="key">weight</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">bold</span><span class="delimiter">&quot;</span></span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_label_lines.png" alt="style label lines">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-transforms"><a class="anchor" href="#creating-transforms"></a>Creating Transforms</h3>
<div class="listingblock">
<div class="title">Create a normal Transform symbolizer that styles a polygon as a point by calculating it&#8217;s centroid</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
Symbolizer symbolizer = <span class="keyword">new</span> Transform(<span class="string"><span class="delimiter">&quot;</span><span class="content">centroid(the_geom)</span><span class="delimiter">&quot;</span></span>) +
        <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">red</span><span class="delimiter">&quot;</span></span>, <span class="key">size</span>: <span class="integer">10</span>, <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">star</span><span class="delimiter">&quot;</span></span>)
countries.style = symbolizer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_transform_normal.png" alt="style transform normal">
</div>
</div>
<div class="listingblock">
<div class="title">Create a rendering Transform symbolizer that styles a point layer by calculating the convex hull</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer places = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Process</span> process = <span class="keyword">new</span> <span class="predefined-type">Process</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">convexhull</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Create a convexhull around the features</span><span class="delimiter">&quot;</span></span>,
        [<span class="key">features</span>: geoscript.layer.Cursor],
        [<span class="key">result</span>: geoscript.layer.Cursor],
        { inputs -&gt;
            <span class="keyword">def</span> geoms = <span class="keyword">new</span> GeometryCollection(inputs.features.collect{ f -&gt; f.geom})
            <span class="keyword">def</span> output = <span class="keyword">new</span> Layer()
            output.add([geoms.convexHull])
            [<span class="key">result</span>: output]
        }
)
Function function = <span class="keyword">new</span> Function(process, <span class="keyword">new</span> Function(<span class="string"><span class="delimiter">&quot;</span><span class="content">parameter</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">Expression</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>)))
Symbolizer symbolizer =  <span class="keyword">new</span> Transform(function, Transform.RENDERING) + <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">aqua</span><span class="delimiter">&quot;</span></span>, <span class="float">0.75</span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">navy</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
places.style = symbolizer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_transform_rendering.png" alt="style transform rendering">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-gradients"><a class="anchor" href="#creating-gradients"></a>Creating Gradients</h3>
<div class="listingblock">
<div class="title">Create a Gradient Symbolizer from a Layer&#8217;s Field using quantile method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
Gradient gradient = <span class="keyword">new</span> Gradient(countries, <span class="string"><span class="delimiter">&quot;</span><span class="content">PEOPLE</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">quantile</span><span class="delimiter">&quot;</span></span>, <span class="integer">8</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Greens</span><span class="delimiter">&quot;</span></span>)
countries.style = gradient</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_gradient_field_quantile.png" alt="style gradient field quantile">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Gradient Symbolizer from a Layer&#8217;s Field using equal interval method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
Gradient gradient = <span class="keyword">new</span> Gradient(countries, <span class="string"><span class="delimiter">&quot;</span><span class="content">PEOPLE</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">equalinterval</span><span class="delimiter">&quot;</span></span>, <span class="integer">3</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Reds</span><span class="delimiter">&quot;</span></span>)
countries.style = gradient</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_gradient_field_equalinterval.png" alt="style gradient field equalinterval">
</div>
</div>
<div class="listingblock">
<div class="title">Create a custom Gradient Symbolizer between Symbolizers and values</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Gradient gradient = <span class="keyword">new</span> Gradient(
        <span class="keyword">new</span> Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">POP2020</span><span class="delimiter">&quot;</span></span>),
        [<span class="integer">0</span>, <span class="integer">10000</span>, <span class="integer">20000</span>, <span class="integer">30000</span>],
        [
                <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>, <span class="integer">4</span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>),
                <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b0d2e8</span><span class="delimiter">&quot;</span></span>, <span class="integer">8</span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>),
                <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#3e8ec4</span><span class="delimiter">&quot;</span></span>, <span class="integer">16</span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>),
                <span class="keyword">new</span> <span class="predefined-type">Shape</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#08306b</span><span class="delimiter">&quot;</span></span>, <span class="integer">24</span>).stroke(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
        ],
        <span class="integer">5</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">linear</span><span class="delimiter">&quot;</span></span>
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_gradient_custom.png" alt="style gradient custom">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-unique-values"><a class="anchor" href="#creating-unique-values"></a>Creating Unique Values</h3>
<div class="listingblock">
<div class="title">Create a Unique Values Symbolizer from a Layer&#8217;s Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
UniqueValues uniqueValues = <span class="keyword">new</span> UniqueValues(countries, <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>)
countries.style = uniqueValues</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_uniquevalues.png" alt="style uniquevalues">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Unique Values Symbolizer from a Layer&#8217;s Field and a Closure</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
UniqueValues uniqueValues = <span class="keyword">new</span> UniqueValues(countries, <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>, {<span class="type">int</span> index, <span class="predefined-type">String</span> value -&gt; <span class="predefined-type">Color</span>.getRandom()})
countries.style = uniqueValues</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_uniquevalues_closure.png" alt="style uniquevalues closure">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Unique Values Symbolizer from a Layer&#8217;s Field and a color palette</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
UniqueValues uniqueValues = <span class="keyword">new</span> UniqueValues(countries, <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">LightPurpleToDarkPurpleHeatMap</span><span class="delimiter">&quot;</span></span>)
countries.style = uniqueValues</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_uniquevalues_palette.png" alt="style uniquevalues palette">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Unique Values Symbolizer from a File with a color per value</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/mars</span><span class="delimiter">&quot;</span></span>)
Layer marsGeology = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">geo_units_oc_dd</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">File</span> uniqueValuesFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/mars/I1802ABC_geo_units_RGBlut.txt</span><span class="delimiter">&quot;</span></span>)
UniqueValuesReader styleReader = <span class="keyword">new</span> UniqueValuesReader(<span class="string"><span class="delimiter">&quot;</span><span class="content">UnitSymbol</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">polygon</span><span class="delimiter">&quot;</span></span>)
Symbolizer symbolizer = styleReader.read(uniqueValuesFile)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Unit,R,G,B
AHa,175,0,111
AHat,192,54,22
AHcf,150,70,72
AHh,109,13,60
AHpe,232,226,82
AHt,99,0,95
AHt3,233,94,94
Aa1,255,236,207
Aa2,145,73,76
Aa3,254,212,164
Aa4,212,109,19
Aa5,175,66,28</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_mars_geology.png" alt="style mars geology">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-color-maps"><a class="anchor" href="#creating-color-maps"></a>Creating Color Maps</h3>
<div class="listingblock">
<div class="title">Create a ColorMap Symbolizer for a Raster using a list of Colors</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Format</span> format = <span class="keyword">new</span> GeoTIFF(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">'</span></span>))
<span class="predefined-type">Raster</span> raster = format.read()
ColorMap colorMap = <span class="keyword">new</span> ColorMap([
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#9fd182</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">25</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#3e7f3c</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">470</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#133912</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">920</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#08306b</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">1370</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#fffff5</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">1820</span>],
])
raster.style = colorMap</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_raster_colormap_colors.png" alt="style raster colormap colors">
</div>
</div>
<div class="listingblock">
<div class="title">Create a ColorMap Symbolizer for a Raster using a list of Colors with opacity</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Format</span> format = <span class="keyword">new</span> GeoTIFF(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">'</span></span>))
<span class="predefined-type">Raster</span> raster = format.read()
ColorMap colorMap = <span class="keyword">new</span> ColorMap([
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#9fd182</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">25</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#3e7f3c</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">470</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#133912</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">920</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#08306b</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">1370</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#fffff5</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">1820</span>],
]).opacity(<span class="float">0.25</span>)
raster.style = colorMap</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_raster_colormap_colors_opacity.png" alt="style raster colormap colors opacity">
</div>
</div>
<div class="listingblock">
<div class="title">Create a ColorMap Symbolizer for a Raster using a color palette</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Format</span> format = <span class="keyword">new</span> GeoTIFF(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">'</span></span>))
<span class="predefined-type">Raster</span> raster = format.read()
ColorMap colorMap = <span class="keyword">new</span> ColorMap(
        <span class="integer">25</span>,             <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="integer">1820</span>,           <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">MutedTerrain</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="integer">5</span>               <i class="conum" data-value="4"></i><b>(4)</b>
)
println colorMap
raster.style = colorMap</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>min value</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>max value</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>color palette name</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>number of categories</td>
</tr>
</table>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_raster_colormap_palette.png" alt="style raster colormap palette">
</div>
</div>
<div class="listingblock">
<div class="title">Create a ColorMap Symbolizer with intervals for a Raster using a list of Colors</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Format</span> format = <span class="keyword">new</span> GeoTIFF(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">'</span></span>))
<span class="predefined-type">Raster</span> raster = format.read()
ColorMap colorMap = <span class="keyword">new</span> ColorMap([
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#9fd182</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">25</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#3e7f3c</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">470</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#133912</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">920</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#08306b</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">1370</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#fffff5</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">1820</span>],
], <span class="string"><span class="delimiter">&quot;</span><span class="content">intervals</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">true</span>)
raster.style = colorMap</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_raster_colormap_intervals.png" alt="style raster colormap intervals">
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-channel-selection-and-contrast-enhancement"><a class="anchor" href="#creating-channel-selection-and-contrast-enhancement"></a>Creating Channel Selection and Contrast Enhancement</h3>
<div class="listingblock">
<div class="title">Create a Raster Symbolizer using ChannelSelection and ContrastEnhancement using the normalize method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Format</span> format = <span class="keyword">new</span> GeoTIFF(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">'</span></span>))
<span class="predefined-type">Raster</span> raster = format.read()
Symbolizer symbolizer = <span class="keyword">new</span> ChannelSelection()
        .gray(<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ContrastEnhancement(<span class="string"><span class="delimiter">&quot;</span><span class="content">normalize</span><span class="delimiter">&quot;</span></span>))
raster.style = symbolizer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_raster_channel_constrast_normalize.png" alt="style raster channel constrast normalize">
</div>
</div>
<div class="listingblock">
<div class="title">Create a Raster Symbolizer using ChannelSelection and ContrastEnhancement using the histogram method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Format</span> format = <span class="keyword">new</span> GeoTIFF(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">'</span></span>))
<span class="predefined-type">Raster</span> raster = format.read()
Symbolizer symbolizer = <span class="keyword">new</span> ChannelSelection()
        .gray(<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ContrastEnhancement(<span class="string"><span class="delimiter">&quot;</span><span class="content">histogram</span><span class="delimiter">&quot;</span></span>, <span class="float">0.65</span>))
raster.style = symbolizer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_raster_channel_constrast_histogram.png" alt="style raster channel constrast histogram">
</div>
</div>
</div>
<div class="sect2">
<h3 id="reading-and-writing-styles"><a class="anchor" href="#reading-and-writing-styles"></a>Reading and Writing Styles</h3>
<div class="paragraph">
<p>Style Readers and Writers are found in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/style/io/package-summary.html">geoscript.style.io</a></strong> package.</p>
</div>
<div class="sect3">
<h4 id="finding-style-readers-and-writers"><a class="anchor" href="#finding-style-readers-and-writers"></a>Finding Style Readers and Writers</h4>
<div class="listingblock">
<div class="title">List all Style Writers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Writer</span>&gt; writers = Writers.list()
writers.each { <span class="predefined-type">Writer</span> writer -&gt;
    println writer.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>SLDWriter
ColorTableWriter
YSLDWriter</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Style Writer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Writer</span> writer = Writers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">sld</span><span class="delimiter">&quot;</span></span>)
println writer.class.simpleName</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>SLDWriter</pre>
</div>
</div>
<div class="listingblock">
<div class="title">List all Style Readers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Reader</span>&gt; readers = Readers.list()
readers.each { <span class="predefined-type">Reader</span> reader -&gt;
    println reader.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>SLDReader
CSSReader
ColorTableReader
YSLDReader
SimpleStyleReader</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Style Reader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Reader</span> reader = Readers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">sld</span><span class="delimiter">&quot;</span></span>)
println reader.class.simpleName</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>SLDReader</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sld"><a class="anchor" href="#sld"></a>SLD</h4>
<div class="paragraph">
<p>GeoScript Groovy can read and write Style Layer Descriptor (SLD) documents.</p>
</div>
<div class="listingblock">
<div class="title">Write a Symbolizer to SLD</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
SLDWriter writer = <span class="keyword">new</span> SLDWriter()
<span class="predefined-type">String</span> sld = writer.write(symbolizer)
println sld</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;sld:StyledLayerDescriptor xmlns="http://www.opengis.net/sld" xmlns:sld="http://www.opengis.net/sld" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" version="1.0.0"&gt;
  &lt;sld:UserLayer&gt;
    &lt;sld:LayerFeatureConstraints&gt;
      &lt;sld:FeatureTypeConstraint/&gt;
    &lt;/sld:LayerFeatureConstraints&gt;
    &lt;sld:UserStyle&gt;
      &lt;sld:Name&gt;Default Styler&lt;/sld:Name&gt;
      &lt;sld:FeatureTypeStyle&gt;
        &lt;sld:Name&gt;name&lt;/sld:Name&gt;
        &lt;sld:Rule&gt;
          &lt;sld:PolygonSymbolizer&gt;
            &lt;sld:Fill&gt;
              &lt;sld:CssParameter name="fill"&gt;#ffffff&lt;/sld:CssParameter&gt;
            &lt;/sld:Fill&gt;
          &lt;/sld:PolygonSymbolizer&gt;
          &lt;sld:LineSymbolizer&gt;
            &lt;sld:Stroke&gt;
              &lt;sld:CssParameter name="stroke-width"&gt;0.5&lt;/sld:CssParameter&gt;
            &lt;/sld:Stroke&gt;
          &lt;/sld:LineSymbolizer&gt;
        &lt;/sld:Rule&gt;
      &lt;/sld:FeatureTypeStyle&gt;
    &lt;/sld:UserStyle&gt;
  &lt;/sld:UserLayer&gt;
&lt;/sld:StyledLayerDescriptor&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Style from an SLD String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> sld = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;sld:StyledLayerDescriptor xmlns=&quot;http://www.opengis.net/sld&quot; xmlns:sld=&quot;http://www.opengis.net/sld&quot; xmlns:ogc=&quot;http://www.opengis.net/ogc&quot; xmlns:gml=&quot;http://www.opengis.net/gml&quot; version=&quot;1.0.0&quot;&gt;
  &lt;sld:UserLayer&gt;
    &lt;sld:LayerFeatureConstraints&gt;
      &lt;sld:FeatureTypeConstraint/&gt;
    &lt;/sld:LayerFeatureConstraints&gt;
    &lt;sld:UserStyle&gt;
      &lt;sld:Name&gt;Default Styler&lt;/sld:Name&gt;
      &lt;sld:FeatureTypeStyle&gt;
        &lt;sld:Name&gt;name&lt;/sld:Name&gt;
        &lt;sld:Rule&gt;
          &lt;sld:PolygonSymbolizer&gt;
            &lt;sld:Fill&gt;
              &lt;sld:CssParameter name=&quot;fill&quot;&gt;#ffffff&lt;/sld:CssParameter&gt;
            &lt;/sld:Fill&gt;
          &lt;/sld:PolygonSymbolizer&gt;
          &lt;sld:LineSymbolizer&gt;
            &lt;sld:Stroke&gt;
              &lt;sld:CssParameter name=&quot;stroke&quot;&gt;#000000&lt;/sld:CssParameter&gt;
              &lt;sld:CssParameter name=&quot;stroke-width&quot;&gt;0.5&lt;/sld:CssParameter&gt;
            &lt;/sld:Stroke&gt;
          &lt;/sld:LineSymbolizer&gt;
        &lt;/sld:Rule&gt;
      &lt;/sld:FeatureTypeStyle&gt;
    &lt;/sld:UserStyle&gt;
  &lt;/sld:UserLayer&gt;
&lt;/sld:StyledLayerDescriptor&gt;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        SLDReader reader = <span class="keyword">new</span> SLDReader()
        <span class="predefined-type">Style</span> style = reader.read(sld)

        Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
        Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
        countries.style = style</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_read_sld.png" alt="style read sld">
</div>
</div>
</div>
<div class="sect3">
<h4 id="css"><a class="anchor" href="#css"></a>CSS</h4>
<div class="paragraph">
<p>GeoScript Groovy can only read CSS documents.</p>
</div>
<div class="listingblock">
<div class="title">Read a Style from an CSS String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> css = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
* {
   fill: #eeeeee;
   fill-opacity: 1.0;
   stroke: #000000;
   stroke-width: 1.2;
}
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        CSSReader reader = <span class="keyword">new</span> CSSReader()
        <span class="predefined-type">Style</span> style = reader.read(css)

        Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
        Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
        countries.style = style</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_read_css.png" alt="style read css">
</div>
</div>
</div>
<div class="sect3">
<h4 id="ysld"><a class="anchor" href="#ysld"></a>YSLD</h4>
<div class="paragraph">
<p>GeoScript Groovy can read and write YAML Style Layer Descriptors (YSLD) documents.</p>
</div>
<div class="listingblock">
<div class="title">Write a Symbolizer to YSLD</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Symbolizer symbolizer = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
YSLDWriter writer = <span class="keyword">new</span> YSLDWriter()
<span class="predefined-type">String</span> ysld = writer.write(symbolizer)
println ysld</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>name: Default Styler
feature-styles:
- name: name
  rules:
  - scale: [min, max]
    symbolizers:
    - polygon:
        fill-color: '#FFFFFF'
    - line:
        stroke-color: '#000000'
        stroke-width: 0.5</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Style from an YAML Style Layer Descriptors (YSLD) String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> ysld = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
name: Default Styler
feature-styles:
- name: name
  rules:
  - scale: [min, max]
    symbolizers:
    - polygon:
        fill-color: '#FFFFFF'
    - line:
        stroke-color: '#000000'
        stroke-width: 0.5
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        YSLDReader reader = <span class="keyword">new</span> YSLDReader()
        <span class="predefined-type">Style</span> style = reader.read(ysld)

        Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
        Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
        countries.style = style</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_read_ysld.png" alt="style read ysld">
</div>
</div>
</div>
<div class="sect3">
<h4 id="simple-style-reader"><a class="anchor" href="#simple-style-reader"></a>Simple Style Reader</h4>
<div class="paragraph">
<p>A SimpleStyleReader that can easily create simple Styles using Maps or Strings.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fill properties: fill and fill-opacity</p>
</li>
<li>
<p>Stroke properties: stroke, stroke-width, stroke-opacity</p>
</li>
<li>
<p>Shape properties: shape, shape-size, shape-type</p>
</li>
<li>
<p>Label properties: label-size, label-style, label-weight, label-family</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Read a Style with fill and stroke properties from a Simple Style String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> str = <span class="string"><span class="delimiter">&quot;</span><span class="content">fill=#555555 fill-opacity=0.6 stroke=#555555 stroke-width=0.5</span><span class="delimiter">&quot;</span></span>
SimpleStyleReader reader = <span class="keyword">new</span> SimpleStyleReader()
<span class="predefined-type">Style</span> style = reader.read(str)

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = style</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_read_fill_stroke_str.png" alt="style read fill stroke str">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Style with fill, stroke, and label properties from a Simple Style String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> str = <span class="string"><span class="delimiter">&quot;</span><span class="content">fill=white stroke=navy label=NAME label-size=10</span><span class="delimiter">&quot;</span></span>
SimpleStyleReader reader = <span class="keyword">new</span> SimpleStyleReader()
<span class="predefined-type">Style</span> style = reader.read(str)

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = style</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_read_fill_stroke_label_str.png" alt="style read fill stroke label str">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Style with shape properties from a Simple Style String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> str = <span class="string"><span class="delimiter">&quot;</span><span class="content">shape-type=circle shape-size=8 shape=orange</span><span class="delimiter">&quot;</span></span>
SimpleStyleReader reader = <span class="keyword">new</span> SimpleStyleReader()
<span class="predefined-type">Style</span> style = reader.read(str)
println style

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer places = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
places.style = style</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_read_shape_str.png" alt="style read shape str">
</div>
</div>
<div class="listingblock">
<div class="title">Read a Style with fill and stroke properties from a Simple Style Map</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> map = [
        <span class="string"><span class="delimiter">'</span><span class="content">fill</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">#555555</span><span class="delimiter">'</span></span>,
        <span class="string"><span class="delimiter">'</span><span class="content">fill-opacity</span><span class="delimiter">'</span></span>: <span class="float">0.6</span>,
        <span class="string"><span class="delimiter">'</span><span class="content">stroke</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">#555555</span><span class="delimiter">'</span></span>,
        <span class="string"><span class="delimiter">'</span><span class="content">stroke-width</span><span class="delimiter">'</span></span>: <span class="float">0.5</span>
]
SimpleStyleReader reader = <span class="keyword">new</span> SimpleStyleReader()
<span class="predefined-type">Style</span> style = reader.read(map)

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = style</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_read_fill_stroke_map.png" alt="style read fill stroke map">
</div>
</div>
</div>
<div class="sect3">
<h4 id="color-table"><a class="anchor" href="#color-table"></a>Color Table</h4>
<div class="paragraph">
<p>GeoScript Groovy can read and write color table strings and files. This format can be used with ColorMaps to style
Rasters.</p>
</div>
<div class="listingblock">
<div class="title">Write a ColorMap to a color table string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">ColorMap colorMap = <span class="keyword">new</span> ColorMap(<span class="integer">25</span>, <span class="integer">1820</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">BoldLandUse</span><span class="delimiter">&quot;</span></span>, <span class="integer">5</span>)
ColorTableWriter writer = <span class="keyword">new</span> ColorTableWriter()
<span class="predefined-type">String</span> str = writer.write(colorMap)
println str</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>25.0 178 156 195
473.75 79 142 187
922.5 143 146 56
1371.25 193 132 55
1820.0 181 214 177</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a ColorMap from a color table string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">Format</span> format = <span class="keyword">new</span> GeoTIFF(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">'</span></span>))
        <span class="predefined-type">Raster</span> raster = format.read()
        ColorTableReader reader = <span class="keyword">new</span> ColorTableReader()
        ColorMap colorMap = reader.read(<span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">25.0 178 156 195
473.75 79 142 187
922.5 143 146 56
1371.25 193 132 55
1820.0 181 214 177
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
        raster.style = colorMap</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/style_colortable_read_str.png" alt="style colortable read str">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="workspace-recipes"><a class="anchor" href="#workspace-recipes"></a>Workspace Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Workspace classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/workspace/package-summary.html">geoscript.workspace</a></strong> package.</p>
</div>
<div class="paragraph">
<p>A Workspace is a collection of Layers.  You can create, add, remove, and get Layers.  There are many
different kinds of Workspaces in GeoScript including Memory, PostGIS, Directory (for Shapefiles), GeoPackage,
and many more.</p>
</div>
<div class="sect2">
<h3 id="using-workspaces"><a class="anchor" href="#using-workspaces"></a>Using Workspaces</h3>
<div class="listingblock">
<div class="title">Create a Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Workspace()</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
println layer</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check whether a Workspace has a Layer by name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">boolean</span> hasCities = workspace.has(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>)
println hasCities</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Layer from a Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Layer citiesLayer = workspace.get(<span class="string"><span class="delimiter">'</span><span class="content">cities</span><span class="delimiter">'</span></span>)
println citiesLayer</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Add a Layer to a Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> statesSchema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer statesLayer = <span class="keyword">new</span> Layer(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>, statesSchema)
workspace.add(statesLayer)
println workspace.has(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the names of all Layers in a Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; names = workspace.names
names.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>SQLite
PostGIS (JNDI)
Web Feature Server (NG)
MySQL
H2
MySQL (JNDI)
Directory of spatial files (shapefiles)
Shapefile
PostGIS
H2 (JNDI)
GeoPackage
Properties
Geobuf</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Remove a Layer from a Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">workspace.remove(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>)
println workspace.has(<span class="string"><span class="delimiter">'</span><span class="content">cities</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Close the Workspace when you are done</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">workspace.close()</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-an-in-memory-workspace"><a class="anchor" href="#creating-an-in-memory-workspace"></a>Creating an in Memory Workspace</h3>
<div class="listingblock">
<div class="title">The empty Workspace constructor creates an in Memory Workspace.  You can create a Layer by passing a name and a list of Fields. You can then remove the Layer by passing a reference to the Layer.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Workspace()

Layer layer = workspace.create(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
println layer

workspace.remove(layer)
println workspace.has(layer.name)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>cities
false</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="add-layers-features-in-chunks"><a class="anchor" href="#add-layers-features-in-chunks"></a>Add Layer&#8217;s Features in Chunks</h3>
<div class="listingblock">
<div class="title">When adding a large Layer to a Workspace, you can add Features in chunks.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
Layer layer = workspace.create(<span class="string"><span class="delimiter">&quot;</span><span class="content">points</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>)
])
Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>, <span class="integer">180</span>,<span class="integer">90</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Geometry.createRandomPoints(bounds.geometry, <span class="integer">500</span>).geometries.eachWithIndex { Geometry geom, <span class="type">int</span> i -&gt;
    layer.add([<span class="key">geom</span>: geom, <span class="key">id</span>: i])
}
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original Layer has </span><span class="inline"><span class="inline-delimiter">${</span>layer.count<span class="inline-delimiter">}</span></span><span class="content"> features.</span><span class="delimiter">&quot;</span></span>

Layer copyOfLayer = workspace.add(layer, <span class="string"><span class="delimiter">&quot;</span><span class="content">random points</span><span class="delimiter">&quot;</span></span>, <span class="integer">100</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Copied Layer has </span><span class="inline"><span class="inline-delimiter">${</span>copyOfLayer.count<span class="inline-delimiter">}</span></span><span class="content"> features.</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Original Layer has 500 features.
Copied Layer has 500 features.</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/workspaceAddLayerNameChunk.png" alt="workspaceAddLayerNameChunk">
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-a-directory-workspace"><a class="anchor" href="#using-a-directory-workspace"></a>Using a Directory Workspace</h3>
<div class="paragraph">
<p>A Directory Workspace is a directory of Shapefiles.</p>
</div>
<div class="listingblock">
<div class="title">Create a Directory Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Directory directory = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data</span><span class="delimiter">&quot;</span></span>)
println directory.toString()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Directory[/home/travis/build/jericks/geoscript-groovy-cookbook/src/main/resources/data]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">View the Workspace&#8217;s format</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> format = directory.format
println format</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Directory</pre>
</div>
</div>
<div class="listingblock">
<div class="title">View the Workspace&#8217;s File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = directory.file
println file</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>/home/travis/build/jericks/geoscript-groovy-cookbook/src/main/resources/data</pre>
</div>
</div>
<div class="listingblock">
<div class="title">View the Workspace&#8217;s list of Layer names</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> names = directory.names
names.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>states</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Layer by name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Layer layer = directory.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> count = layer.count
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Layer </span><span class="inline"><span class="inline-delimiter">${</span>layer.name<span class="inline-delimiter">}</span></span><span class="content"> has </span><span class="inline"><span class="inline-delimiter">${</span>count<span class="inline-delimiter">}</span></span><span class="content"> Features.</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Layer states has 49 Features.</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Close the Directory when done.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">directory.close()</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="investigating-workspaces"><a class="anchor" href="#investigating-workspaces"></a>Investigating Workspaces</h3>
<div class="listingblock">
<div class="title">Get available Workspace names</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; names = Workspace.getWorkspaceNames()
names.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>SQLite
PostGIS (JNDI)
Web Feature Server (NG)
MySQL
H2
MySQL (JNDI)
Directory of spatial files (shapefiles)
Shapefile
PostGIS
H2 (JNDI)
GeoPackage
Properties
Geobuf</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get parameters for a Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; parameters = Workspace.getWorkspaceParameters(<span class="string"><span class="delimiter">&quot;</span><span class="content">GeoPackage</span><span class="delimiter">&quot;</span></span>)
parameters.each { <span class="predefined-type">Map</span> param -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">Parameter = </span><span class="inline"><span class="inline-delimiter">${</span>param.key<span class="inline-delimiter">}</span></span><span class="content"> Type = </span><span class="inline"><span class="inline-delimiter">${</span>param.type<span class="inline-delimiter">}</span></span><span class="content"> Required? </span><span class="inline"><span class="inline-delimiter">${</span>param.required<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Parameter = dbtype Type = java.lang.String Required? true
Parameter = database Type = java.io.File Required? true
Parameter = passwd Type = java.lang.String Required? false
Parameter = namespace Type = java.lang.String Required? false
Parameter = Expose primary keys Type = java.lang.Boolean Required? false
Parameter = fetch size Type = java.lang.Integer Required? false
Parameter = Batch insert size Type = java.lang.Integer Required? false
Parameter = Primary key metadata table Type = java.lang.String Required? false
Parameter = Session startup SQL Type = java.lang.String Required? false
Parameter = Session close-up SQL Type = java.lang.String Required? false
Parameter = Callback factory Type = java.lang.String Required? false</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-workspaces"><a class="anchor" href="#creating-workspaces"></a>Creating Workspaces</h3>
<div class="sect3">
<h4 id="creating-a-workspace-from-a-connection-string"><a class="anchor" href="#creating-a-workspace-from-a-connection-string"></a>Creating a Workspace from a connection string</h4>
<div class="paragraph">
<p>You can create a Workspace from a connection string that contains paramters in key=value format with optional single quotes.</p>
</div>
<div class="listingblock">
<div class="title">Create a Shapefile Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> connectionString = <span class="string"><span class="delimiter">&quot;</span><span class="content">url='states.shp' 'create spatial index'=true</span><span class="delimiter">&quot;</span></span>
Workspace workspace = Workspace.getWorkspace(connectionString)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a GeoPackage Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">connectionString = <span class="string"><span class="delimiter">&quot;</span><span class="content">dbtype=geopkg database=layers.gpkg</span><span class="delimiter">&quot;</span></span>
workspace = Workspace.getWorkspace(connectionString)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a H2 Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">connectionString = <span class="string"><span class="delimiter">&quot;</span><span class="content">dbtype=h2 database=layers.db</span><span class="delimiter">&quot;</span></span>
workspace = Workspace.getWorkspace(connectionString)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">You can use the withWorkspace method to automatically handle closing the Workspace.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace.withWorkspace(<span class="string"><span class="delimiter">&quot;</span><span class="content">dbtype=geopkg database=src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>) { Workspace workspace -&gt;
    println workspace.format
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">----------</span><span class="delimiter">&quot;</span></span>
    workspace.names.each { <span class="predefined-type">String</span> name -&gt;
        println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeoPackage
---------
countries (177)
ocean (2)
places (326)
rivers (460)
states (52)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-a-workspace-from-a-connection-map"><a class="anchor" href="#creating-a-workspace-from-a-connection-map"></a>Creating a Workspace from a connection map</h4>
<div class="paragraph">
<p>You can create a Workspace from a connection map that contains paramters.</p>
</div>
<div class="listingblock">
<div class="title">Create a H2 Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> params = [<span class="key">dbtype</span>: <span class="string"><span class="delimiter">'</span><span class="content">h2</span><span class="delimiter">'</span></span>, <span class="key">database</span>: <span class="string"><span class="delimiter">'</span><span class="content">test.db</span><span class="delimiter">'</span></span>]
Workspace workspace = Workspace.getWorkspace(params)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a PostGIS Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">params = [
    <span class="key">dbtype</span>: <span class="string"><span class="delimiter">'</span><span class="content">postgis</span><span class="delimiter">'</span></span>,
    <span class="key">database</span>: <span class="string"><span class="delimiter">'</span><span class="content">postgres</span><span class="delimiter">'</span></span>,
    <span class="key">host</span>: <span class="string"><span class="delimiter">'</span><span class="content">localhost</span><span class="delimiter">'</span></span>,
    <span class="key">port</span>: <span class="integer">5432</span>,
    <span class="key">user</span>: <span class="string"><span class="delimiter">'</span><span class="content">postgres</span><span class="delimiter">'</span></span>,
    <span class="key">passwd</span>: <span class="string"><span class="delimiter">'</span><span class="content">postgres</span><span class="delimiter">'</span></span>
]
workspace = Workspace.getWorkspace(params)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a GeoBuf Workspace</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">params = [<span class="key">file</span>: <span class="string"><span class="delimiter">'</span><span class="content">layers.pbf</span><span class="delimiter">'</span></span>, <span class="key">precision</span>: <span class="integer">6</span>, <span class="key">dimension</span>:<span class="integer">2</span>]
workspace = Workspace.getWorkspace(params)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">You can use the withWorkspace method to automatically handle closing the Workspace.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace.withWorkspace([<span class="key">dbtype</span>: <span class="string"><span class="delimiter">'</span><span class="content">geopkg</span><span class="delimiter">'</span></span>, <span class="key">database</span>: <span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>]) { Workspace workspace -&gt;
    println workspace.format
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">----------</span><span class="delimiter">&quot;</span></span>
    workspace.names.each { <span class="predefined-type">String</span> name -&gt;
        println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeoPackage
---------
countries (177)
ocean (2)
places (326)
rivers (460)
states (52)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-directory-workspaces"><a class="anchor" href="#creating-directory-workspaces"></a>Creating Directory Workspaces</h4>
<div class="listingblock">
<div class="title">Create a Directory Workspace from a directory name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/shapefiles</span><span class="delimiter">&quot;</span></span>)
println workspace.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">---------</span><span class="delimiter">&quot;</span></span>
workspace.names.each { <span class="predefined-type">String</span> name -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Directory
---------
ocean (2)
countries (177)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Directory Workspace from a File directory</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/shapefiles</span><span class="delimiter">&quot;</span></span>))
println workspace.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">---------</span><span class="delimiter">&quot;</span></span>
workspace.names.each { <span class="predefined-type">String</span> name -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Directory
---------
ocean (2)
countries (177)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a Directory Workspace from a URL</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Directory directory = Directory.fromURL(
    <span class="keyword">new</span> <span class="predefined-type">URL</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/110m/cultural/ne_110m_admin_0_countries.zip</span><span class="delimiter">&quot;</span></span>),
    <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">naturalearth</span><span class="delimiter">&quot;</span></span>)
)
println directory.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">---------</span><span class="delimiter">&quot;</span></span>
directory.names.each { <span class="predefined-type">String</span> name -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>directory.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Directory
---------
ne_110m_admin_0_countries (177)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-geopackage-workspaces"><a class="anchor" href="#creating-geopackage-workspaces"></a>Creating GeoPackage Workspaces</h4>
<div class="listingblock">
<div class="title">Create a GeoPackage Workspace from a file name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
println workspace.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">----------</span><span class="delimiter">&quot;</span></span>
workspace.names.each { <span class="predefined-type">String</span> name -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeoPackage
----------
countries (177)
ocean (2)
places (326)
rivers (460)
states (52)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a GeoPackage Workspace from a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>))
println workspace.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">----------</span><span class="delimiter">&quot;</span></span>
workspace.names.each { <span class="predefined-type">String</span> name -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeoPackage
----------
countries (177)
ocean (2)
places (326)
rivers (460)
states (52)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-h2-workspaces"><a class="anchor" href="#creating-h2-workspaces"></a>Creating H2 Workspaces</h4>
<div class="listingblock">
<div class="title">Create a H2 Workspace from a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> H2(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/h2/data.db</span><span class="delimiter">&quot;</span></span>))
println workspace.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">--</span><span class="delimiter">&quot;</span></span>
workspace.names.each { <span class="predefined-type">String</span> name -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>H2
--
countries (177)
ocean (2)
places (326)
states (52)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a H2 Workspace with basic parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">H2 h2 = <span class="keyword">new</span> H2(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>,    <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>,   <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">5421</span><span class="delimiter">&quot;</span></span>,        <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">geo</span><span class="delimiter">&quot;</span></span>,         <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>,        <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>     <i class="conum" data-value="6"></i><b>(6)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Database name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Host name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Port</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>User name</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Password</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Create a H2 Workspace with named parameters.  Only the database name is required.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">H2 h2 = <span class="keyword">new</span> H2(<span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">host</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">port</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">5412</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">schema</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">geo</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">secret</span><span class="delimiter">&quot;</span></span>
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-geobuf-workspaces"><a class="anchor" href="#creating-geobuf-workspaces"></a>Creating Geobuf Workspaces</h4>
<div class="listingblock">
<div class="title">Create a Geobuf Workspace from a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Geobuf(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/geobuf</span><span class="delimiter">&quot;</span></span>))
println workspace.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">------</span><span class="delimiter">&quot;</span></span>
workspace.names.each { <span class="predefined-type">String</span> name -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Geobuf
------
ocean (2)
places (326)
countries (177)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-property-workspaces"><a class="anchor" href="#creating-property-workspaces"></a>Creating Property Workspaces</h4>
<div class="listingblock">
<div class="title">Create a Property Workspace from a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Property(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/property</span><span class="delimiter">&quot;</span></span>))
println workspace.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">--------</span><span class="delimiter">&quot;</span></span>
workspace.names.each { <span class="predefined-type">String</span> name -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Property
------
circles (10)
places (10)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-sqlite-workspaces"><a class="anchor" href="#creating-sqlite-workspaces"></a>Creating SQLite Workspaces</h4>
<div class="listingblock">
<div class="title">Create a SQLite Workspace from a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Sqlite(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.sqlite</span><span class="delimiter">&quot;</span></span>))
println workspace.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">--------</span><span class="delimiter">&quot;</span></span>
workspace.names.each { <span class="predefined-type">String</span> name -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content"> (</span><span class="inline"><span class="inline-delimiter">${</span>workspace.get(name).count<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Sqlite
------
countries (177)
ocean (2)
places (326)
rivers (460)
states (52)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-postgis-workspaces"><a class="anchor" href="#creating-postgis-workspaces"></a>Creating PostGIS Workspaces</h4>
<div class="listingblock">
<div class="title">Create a PostGIS Workspace with basic parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PostGIS postgis = <span class="keyword">new</span> PostGIS(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>,    <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>,   <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">5432</span><span class="delimiter">&quot;</span></span>,        <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">public</span><span class="delimiter">&quot;</span></span>,      <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>,        <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>     <i class="conum" data-value="6"></i><b>(6)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Database name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Host name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Port</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Schema</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>User name</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Password</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Create a PostGIS Workspace with advanced parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PostGIS postgis = <span class="keyword">new</span> PostGIS(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>,                   <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>,                  <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">5432</span><span class="delimiter">&quot;</span></span>,                       <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">public</span><span class="delimiter">&quot;</span></span>,                     <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>,                       <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>,                   <i class="conum" data-value="6"></i><b>(6)</b>
        <span class="predefined-constant">true</span>,                         <i class="conum" data-value="7"></i><b>(7)</b>
        <span class="predefined-constant">true</span>,                         <i class="conum" data-value="8"></i><b>(8)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">OWNER geo TABLESPACE points</span><span class="delimiter">&quot;</span></span> <i class="conum" data-value="9"></i><b>(9)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Database name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Host name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Port</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Schema</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>User name</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Password</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Estimated Extent</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Create Database</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Create Database Params</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Create a PostGIS Workspace with named parameters.  Only the database name is required.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PostGIS postgis = <span class="keyword">new</span> PostGIS(<span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">host</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">port</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">5432</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">schema</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">public</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">secret</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">estimatedExtent</span><span class="delimiter">&quot;</span></span>: <span class="predefined-constant">false</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">createDatabase</span><span class="delimiter">&quot;</span></span>: <span class="predefined-constant">false</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">createDatabaseParams</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">OWNER geo TABLESPACE points</span><span class="delimiter">&quot;</span></span>
)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Delete a PostGIS database.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PostGIS.deleteDatabase(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>,    <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>,   <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">5432</span><span class="delimiter">&quot;</span></span>,        <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>,        <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>     <i class="conum" data-value="5"></i><b>(5)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Database name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Host name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Port</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>User name</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Password</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Delete a PostGIS database with named parameters.  Only the database name is required.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">PostGIS.deleteDatabase(<span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">host</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">port</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">5432</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">secret</span><span class="delimiter">&quot;</span></span>
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-mysql-workspaces"><a class="anchor" href="#creating-mysql-workspaces"></a>Creating MySQL Workspaces</h4>
<div class="listingblock">
<div class="title">Create a MySQL Workspace with basic parameters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MySQL mysql = <span class="keyword">new</span> MySQL(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>,    <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>,   <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">3306</span><span class="delimiter">&quot;</span></span>,        <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>,        <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>     <i class="conum" data-value="5"></i><b>(5)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Database name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Host name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Port</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>User name</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Password</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Create a MySQL Workspace with named parameters.  Only the database name is required.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MySQL mysql = <span class="keyword">new</span> MySQL(<span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">host</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">port</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">3306</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">secret</span><span class="delimiter">&quot;</span></span>
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-spatialite-workspaces"><a class="anchor" href="#creating-spatialite-workspaces"></a>Creating SpatiaLite Workspaces</h4>
<div class="paragraph">
<p>The SpatiaLite Workspace requires GDAL and OGR to be installed with Java support.</p>
</div>
<div class="listingblock">
<div class="title">Create a SpatiaLite Workspace with a File name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">SpatiaLite spatialite = <span class="keyword">new</span> SpatiaLite(<span class="string"><span class="delimiter">&quot;</span><span class="content">db.sqlite</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a SpatiaLite Workspace with a File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> directory = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">databases</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">db.sqlite</span><span class="delimiter">&quot;</span></span>)
SpatiaLite spatialite = <span class="keyword">new</span> SpatiaLite(file)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-wfs-workspaces"><a class="anchor" href="#creating-wfs-workspaces"></a>Creating WFS Workspaces</h4>
<div class="listingblock">
<div class="title">Create a WFS Workspace with a URL</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">WFS wfs = <span class="keyword">new</span> WFS(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8080/geoserver/ows?service=wfs&amp;version=1.1.0&amp;request=GetCapabilities</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-ogr-workspaces"><a class="anchor" href="#creating-ogr-workspaces"></a>Creating OGR Workspaces</h4>
<div class="paragraph">
<p>The OGR Workspace requires GDAL and OGR to be installed with Java support.</p>
</div>
<div class="paragraph">
<p>On Ubuntu, you can install GDAL and OGR with the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">sudo apt-get install gdal-bin

sudo apt-get install libgdal-java</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Determine if OGR is available.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">boolean</span> isAvailable = OGR.isAvailable()</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get OGR Drivers.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; drivers = OGR.drivers</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Shapefile Workspace from OGR.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">states.shp</span><span class="delimiter">&quot;</span></span>)
OGR ogr = <span class="keyword">new</span> OGR(<span class="string"><span class="delimiter">&quot;</span><span class="content">ESRI Shapefile</span><span class="delimiter">&quot;</span></span>, file.absolutePath)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a SQLite Workspace from OGR</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">states.sqlite</span><span class="delimiter">&quot;</span></span>)
OGR ogr = <span class="keyword">new</span> OGR(<span class="string"><span class="delimiter">&quot;</span><span class="content">SQLite</span><span class="delimiter">&quot;</span></span>, file.absolutePath)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a GeoJSON Workspace from OGR</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">states.json</span><span class="delimiter">&quot;</span></span>)
OGR ogr = <span class="keyword">new</span> OGR(<span class="string"><span class="delimiter">&quot;</span><span class="content">GeoJSON</span><span class="delimiter">&quot;</span></span>, file.absolutePath)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="database-workspace"><a class="anchor" href="#database-workspace"></a>Database Workspace</h3>
<div class="sect3">
<h4 id="sql"><a class="anchor" href="#sql"></a>SQL</h4>
<div class="listingblock">
<div class="title">Run SQL queries directly against Databse Workspace (PostGIS, MySQL, H2)</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Database workspace = <span class="keyword">new</span> H2(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/h2/data.db</span><span class="delimiter">&quot;</span></span>))
Sql sql = workspace.sql</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Count the number of results</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">int</span> numberOfPlaces = sql.firstRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT COUNT(*) as count FROM </span><span class="char">\&quot;</span><span class="content">places</span><span class="char">\&quot;</span><span class="delimiter">&quot;</span></span>).get(<span class="string"><span class="delimiter">&quot;</span><span class="content">count</span><span class="delimiter">&quot;</span></span>) <span class="keyword">as</span> <span class="type">int</span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of Places = </span><span class="inline"><span class="inline-delimiter">${</span>numberOfPlaces<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># of Places = 326</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculate statistics</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">GroovyRowResult result = sql.firstRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT MIN(ELEVATION) as min_elev, MAX(ELEVATION) as max_elev, AVG(ELEVATION) as avg_elev FROM </span><span class="char">\&quot;</span><span class="content">places</span><span class="char">\&quot;</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Mininum Elevation = </span><span class="inline"><span class="inline-delimiter">${</span>result.get(<span class="string"><span class="delimiter">'</span><span class="content">min_elev</span><span class="delimiter">'</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Maximum Elevation = </span><span class="inline"><span class="inline-delimiter">${</span>result.get(<span class="string"><span class="delimiter">'</span><span class="content">max_elev</span><span class="delimiter">'</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Average Elevation = </span><span class="inline"><span class="inline-delimiter">${</span>result.get(<span class="string"><span class="delimiter">'</span><span class="content">avg_elev</span><span class="delimiter">'</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Mininum Elevation = 0.0
Maximum Elevation = 2320.0
Average Elevation = 30.085889570552148</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Select rows</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; names = <span class="type">[]</span>
sql.eachRow <span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT TOP 10 </span><span class="char">\&quot;</span><span class="content">NAME</span><span class="char">\&quot;</span><span class="content"> FROM </span><span class="char">\&quot;</span><span class="content">places</span><span class="char">\&quot;</span><span class="content"> ORDER BY </span><span class="char">\&quot;</span><span class="content">NAME</span><span class="char">\&quot;</span><span class="content"> DESC </span><span class="delimiter">&quot;</span></span>, {
    names.add(<span class="local-variable">it</span>[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>])
}
names.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> Zürich
Zibo
Zhengzhou
Zagreb
Yerevan
Yaounde
Yamoussoukro
Xian
Wuhan
Windhoek</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Execute spatial sql</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace memory = <span class="keyword">new</span> Memory()
Layer layer = memory.create(<span class="string"><span class="delimiter">&quot;</span><span class="content">places_polys</span><span class="delimiter">&quot;</span></span>, [<span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">buffer</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>), <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)])
sql.eachRow <span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT ST_Buffer(</span><span class="char">\&quot;</span><span class="content">the_geom</span><span class="char">\&quot;</span><span class="content">, 10) as buffer, </span><span class="char">\&quot;</span><span class="content">NAME</span><span class="char">\&quot;</span><span class="content"> as name FROM </span><span class="char">\&quot;</span><span class="content">places</span><span class="char">\&quot;</span><span class="delimiter">&quot;</span></span>, {row -&gt;
    Geometry poly = Geometry.fromWKB(row.buffer <span class="keyword">as</span> <span class="type">byte</span><span class="type">[]</span>)
    layer.add([<span class="key">buffer</span>: poly, <span class="key">name</span>: row.NAME])
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/workspace_database_getsql.png" alt="workspace database getsql">
</div>
</div>
</div>
<div class="sect3">
<h4 id="view"><a class="anchor" href="#view"></a>View</h4>
<div class="listingblock">
<div class="title">Create a new Layer from a SQL View</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Database workspace = <span class="keyword">new</span> H2(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/h2/data.db</span><span class="delimiter">&quot;</span></span>))
Layer layer = workspace.createView(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">megacities</span><span class="delimiter">&quot;</span></span>,                                             <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT * FROM </span><span class="char">\&quot;</span><span class="content">places</span><span class="char">\&quot;</span><span class="content"> WHERE </span><span class="char">\&quot;</span><span class="content">MEGACITY</span><span class="char">\&quot;</span><span class="content"> = '%mega%'</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">the_geom</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),                <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="key">params</span>: [[<span class="string"><span class="delimiter">'</span><span class="content">mega</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">1</span><span class="delimiter">'</span></span>]]                                   <i class="conum" data-value="4"></i><b>(4)</b>
)
<span class="type">boolean</span> hasLayer1 = workspace.has(<span class="string"><span class="delimiter">&quot;</span><span class="content">megacities</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does layer exist? </span><span class="inline"><span class="inline-delimiter">${</span>hasLayer1<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The layer name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The SQL Statement</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The Geometry Field</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Query Parameters</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>Does layer exist? true</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/workspace_database_view.png" alt="workspace database view">
</div>
</div>
<div class="listingblock">
<div class="title">Remove the new Layer created from a SQL View</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">workspace.deleteView(<span class="string"><span class="delimiter">&quot;</span><span class="content">megacities</span><span class="delimiter">&quot;</span></span>)
<span class="type">boolean</span> hasLayer2 = workspace.has(<span class="string"><span class="delimiter">&quot;</span><span class="content">megacities</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does layer exist? </span><span class="inline"><span class="inline-delimiter">${</span>hasLayer2<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Does layer exist? false</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="index"><a class="anchor" href="#index"></a>Index</h4>
<div class="listingblock">
<div class="title">Create an Index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Database workspace = <span class="keyword">new</span> H2(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/h2/data.db</span><span class="delimiter">&quot;</span></span>))
workspace.createIndex(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">name_idx</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>,<span class="predefined-constant">true</span>)
workspace.createIndex(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">megacity_idx</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">MEGACITY</span><span class="delimiter">&quot;</span></span>,<span class="predefined-constant">false</span>)
workspace.createIndex(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">a3_idx</span><span class="delimiter">&quot;</span></span>, [<span class="string"><span class="delimiter">&quot;</span><span class="content">SOV_A3</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">ADM0_A3</span><span class="delimiter">&quot;</span></span>],<span class="predefined-constant">false</span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get an Index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; indexes = workspace.getIndexes(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
indexes.each { <span class="predefined-type">Map</span> index -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">Index name = </span><span class="inline"><span class="inline-delimiter">${</span>index.name<span class="inline-delimiter">}</span></span><span class="content">, unique = </span><span class="inline"><span class="inline-delimiter">${</span>index.unique<span class="inline-delimiter">}</span></span><span class="content">, attributes = </span><span class="inline"><span class="inline-delimiter">${</span>index.attributes<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Index name = PRIMARY_KEY_C, unique = true, attributes = [fid]
Index name = name_idx, unique = true, attributes = [NAME]
Index name = a3_idx, unique = false, attributes = [SOV_A3, ADM0_A3]
Index name = megacity_idx, unique = false, attributes = [MEGACITY]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Remove an Index</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">workspace.deleteIndex(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">name_idx</span><span class="delimiter">&quot;</span></span>)
workspace.deleteIndex(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">megacity_idx</span><span class="delimiter">&quot;</span></span>)
workspace.deleteIndex(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">a3_idx</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="layer-recipes"><a class="anchor" href="#layer-recipes"></a>Layer Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Layer classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/layer/package-summary.html">geoscript.layer</a></strong> package.</p>
</div>
<div class="paragraph">
<p>A Layer is a collection of Features.</p>
</div>
<div class="sect2">
<h3 id="getting-a-layers-properties"><a class="anchor" href="#getting-a-layers-properties"></a>Getting a Layer&#8217;s Properties</h3>
<div class="listingblock">
<div class="title">Get a Layer from a Workspace and it&#8217;s name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> name = layer.name
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Name: </span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Name: countries</pre>
</div>
</div>
<div class="listingblock">
<div class="title">The Layer&#8217;s Format</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> format = layer.format
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Format: </span><span class="inline"><span class="inline-delimiter">${</span>format<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Format: GeoPackage</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Count the number of Features</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">int</span> count = layer.count
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of Features: </span><span class="inline"><span class="inline-delimiter">${</span>count<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># of Features: 177</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Layer&#8217;s Projection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection proj = layer.proj
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Projection: </span><span class="inline"><span class="inline-delimiter">${</span>proj<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Projection: EPSG:4326</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the Bounds of the Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = layer.bounds
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Bounds: (-179.99999999999997,-90.00000000000003,180.00000000000014,83.64513000000002,EPSG:4326)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get the minimum and maximum value from a Field.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">Double</span>&gt; minMax = layer.minmax(<span class="string"><span class="delimiter">&quot;</span><span class="content">POP2050</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Minimum Population in 2050 = </span><span class="inline"><span class="inline-delimiter">${</span>minMax.min<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Maximum Population in 2050 = </span><span class="inline"><span class="inline-delimiter">${</span>minMax.max<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Minimum Population in 2050 = 0.0
Maximum Population in 2050 = 36400.0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Calculate a histogram of values for a Field.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">List</span>&lt;<span class="predefined-type">Double</span>&gt;&gt; values = layer.histogram(<span class="string"><span class="delimiter">&quot;</span><span class="content">POP2050</span><span class="delimiter">&quot;</span></span>, <span class="integer">10</span>)
values.each { <span class="predefined-type">List</span>&lt;<span class="predefined-type">Double</span>&gt; value -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>value[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">${</span>value[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0.0 - 3640.0
3640.0 - 7280.0
7280.0 - 10920.0
10920.0 - 14560.0
14560.0 - 18200.0
18200.0 - 21840.0
21840.0 - 25480.0
25480.0 - 29120.0
29120.0 - 32760.0
32760.0 - 36400.0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a List of interpolated values for a Field using a linear algorithm</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Double</span>&gt; values = layer.interpolate(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">POP2050</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="integer">10</span>,        <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">linear</span><span class="delimiter">&quot;</span></span>   <i class="conum" data-value="3"></i><b>(3)</b>
)
values.each { <span class="predefined-type">Double</span> value -&gt;
    println value
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Field Name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Number of classes</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Algorithm</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>0.0
3640.0
7280.0
10920.0
14560.0
18200.0
21840.0
25480.0
29120.0
32760.0
36400.0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a List of interpolated values for a Field using a exponetial algorithm</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">values = layer.interpolate(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">POP2050</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="integer">8</span>,         <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">exp</span><span class="delimiter">&quot;</span></span>      <i class="conum" data-value="3"></i><b>(3)</b>
)
values.each { <span class="predefined-type">Double</span> value -&gt;
    println value
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Field Name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Number of classes</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Algorithm</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>0.0
2.7165430207384107
12.81269202499939
50.33546414312058
189.79046097748173
708.0809561693237
2634.3298787896188
9793.31686835896
36399.99999999998</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a List of interpolated values for a Field using a logarithmic algorithm</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">values = layer.interpolate(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">POP2050</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="integer">12</span>,        <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">exp</span><span class="delimiter">&quot;</span></span>      <i class="conum" data-value="3"></i><b>(3)</b>
)
values.each { <span class="predefined-type">Double</span> value -&gt;
    println value
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Field Name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Number of classes</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Algorithm</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>0.0
1.3993454247861767
4.75685846744236
12.81269202499939
32.14141941416279
78.51771304229133
189.79046097748173
456.77221963916656
1097.3536807854464
2634.3298787896188
6322.06668747619
15170.221127213848
36399.99999999998</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-a-layers-features"><a class="anchor" href="#getting-a-layers-features"></a>Getting a Layer&#8217;s Features</h3>
<div class="sect3">
<h4 id="each-feature"><a class="anchor" href="#each-feature"></a>Each Feature</h4>
<div class="listingblock">
<div class="title">Iterate over a Layer&#8217;s Features</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
layer.eachFeature { Feature feature -&gt;
    println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Minnesota
Montana
North Dakota
Hawaii
Idaho
Washington
Arizona
California
Colorado
Nevada
...</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Iterate over a subset of a Layer&#8217;s Features</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
layer.eachFeature(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1 LIKE 'M%'</span><span class="delimiter">&quot;</span></span>) { Feature feature -&gt;
    println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Minnesota
Montana
Missouri
Massachusetts
Mississippi
Maryland
Maine
Michigan</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Iterate over a Layer&#8217;s Features with parameters.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
layer.eachFeature(<span class="key">sort</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>], <span class="key">start</span>: <span class="integer">0</span>, <span class="key">max</span>: <span class="integer">5</span>, <span class="key">fields</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>], <span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1 LIKE 'M%'</span><span class="delimiter">&quot;</span></span>) { Feature feature -&gt;
    println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Maine
Maryland
Massachusetts
Michigan
Minnesota</pre>
</div>
</div>
<div class="paragraph">
<p>Parameters</p>
</div>
<div class="ulist">
<ul>
<li>
<p>filter: The Filter or Filter String to limit the Features. Defaults to null.</p>
</li>
<li>
<p>sort:  A List of Lists that define the sort order [[Field or Field name, "ASC" or "DESC"],&#8230;&#8203;]. Not all Layers support sorting!</p>
</li>
<li>
<p>max:  The maximum number of Features to include</p>
</li>
<li>
<p>start: The index of the record to start the cursor at.  Together with maxFeatures this simulates paging. Not all Layers support the start index and paging!</p>
</li>
<li>
<p>fields: A List of Fields or Field names to include.  Used to select only a subset of Fields.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="read-all-features"><a class="anchor" href="#read-all-features"></a>Read all Features</h4>
<div class="listingblock">
<div class="title">Read all Feature into a List</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;Feature&gt; features = layer.features

println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Features = </span><span class="inline"><span class="inline-delimiter">${</span>features.size()<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
features.each { Feature feature -&gt;
    println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Features = 52
Minnesota
Montana
North Dakota
Hawaii
Idaho
Washington
Arizona
California
Colorado
Nevada
...</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="collect-values"><a class="anchor" href="#collect-values"></a>Collect values</h4>
<div class="listingblock">
<div class="title">Collect values from a Layer&#8217;s Features</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; names = layer.collectFromFeature { Feature f -&gt;
    f[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>]
}.sort()

println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Names = </span><span class="inline"><span class="inline-delimiter">${</span>names.size()<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
names.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Names = 52
Alabama
Alaska
Arizona
Arkansas
California
Colorado
Connecticut
Delaware
District of Columbia
Florida
...</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Collect values from a Layer&#8217;s Features with parameters.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; names = layer.collectFromFeature(
    <span class="key">sort</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>],
    <span class="key">start</span>: <span class="integer">0</span>,
    <span class="key">max</span>: <span class="integer">5</span>,
    <span class="key">fields</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>],
    <span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1 LIKE 'M%'</span><span class="delimiter">&quot;</span></span>) { Feature f -&gt;
        f[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>]
    }

println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Names = </span><span class="inline"><span class="inline-delimiter">${</span>names.size()<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
names.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Names = 5
Maine
Maryland
Massachusetts
Michigan
Minnesota</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="first"><a class="anchor" href="#first"></a>First</h4>
<div class="listingblock">
<div class="title">Get the first Feature that matches the Filter.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
Feature feature = layer.first(<span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1='Washington'</span><span class="delimiter">&quot;</span></span>)
println feature.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Washington</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_first.png" alt="layer first">
</div>
</div>
<div class="listingblock">
<div class="title">Get the first Feature sorted by name ascending and descending.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)

Feature featureAsc = layer.first(<span class="key">sort</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1 ASC</span><span class="delimiter">&quot;</span></span>)
println featureAsc.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>)

Feature featureDesc = layer.first(<span class="key">sort</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1 DESC</span><span class="delimiter">&quot;</span></span>)
println featureDesc.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Alabama
Wyoming</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="filter"><a class="anchor" href="#filter"></a>Filter</h4>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_first_sort.png" alt="layer first sort">
</div>
</div>
<div class="listingblock">
<div class="title">Create a new Layer from an existing Layer with just the Features that match a Filter.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
Layer disputedLayer = layer.filter(<span class="string"><span class="delimiter">&quot;</span><span class="content">TYPE='Disputed'</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_filter.png" alt="layer filter">
</div>
</div>
</div>
<div class="sect3">
<h4 id="cursor"><a class="anchor" href="#cursor"></a>Cursor</h4>
<div class="listingblock">
<div class="title">Iterate over a Layer&#8217;s Features with a Cursor</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Cursor</span> cursor = layer.cursor
cursor.each { Feature feature -&gt;
    println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Minnesota
Montana
North Dakota
Hawaii
Idaho
Washington
Arizona
California
Colorado
Nevada
...</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Iterate over a subset of a Layer&#8217;s Features with a Cursor</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Cursor</span> cursor = layer.getCursor(<span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1 LIKE 'M%'</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">while</span>(cursor.hasNext()) {
    Feature feature = cursor.next()
    println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Minnesota
Montana
Missouri
Massachusetts
Mississippi
Maryland
Maine
Michigan</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Iterate over a Layer&#8217;s Features with parameters with a Cursor</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
Layer layer = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
layer.getCursor(<span class="key">sort</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>], <span class="key">start</span>: <span class="integer">0</span>, <span class="key">max</span>: <span class="integer">5</span>, <span class="key">fields</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>], <span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1 LIKE 'M%'</span><span class="delimiter">&quot;</span></span>).each { Feature feature -&gt;
    println feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Maine
Maryland
Massachusetts
Michigan
Minnesota</pre>
</div>
</div>
<div class="paragraph">
<p>Parameters</p>
</div>
<div class="ulist">
<ul>
<li>
<p>filter: The Filter or Filter String to limit the Features. Defaults to null.</p>
</li>
<li>
<p>sort:  A List of Lists that define the sort order [[Field or Field name, "ASC" or "DESC"],&#8230;&#8203;]. Not all Layers support sorting!</p>
</li>
<li>
<p>max:  The maximum number of Features to include</p>
</li>
<li>
<p>start: The index of the record to start the cursor at.  Together with maxFeatures this simulates paging. Not all Layers support the start index and paging!</p>
</li>
<li>
<p>fields: A List of Fields or Field names to include.  Used to select only a subset of Fields.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding-updating-and-deleting"><a class="anchor" href="#adding-updating-and-deleting"></a>Adding, Updating, and Deleting</h3>
<div class="listingblock">
<div class="title">Add Features to a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)

<span class="comment">// Add a Feature with a Map</span>
<span class="predefined-type">Map</span> attributes = [
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.333056</span>, <span class="float">47.609722</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
        <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
]
layer.add(attributes)

<span class="comment">// Add a Feature with a List</span>
<span class="predefined-type">List</span> values = [
        <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.459444</span>, <span class="float">47.241389</span>),
        <span class="integer">2</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
]
layer.add(values)

<span class="comment">// Add a Feature</span>
Feature feature = schema.feature([
        <span class="key">id</span>:<span class="integer">3</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Fargo</span><span class="delimiter">&quot;</span></span>,
        <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>,
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">96.789444</span>, <span class="float">46.877222</span>)
])
layer.add(feature)

<span class="comment">// Add Features from a List of Maps</span>
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; features = [
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.778889</span>, <span class="float">46.813333</span>),
                <span class="key">id</span>:<span class="integer">4</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Bismarck</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.891111</span>, <span class="float">46.828889</span>),
                <span class="key">id</span>: <span class="integer">5</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Mandan</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ]
]
layer.add(features)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seattle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tacoma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fargo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bismarck</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ND</p></td>
</tr>
</tbody>
</table>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_add.png" alt="layer add">
</div>
</div>
<div class="listingblock">
<div class="title">Update Features in a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; features = [
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.333056</span>, <span class="float">47.609722</span>),
                <span class="key">id</span>: <span class="integer">1</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.459444</span>, <span class="float">47.241389</span>),
                <span class="key">id</span>: <span class="integer">2</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">id</span>:<span class="integer">3</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Fargo</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>,
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">96.789444</span>, <span class="float">46.877222</span>)
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.778889</span>, <span class="float">46.813333</span>),
                <span class="key">id</span>:<span class="integer">4</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Bismarck</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.891111</span>, <span class="float">46.828889</span>),
                <span class="key">id</span>: <span class="integer">5</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Mandan</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ]
]
layer.add(features)

layer.update(layer.schema.state, <span class="string"><span class="delimiter">&quot;</span><span class="content">North Dakota</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">state='ND'</span><span class="delimiter">&quot;</span></span>)
layer.update(layer.schema.state, <span class="string"><span class="delimiter">&quot;</span><span class="content">Washington</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">state='WA'</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seattle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Washington</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tacoma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Washington</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fargo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">North Dakota</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bismarck</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">North Dakota</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">North Dakota</p></td>
</tr>
</tbody>
</table>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_update_features.png" alt="layer update features">
</div>
</div>
<div class="listingblock">
<div class="title">Update Features in a Layer by setting values</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; features = [
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.333056</span>, <span class="float">47.609722</span>),
                <span class="key">id</span>: <span class="integer">1</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.459444</span>, <span class="float">47.241389</span>),
                <span class="key">id</span>: <span class="integer">2</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>
        ]
]
layer.add(features)

<span class="predefined-type">List</span>&lt;Feature&gt; layerFeatures = layer.features
layerFeatures[<span class="integer">0</span>].set(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>)
layerFeatures[<span class="integer">0</span>].set(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>)

layerFeatures[<span class="integer">1</span>].set(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>)
layerFeatures[<span class="integer">1</span>].set(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>)

layer.update()</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seattle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tacoma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
</tbody>
</table>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_update_set_features.png" alt="layer update set features">
</div>
</div>
<div class="listingblock">
<div class="title">Delete Features from a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; features = [
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.333056</span>, <span class="float">47.609722</span>),
                <span class="key">id</span>: <span class="integer">1</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.459444</span>, <span class="float">47.241389</span>),
                <span class="key">id</span>: <span class="integer">2</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">id</span>:<span class="integer">3</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Fargo</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>,
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">96.789444</span>, <span class="float">46.877222</span>)
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.778889</span>, <span class="float">46.813333</span>),
                <span class="key">id</span>:<span class="integer">4</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Bismarck</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.891111</span>, <span class="float">46.828889</span>),
                <span class="key">id</span>: <span class="integer">5</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Mandan</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ]
]
layer.add(features)

layer.delete(<span class="string"><span class="delimiter">&quot;</span><span class="content">state='ND'</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seattle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tacoma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
</tbody>
</table>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_delete.png" alt="layer delete">
</div>
</div>
<div class="listingblock">
<div class="title">Add Features to a Layer using a Writer.  A Writer can add Features more effeciently because is commits batches of Features in Transactions .</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)

Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
MultiPoint points = Geometry.createRandomPoints(bounds.geometry, <span class="integer">100</span>)

geoscript.layer.Writer writer = layer.writer
<span class="keyword">try</span> {
    points.geometries.eachWithIndex { <span class="predefined-type">Point</span> point, <span class="type">int</span> index -&gt;
        Feature feature = writer.newFeature
        feature[<span class="string"><span class="delimiter">'</span><span class="content">id</span><span class="delimiter">'</span></span>] = index
        feature[<span class="string"><span class="delimiter">'</span><span class="content">geom</span><span class="delimiter">'</span></span>] = point
        writer.add(feature)
    }
} <span class="keyword">finally</span> {
    writer.close()
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_writer.png" alt="layer writer">
</div>
</div>
<div class="listingblock">
<div class="title">Add Features to a Layer using a Writer inside of a Closure.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)

Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
MultiPoint points = Geometry.createRandomPoints(bounds.geometry, <span class="integer">100</span>)

layer.withWriter { geoscript.layer.Writer writer -&gt;
    points.geometries.eachWithIndex { <span class="predefined-type">Point</span> point, <span class="type">int</span> index -&gt;
        Feature feature = writer.newFeature
        feature[<span class="string"><span class="delimiter">'</span><span class="content">id</span><span class="delimiter">'</span></span>] = index
        feature[<span class="string"><span class="delimiter">'</span><span class="content">geom</span><span class="delimiter">'</span></span>] = point
        writer.add(feature)
    }
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_with_writer.png" alt="layer with writer">
</div>
</div>
</div>
<div class="sect2">
<h3 id="shapefiles"><a class="anchor" href="#shapefiles"></a>Shapefiles</h3>
<div class="paragraph">
<p>Shapefiles are a very commonly used format for storing spatial data.  So, instead of creating
a Directory Workspace and getting the Layer from the Workspace, you can use the Shapefile class.</p>
</div>
<div class="sect3">
<h4 id="read"><a class="anchor" href="#read"></a>Read</h4>
<div class="listingblock">
<div class="title">Read existing Shapefiles</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Shapefile countries = <span class="keyword">new</span> Shapefile(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/shapefiles/countries.shp</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Features in Countries = </span><span class="inline"><span class="inline-delimiter">${</span>countries.count<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

Shapefile ocean = <span class="keyword">new</span> Shapefile(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/shapefiles/ocean.shp</span><span class="delimiter">&quot;</span></span>))
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Features in Ocean = </span><span class="inline"><span class="inline-delimiter">${</span>ocean.count<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Features in Countries = 177

# Features in Ocean = 2</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_shapefile.png" alt="layer read shapefile">
</div>
</div>
</div>
<div class="sect3">
<h4 id="create"><a class="anchor" href="#create"></a>Create</h4>
<div class="listingblock">
<div class="title">Create a new Shapefile</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Directory workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; features = [
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.333056</span>, <span class="float">47.609722</span>),
                <span class="key">id</span>: <span class="integer">1</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.459444</span>, <span class="float">47.241389</span>),
                <span class="key">id</span>: <span class="integer">2</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">id</span>:<span class="integer">3</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Fargo</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>,
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">96.789444</span>, <span class="float">46.877222</span>)
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.778889</span>, <span class="float">46.813333</span>),
                <span class="key">id</span>:<span class="integer">4</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Bismarck</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.891111</span>, <span class="float">46.828889</span>),
                <span class="key">id</span>: <span class="integer">5</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Mandan</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ]
]
layer.add(features)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seattle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tacoma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fargo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bismarck</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ND</p></td>
</tr>
</tbody>
</table>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_create_shapefile.png" alt="layer create shapefile">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="property"><a class="anchor" href="#property"></a>Property</h3>
<div class="paragraph">
<p>GeoScript can store spatial data in a simple plain text format.  With the Property class
you can access a single property file directly.</p>
</div>
<div class="sect3">
<h4 id="read-2"><a class="anchor" href="#read-2"></a>Read</h4>
<div class="listingblock">
<div class="title">Read existing Property files</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">geoscript.layer.Property circles = <span class="keyword">new</span> geoscript.layer.Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/property/circles.properties</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Features in circles = </span><span class="inline"><span class="inline-delimiter">${</span>circles.count<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

geoscript.layer.Property places = <span class="keyword">new</span> geoscript.layer.Property(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/property/places.properties</span><span class="delimiter">&quot;</span></span>))
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Features in places = </span><span class="inline"><span class="inline-delimiter">${</span>places.count<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Features in circles = 10

# Features in places = 10</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_property.png" alt="layer read property">
</div>
</div>
</div>
<div class="sect3">
<h4 id="create-2"><a class="anchor" href="#create-2"></a>Create</h4>
<div class="listingblock">
<div class="title">Create a new Property</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">geoscript.workspace.Property workspace = <span class="keyword">new</span> geoscript.workspace.Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; features = [
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.333056</span>, <span class="float">47.609722</span>),
                <span class="key">id</span>: <span class="integer">1</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.459444</span>, <span class="float">47.241389</span>),
                <span class="key">id</span>: <span class="integer">2</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">WA</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">id</span>:<span class="integer">3</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Fargo</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>,
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">96.789444</span>, <span class="float">46.877222</span>)
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.778889</span>, <span class="float">46.813333</span>),
                <span class="key">id</span>:<span class="integer">4</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Bismarck</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ],
        [
                <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">100.891111</span>, <span class="float">46.828889</span>),
                <span class="key">id</span>: <span class="integer">5</span>,
                <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Mandan</span><span class="delimiter">&quot;</span></span>,
                <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ND</span><span class="delimiter">&quot;</span></span>
        ]
]
layer.add(features)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seattle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tacoma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fargo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bismarck</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ND</p></td>
</tr>
</tbody>
</table>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_create_shapefile.png" alt="layer create shapefile">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="geoprocessing"><a class="anchor" href="#geoprocessing"></a>Geoprocessing</h3>
<div class="sect3">
<h4 id="reproject"><a class="anchor" href="#reproject"></a>Reproject</h4>
<div class="listingblock">
<div class="title">Reproject a Layer from it&#8217;s source projection to a target projection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer states = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">States = </span><span class="inline"><span class="inline-delimiter">${</span>states.proj<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

Projection projection = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
Workspace outputWorkspace = <span class="keyword">new</span> Memory()
Layer statesInWebMercator = states.reproject(projection, outputWorkspace, <span class="string"><span class="delimiter">&quot;</span><span class="content">states_3857</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Reprojected States = </span><span class="inline"><span class="inline-delimiter">${</span>statesInWebMercator.proj<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>States = EPSG:4326
Reprojected States = EPSG:3857</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_reproject.png" alt="layer reproject">
</div>
</div>
</div>
<div class="sect3">
<h4 id="buffer"><a class="anchor" href="#buffer"></a>Buffer</h4>
<div class="listingblock">
<div class="title">Buffer a Layer of populated places</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer places = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">places</span><span class="delimiter">&quot;</span></span>)
Layer buffer = places.buffer(<span class="integer">5</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_buffer.png" alt="layer buffer">
</div>
</div>
</div>
<div class="sect3">
<h4 id="dissolve"><a class="anchor" href="#dissolve"></a>Dissolve</h4>
<div class="listingblock">
<div class="title">Dissolve a Layer by a Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data</span><span class="delimiter">&quot;</span></span>))
Layer states = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
Layer regions = states.dissolve(states.schema.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">SUB_REGION</span><span class="delimiter">&quot;</span></span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_dissolve.png" alt="layer dissolve">
</div>
</div>
</div>
<div class="sect3">
<h4 id="merge"><a class="anchor" href="#merge"></a>Merge</h4>
<div class="listingblock">
<div class="title">Merge two Layer together</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data</span><span class="delimiter">&quot;</span></span>))
Layer states = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
Feature washington = states.first(<span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">STATE_NAME='Washington'</span><span class="delimiter">&quot;</span></span>)
Feature oregon = states.first(<span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">STATE_NAME='Oregon'</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">Schema</span> waSchema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">washington</span><span class="delimiter">&quot;</span></span>,[
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">int</span><span class="delimiter">&quot;</span></span>)
])
Layer waLayer = <span class="keyword">new</span> Memory().create(waSchema)
waLayer.withWriter { geoscript.layer.Writer writer -&gt;
    Geometry.createRandomPoints(washington.geom, <span class="integer">50</span>).points.eachWithIndex { <span class="predefined-type">Point</span> pt, <span class="type">int</span> index -&gt;
        writer.add(waSchema.feature([<span class="key">geom</span>: pt, <span class="key">id</span>: index]))
    }
}
println <span class="string"><span class="delimiter">&quot;</span><span class="content">The Washington Layer  has </span><span class="inline"><span class="inline-delimiter">${</span>waLayer.count<span class="inline-delimiter">}</span></span><span class="content"> features</span><span class="delimiter">&quot;</span></span>

<span class="predefined-type">Schema</span> orSchema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">oregon</span><span class="delimiter">&quot;</span></span>,[
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">int</span><span class="delimiter">&quot;</span></span>)
])
Layer orLayer = <span class="keyword">new</span> Memory().create(orSchema)
orLayer.withWriter { geoscript.layer.Writer writer -&gt;
    Geometry.createRandomPoints(oregon.geom, <span class="integer">50</span>).points.eachWithIndex { <span class="predefined-type">Point</span> pt, <span class="type">int</span> index -&gt;
        writer.add(orSchema.feature([<span class="key">geom</span>: pt, <span class="key">id</span>: index]))
    }
}
println <span class="string"><span class="delimiter">&quot;</span><span class="content">The Oregon Layer  has </span><span class="inline"><span class="inline-delimiter">${</span>orLayer.count<span class="inline-delimiter">}</span></span><span class="content"> features</span><span class="delimiter">&quot;</span></span>

Layer mergedLayer = orLayer.merge(waLayer)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">The merged Layer has </span><span class="inline"><span class="inline-delimiter">${</span>mergedLayer.count<span class="inline-delimiter">}</span></span><span class="content"> features</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>The Washington Layer  has 50 features
The Oregon Layer  has 50 features
The merged Layer has 100 features</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_merge.png" alt="layer merge">
</div>
</div>
</div>
<div class="sect3">
<h4 id="split"><a class="anchor" href="#split"></a>Split</h4>
<div class="listingblock">
<div class="title">Split a Layer into Layers based on the value from a Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer rivers = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">rivers</span><span class="delimiter">&quot;</span></span>)
Workspace outWorkspace = <span class="keyword">new</span> Memory()
rivers.split(rivers.schema.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">scalerank</span><span class="delimiter">&quot;</span></span>), outWorkspace)

outWorkspace.layers.each { Layer layer -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>layer.name<span class="inline-delimiter">}</span></span><span class="content"> has </span><span class="inline"><span class="inline-delimiter">${</span>layer.count<span class="inline-delimiter">}</span></span><span class="content"> features</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>rivers_0 has 1 features
rivers_1 has 27 features
rivers_2 has 35 features
rivers_3 has 53 features
rivers_4 has 71 features
rivers_5 has 67 features
rivers_6 has 206 features</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_splitbyfield.png" alt="layer splitbyfield">
</div>
</div>
<div class="listingblock">
<div class="title">Split a Layer into Layers based on another Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">grid</span><span class="delimiter">&quot;</span></span>,[
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">col</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">int</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">row</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">int</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">row_col</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>)
])
Workspace gridWorkspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer gridLayer = gridWorkspace.create(schema)
<span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).generateGrid(<span class="integer">2</span>, <span class="integer">3</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">polygon</span><span class="delimiter">&quot;</span></span>, {cell, col, row -&gt;
    gridLayer.add([
            <span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>: cell,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">col</span><span class="delimiter">&quot;</span></span>: col,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">row</span><span class="delimiter">&quot;</span></span>: row,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">row_col</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>row<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>col<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    ])
})

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)

Workspace outWorkspace = <span class="keyword">new</span> Memory()
countries.split(gridLayer,gridLayer.schema.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">row_col</span><span class="delimiter">&quot;</span></span>),outWorkspace)

outWorkspace.layers.each { Layer layer -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>layer.name<span class="inline-delimiter">}</span></span><span class="content"> has </span><span class="inline"><span class="inline-delimiter">${</span>layer.count<span class="inline-delimiter">}</span></span><span class="content"> features</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries_1_1 has 6 features
countries_1_2 has 6 features
countries_2_1 has 44 features
countries_2_2 has 74 features
countries_3_1 has 13 features
countries_3_2 has 70 features</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_splitbylayer.png" alt="layer splitbylayer">
</div>
</div>
</div>
<div class="sect3">
<h4 id="transform"><a class="anchor" href="#transform"></a>Transform</h4>
<div class="listingblock">
<div class="title">Transform one Layer into another Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data</span><span class="delimiter">&quot;</span></span>))
Layer states = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">states</span><span class="delimiter">&quot;</span></span>)
Layer centroids = states.transform(<span class="string"><span class="delimiter">&quot;</span><span class="content">centroids</span><span class="delimiter">&quot;</span></span>, [
    <span class="key">geom</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">centroid(the_geom)</span><span class="delimiter">&quot;</span></span>,
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">strToUpperCase(STATE_NAME)</span><span class="delimiter">&quot;</span></span>,
    <span class="key">ratio</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">FEMALE / MALE</span><span class="delimiter">&quot;</span></span>
])
centroids.eachFeature(<span class="key">max</span>: <span class="integer">5</span>) {Feature f -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>f.geom<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>f[<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>]<span class="inline-delimiter">}</span></span><span class="content"> = </span><span class="inline"><span class="inline-delimiter">${</span>f[<span class="string"><span class="delimiter">'</span><span class="content">ratio</span><span class="delimiter">'</span></span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ILLINOIS = 1.0587396098110435
DISTRICT OF COLUMBIA = 1.1447503268897763
DELAWARE = 1.0626439771122835
WEST VIRGINIA = 1.0817203227723509
MARYLAND = 1.0621588832568312</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_transform.png" alt="layer transform">
</div>
</div>
</div>
<div class="sect3">
<h4 id="raster"><a class="anchor" href="#raster"></a>Raster</h4>
<div class="listingblock">
<div class="title">Create a Raster from the geometry and values of a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
Layer layer = workspace.create(<span class="string"><span class="delimiter">&quot;</span><span class="content">earthquake</span><span class="delimiter">&quot;</span></span>, [
    <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
    <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">intensity</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Double</span><span class="delimiter">&quot;</span></span>)
])
<span class="predefined-type">Point</span> point = <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.387695</span>, <span class="float">47.572357</span>)

<span class="type">double</span> distance = <span class="float">5.0</span>
<span class="predefined-type">List</span>&lt;Geometry&gt; geometries = (<span class="integer">1</span>..<span class="integer">5</span>).collect { <span class="type">int</span> i -&gt;
    point.buffer(i * distance)
}

geometries.eachWithIndex { Geometry geometry, <span class="type">int</span> i -&gt;
    <span class="keyword">if</span> (i &gt; <span class="integer">0</span>) {
        Geometry previousGeometry = geometries.get(i - <span class="integer">1</span>)
        geometry = geometry.difference(previousGeometry)
    }
    layer.add([
        <span class="key">geom</span>: geometry,
        <span class="key">intensity</span>: (i + <span class="integer">1</span>) * <span class="integer">20</span>
    ])
}

<span class="predefined-type">Raster</span> raster = layer.getRaster(
    <span class="string"><span class="delimiter">&quot;</span><span class="content">intensity</span><span class="delimiter">&quot;</span></span>,  <i class="conum" data-value="1"></i><b>(1)</b>
    [<span class="integer">400</span>,<span class="integer">400</span>],    <i class="conum" data-value="2"></i><b>(2)</b>
    layer.bounds, <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">intensity</span><span class="delimiter">&quot;</span></span>   <i class="conum" data-value="4"></i><b>(4)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Field for values</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Raster size (width and height)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Raster bounds</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Name</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Layer</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_getraster_layer.png" alt="layer getraster layer">
</div>
</div>
<div class="paragraph">
<p>Raster</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_getraster_raster.png" alt="layer getraster raster">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="layer-algebra"><a class="anchor" href="#layer-algebra"></a>Layer Algebra</h3>
<div class="paragraph">
<p>GeoScript can do layer algebra.  All of the examples below use Layer A (red) and Layer B (green).</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_ab.png" alt="layer ab">
</div>
</div>
<div class="sect3">
<h4 id="clip"><a class="anchor" href="#clip"></a>Clip</h4>
<div class="listingblock">
<div class="title">Clip Layer A with Layer B</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerA.clip(layerB)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_clip.png" alt="layer clip">
</div>
</div>
<div class="listingblock">
<div class="title">Clip Layer B with Layer A</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Workspace outWorkspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerB.clip(layerA, <span class="key">outWorkspace</span>: outWorkspace, <span class="key">outLayer</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ba_clip</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_clip_to_workspace.png" alt="layer clip to workspace">
</div>
</div>
</div>
<div class="sect3">
<h4 id="erase"><a class="anchor" href="#erase"></a>Erase</h4>
<div class="listingblock">
<div class="title">Erase Layer A with Layer B</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerA.erase(layerB)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_erase.png" alt="layer erase">
</div>
</div>
<div class="listingblock">
<div class="title">Erase Layer B with Layer A</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Workspace outWorkspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerB.erase(layerA, <span class="key">outWorkspace</span>: outWorkspace, <span class="key">outLayer</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ba_erase</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_erase_to_workspace.png" alt="layer erase to workspace">
</div>
</div>
</div>
<div class="sect3">
<h4 id="identity"><a class="anchor" href="#identity"></a>Identity</h4>
<div class="listingblock">
<div class="title">Identity Layer A with Layer B</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerA.identity(layerB)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_identity.png" alt="layer identity">
</div>
</div>
<div class="listingblock">
<div class="title">Identity Layer B with Layer A</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Workspace outWorkspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerB.identity(layerA, <span class="key">outWorkspace</span>: outWorkspace, <span class="key">outLayer</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ba_identity</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_identity_to_workspace.png" alt="layer identity to workspace">
</div>
</div>
</div>
<div class="sect3">
<h4 id="intersection"><a class="anchor" href="#intersection"></a>Intersection</h4>
<div class="listingblock">
<div class="title">Intersection Layer A with Layer B</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerA.intersection(layerB)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_intersection.png" alt="layer intersection">
</div>
</div>
<div class="listingblock">
<div class="title">Intersection Layer B with Layer A</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Workspace outWorkspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerB.intersection(layerA, <span class="key">outWorkspace</span>: outWorkspace, <span class="key">outLayer</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ba_intersection</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_intersection_to_workspace.png" alt="layer intersection to workspace">
</div>
</div>
</div>
<div class="sect3">
<h4 id="symmetric-difference"><a class="anchor" href="#symmetric-difference"></a>Symmetric Difference</h4>
<div class="listingblock">
<div class="title">Symmetric Difference Layer A with Layer B</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerA.symDifference(layerB)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_symDifference.png" alt="layer symDifference">
</div>
</div>
<div class="listingblock">
<div class="title">Symmetric Difference Layer B with Layer A</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Workspace outWorkspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerB.symDifference(layerA, <span class="key">outWorkspace</span>: outWorkspace, <span class="key">outLayer</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ba_symdifference</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_symDifference_to_workspace.png" alt="layer symDifference to workspace">
</div>
</div>
</div>
<div class="sect3">
<h4 id="update"><a class="anchor" href="#update"></a>Update</h4>
<div class="listingblock">
<div class="title">Update Layer A with Layer B</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerA.update(layerB)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_update.png" alt="layer update">
</div>
</div>
<div class="listingblock">
<div class="title">Update Layer B with Layer A</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Workspace outWorkspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerB.update(layerA, <span class="key">outWorkspace</span>: outWorkspace, <span class="key">outLayer</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ba_update</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_update_to_workspace.png" alt="layer update to workspace">
</div>
</div>
</div>
<div class="sect3">
<h4 id="union"><a class="anchor" href="#union"></a>Union</h4>
<div class="listingblock">
<div class="title">Union Layer A with Layer B</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerA.union(layerB)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_union.png" alt="layer union">
</div>
</div>
<div class="listingblock">
<div class="title">Union Layer B with Layer A</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/layeralgebra.gpkg</span><span class="delimiter">&quot;</span></span>))
Layer layerA = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
Layer layerB = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>)
Workspace outWorkspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer layerC = layerB.union(layerA, <span class="key">outWorkspace</span>: outWorkspace, <span class="key">outLayer</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ba_union</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_union_to_workspace.png" alt="layer union to workspace">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reading-and-writing-layers"><a class="anchor" href="#reading-and-writing-layers"></a>Reading and Writing Layers</h3>
<div class="paragraph">
<p>The Layer IO classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/layer/io/package-summary.html">geoscript.layer.io</a></strong> package.</p>
</div>
<div class="sect3">
<h4 id="finding-layer-writer-and-readers"><a class="anchor" href="#finding-layer-writer-and-readers"></a>Finding Layer Writer and Readers</h4>
<div class="listingblock">
<div class="title">List all Layer Writers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Writer</span>&gt; writers = Writers.list()
writers.each { <span class="predefined-type">Writer</span> writer -&gt;
    println writer.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>CsvWriter
GeobufWriter
GeoJSONWriter
GeoRSSWriter
GmlWriter
GpxWriter
KmlWriter
MvtWriter</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Layer Writer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

<span class="predefined-type">Writer</span> writer = Writers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">csv</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> csv = writer.write(layer)
println csv</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>"geom:Point:EPSG:4326","id:Integer","name:String"
"POINT (-122.3204 47.6024)","1","Seattle"
"POINT (-122.48416 47.2619)","2","Tacoma"</pre>
</div>
</div>
<div class="listingblock">
<div class="title">List all Layer Readers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Reader</span>&gt; readers = Readers.list()
readers.each { <span class="predefined-type">Reader</span> reader -&gt;
    println reader.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>CsvReader
GeobufReader
GeoJSONReader
GeoRSSReader
GmlReader
GpxReader
KmlReader
MvtReader</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Layer Reader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">Reader</span> reader = Readers.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">csv</span><span class="delimiter">&quot;</span></span>)
        Layer layer = reader.read(<span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&quot;geom:Point:EPSG:4326&quot;,&quot;id:Integer&quot;,&quot;name:String&quot;
&quot;POINT (-122.3204 47.6024)&quot;,&quot;1&quot;,&quot;Seattle&quot;
&quot;POINT (-122.48416 47.2619)&quot;,&quot;2&quot;,&quot;Tacoma&quot;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
        println <span class="string"><span class="delimiter">&quot;</span><span class="content"># features = </span><span class="inline"><span class="inline-delimiter">${</span>layer.count<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># features = 2</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="geojson-3"><a class="anchor" href="#geojson-3"></a>GeoJSON</h4>
<div class="listingblock">
<div class="title">Get GeoJSON String from a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
    <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
    <span class="key">id</span>: <span class="integer">1</span>,
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
    <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
    <span class="key">id</span>: <span class="integer">2</span>,
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

<span class="predefined-type">String</span> geojson = layer.toJSONString()
println geojson</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -122.3204,
                    47.6024
                ]
            },
            "properties": {
                "id": 1,
                "name": "Seattle"
            },
            "id": "fid-430c8eb2_16d5549ff60_-68c9"
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -122.4842,
                    47.2619
                ]
            },
            "properties": {
                "id": 2,
                "name": "Tacoma"
            },
            "id": "fid-430c8eb2_16d5549ff60_-68c7"
        }
    ]
}</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Layer to a GeoJSON String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

GeoJSONWriter writer = <span class="keyword">new</span> GeoJSONWriter()
<span class="predefined-type">String</span> geojson = writer.write(layer)
println geojson</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -122.3204,
                    47.6024
                ]
            },
            "properties": {
                "id": 1,
                "name": "Seattle"
            },
            "id": "fid-430c8eb2_16d5549ff60_-7e0f"
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -122.4842,
                    47.2619
                ]
            },
            "properties": {
                "id": 2,
                "name": "Tacoma"
            },
            "id": "fid-430c8eb2_16d5549ff60_-7e0d"
        }
    ]
}</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Layer from a GeoJSON String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> geoJson = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
{
    &quot;type&quot;: &quot;FeatureCollection&quot;,
    &quot;features&quot;: [
        {
            &quot;type&quot;: &quot;Feature&quot;,
            &quot;geometry&quot;: {
                &quot;type&quot;: &quot;Point&quot;,
                &quot;coordinates&quot;: [
                    -122.3204,
                    47.6024
                ]
            },
            &quot;properties&quot;: {
                &quot;id&quot;: 1,
                &quot;name&quot;: &quot;Seattle&quot;
            },
            &quot;id&quot;: &quot;1&quot;
        },
        {
            &quot;type&quot;: &quot;Feature&quot;,
            &quot;geometry&quot;: {
                &quot;type&quot;: &quot;Point&quot;,
                &quot;coordinates&quot;: [
                    -122.681944,
                    45.52
                ]
            },
            &quot;properties&quot;: {
                &quot;id&quot;: 2,
                &quot;name&quot;: &quot;Portland&quot;
            },
            &quot;id&quot;: &quot;2&quot;
        }
    ]
}
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        GeoJSONReader reader = <span class="keyword">new</span> GeoJSONReader()
        Layer layer = reader.read(geoJson)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_geojson.png" alt="layer read geojson">
</div>
</div>
</div>
<div class="sect3">
<h4 id="geobuf-3"><a class="anchor" href="#geobuf-3"></a>GeoBuf</h4>
<div class="listingblock">
<div class="title">Get GeoBuf String from a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

<span class="predefined-type">String</span> geobuf = layer.toGeobufString()
println geobuf</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0a0269640a046e616d6510021806223d0a1d0a0c08001a089fd8d374c0ebb22d6a0218016a090a0753656174746c650a1c0a0c08001a08ffd6e77498a3892d6a0218026a080a065461636f6d61</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Layer to a GeoBuf String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.681944</span>, <span class="float">45.52</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Portland</span><span class="delimiter">&quot;</span></span>
])

GeobufWriter writer = <span class="keyword">new</span> GeobufWriter()
<span class="predefined-type">String</span> geobuf = writer.write(layer)
println geobuf</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0a0269640a046e616d6510021806223f0a1d0a0c08001a089fd8d374c0ebb22d6a0218016a090a0753656174746c650a1e0a0c08001a08afe9ff7480d2b42b6a0218026a0a0a08506f72746c616e64</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Layer from a GeoBuf String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> geobuf = <span class="string"><span class="delimiter">&quot;</span><span class="content">0a0269640a046e616d6510021806223f0a1d0a0c08001a089fd8d374c0ebb22d6a0218016a090a0753656174746c650a1e0a0c08001a08afe9ff7480d2b42b6a0218026a0a0a08506f72746c616e64</span><span class="delimiter">&quot;</span></span>
GeobufReader reader = <span class="keyword">new</span> GeobufReader()
Layer layer = reader.read(geobuf)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_geobuf.png" alt="layer read geobuf">
</div>
</div>
</div>
<div class="sect3">
<h4 id="gml-4"><a class="anchor" href="#gml-4"></a>GML</h4>
<div class="listingblock">
<div class="title">Get GML String from a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

<span class="predefined-type">String</span> gml = layer.toGMLString()
println gml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;wfs:FeatureCollection xmlns:wfs="http://www.opengis.net/wfs"&gt;
  &lt;gml:boundedBy xmlns:gml="http://www.opengis.net/gml"&gt;
    &lt;gml:Box srsName="http://www.opengis.net/gml/srs/epsg.xml#4326"&gt;
      &lt;gml:coord&gt;
        &lt;gml:X&gt;
          -122.48416
        &lt;/gml:X&gt;
        &lt;gml:Y&gt;
          47.2619
        &lt;/gml:Y&gt;
      &lt;/gml:coord&gt;
      &lt;gml:coord&gt;
        &lt;gml:X&gt;
          -122.3204
        &lt;/gml:X&gt;
        &lt;gml:Y&gt;
          47.6024
        &lt;/gml:Y&gt;
      &lt;/gml:coord&gt;
    &lt;/gml:Box&gt;
  &lt;/gml:boundedBy&gt;
  &lt;gml:featureMember xmlns:gml="http://www.opengis.net/gml"&gt;
    &lt;gsf:cities xmlns:gsf="http://geoscript.org/feature" fid="fid-430c8eb2_16d5549ff60_-736a"&gt;
      &lt;gml:name&gt;
        Seattle
      &lt;/gml:name&gt;
      &lt;gsf:geom&gt;
        &lt;gml:Point&gt;
          &lt;gml:coord&gt;
            &lt;gml:X&gt;
              -122.3204
            &lt;/gml:X&gt;
            &lt;gml:Y&gt;
              47.6024
            &lt;/gml:Y&gt;
          &lt;/gml:coord&gt;
        &lt;/gml:Point&gt;
      &lt;/gsf:geom&gt;
      &lt;gsf:id&gt;
        1
      &lt;/gsf:id&gt;
    &lt;/gsf:cities&gt;
  &lt;/gml:featureMember&gt;
  &lt;gml:featureMember xmlns:gml="http://www.opengis.net/gml"&gt;
    &lt;gsf:cities xmlns:gsf="http://geoscript.org/feature" fid="fid-430c8eb2_16d5549ff60_-7368"&gt;
      &lt;gml:name&gt;
        Tacoma
      &lt;/gml:name&gt;
      &lt;gsf:geom&gt;
        &lt;gml:Point&gt;
          &lt;gml:coord&gt;
            &lt;gml:X&gt;
              -122.48416
            &lt;/gml:X&gt;
            &lt;gml:Y&gt;
              47.2619
            &lt;/gml:Y&gt;
          &lt;/gml:coord&gt;
        &lt;/gml:Point&gt;
      &lt;/gsf:geom&gt;
      &lt;gsf:id&gt;
        2
      &lt;/gsf:id&gt;
    &lt;/gsf:cities&gt;
  &lt;/gml:featureMember&gt;
&lt;/wfs:FeatureCollection&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Layer to a GML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

GmlWriter writer = <span class="keyword">new</span> GmlWriter()
<span class="predefined-type">String</span> gml = writer.write(layer)
println gml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;wfs:FeatureCollection xmlns:gsf="http://geoscript.org/feature" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wfs="http://www.opengis.net/wfs" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc"&gt;
&lt;gml:boundedBy&gt;
&lt;gml:Box srsName="http://www.opengis.net/gml/srs/epsg.xml#4326"&gt;
&lt;gml:coord&gt;
&lt;gml:X&gt;-122.48416&lt;/gml:X&gt;
&lt;gml:Y&gt;47.2619&lt;/gml:Y&gt;
&lt;/gml:coord&gt;
&lt;gml:coord&gt;
&lt;gml:X&gt;-122.3204&lt;/gml:X&gt;
&lt;gml:Y&gt;47.6024&lt;/gml:Y&gt;
&lt;/gml:coord&gt;
&lt;/gml:Box&gt;
&lt;/gml:boundedBy&gt;
&lt;gml:featureMember&gt;
&lt;gsf:cities fid="fid-430c8eb2_16d5549ff60_-7390"&gt;
&lt;gml:name&gt;Seattle&lt;/gml:name&gt;
&lt;gsf:geom&gt;
&lt;gml:Point&gt;
&lt;gml:coord&gt;
&lt;gml:X&gt;-122.3204&lt;/gml:X&gt;
&lt;gml:Y&gt;47.6024&lt;/gml:Y&gt;
&lt;/gml:coord&gt;
&lt;/gml:Point&gt;
&lt;/gsf:geom&gt;
&lt;gsf:id&gt;1&lt;/gsf:id&gt;
&lt;/gsf:cities&gt;
&lt;/gml:featureMember&gt;
&lt;gml:featureMember&gt;
&lt;gsf:cities fid="fid-430c8eb2_16d5549ff60_-738e"&gt;
&lt;gml:name&gt;Tacoma&lt;/gml:name&gt;
&lt;gsf:geom&gt;
&lt;gml:Point&gt;
&lt;gml:coord&gt;
&lt;gml:X&gt;-122.48416&lt;/gml:X&gt;
&lt;gml:Y&gt;47.2619&lt;/gml:Y&gt;
&lt;/gml:coord&gt;
&lt;/gml:Point&gt;
&lt;/gsf:geom&gt;
&lt;gsf:id&gt;2&lt;/gsf:id&gt;
&lt;/gsf:cities&gt;
&lt;/gml:featureMember&gt;
&lt;/wfs:FeatureCollection&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Layer from a GML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> gml = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
&lt;wfs:FeatureCollection xmlns:gsf=&quot;http://geoscript.org/feature&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wfs=&quot;http://www.opengis.net/wfs&quot; xmlns:gml=&quot;http://www.opengis.net/gml&quot; xmlns:ogc=&quot;http://www.opengis.net/ogc&quot;&gt;
    &lt;gml:boundedBy&gt;
        &lt;gml:Box srsName=&quot;http://www.opengis.net/gml/srs/epsg.xml#4326&quot;&gt;
            &lt;gml:coord&gt;
                &lt;gml:X&gt;-122.48416&lt;/gml:X&gt;
                &lt;gml:Y&gt;47.2619&lt;/gml:Y&gt;
            &lt;/gml:coord&gt;
            &lt;gml:coord&gt;
                &lt;gml:X&gt;-122.3204&lt;/gml:X&gt;
                &lt;gml:Y&gt;47.6024&lt;/gml:Y&gt;
            &lt;/gml:coord&gt;
        &lt;/gml:Box&gt;
    &lt;/gml:boundedBy&gt;
    &lt;gml:featureMember&gt;
        &lt;gsf:cities fid=&quot;fid-a7cd555_1634fc34503_-7fff&quot;&gt;
            &lt;gml:name&gt;Seattle&lt;/gml:name&gt;
            &lt;gsf:geom&gt;
                &lt;gml:Point&gt;
                    &lt;gml:coord&gt;
                        &lt;gml:X&gt;-122.3204&lt;/gml:X&gt;
                        &lt;gml:Y&gt;47.6024&lt;/gml:Y&gt;
                    &lt;/gml:coord&gt;
                &lt;/gml:Point&gt;
            &lt;/gsf:geom&gt;
            &lt;gsf:id&gt;1&lt;/gsf:id&gt;
        &lt;/gsf:cities&gt;
    &lt;/gml:featureMember&gt;
    &lt;gml:featureMember&gt;
        &lt;gsf:cities fid=&quot;fid-a7cd555_1634fc34503_-7ffd&quot;&gt;
            &lt;gml:name&gt;Portland&lt;/gml:name&gt;
            &lt;gsf:geom&gt;
                &lt;gml:Point&gt;
                    &lt;gml:coord&gt;
                        &lt;gml:X&gt;-122.681944&lt;/gml:X&gt;
                        &lt;gml:Y&gt;45.52&lt;/gml:Y&gt;
                    &lt;/gml:coord&gt;
                &lt;/gml:Point&gt;
            &lt;/gsf:geom&gt;
            &lt;gsf:id&gt;2&lt;/gsf:id&gt;
        &lt;/gsf:cities&gt;
    &lt;/gml:featureMember&gt;
&lt;/wfs:FeatureCollection&gt;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        GmlReader reader = <span class="keyword">new</span> GmlReader()
        Layer layer = reader.read(gml)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_gml.png" alt="layer read gml">
</div>
</div>
</div>
<div class="sect3">
<h4 id="kml-3"><a class="anchor" href="#kml-3"></a>KML</h4>
<div class="listingblock">
<div class="title">Get KML String from a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
    <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
    <span class="key">id</span>: <span class="integer">1</span>,
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
    <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
    <span class="key">id</span>: <span class="integer">2</span>,
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

<span class="predefined-type">String</span> kml = layer.toKMLString()
println kml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;kml:kml xmlns:kml="http://www.opengis.net/kml/2.2"&gt;
  &lt;kml:Document&gt;
    &lt;kml:Folder&gt;
      &lt;kml:name&gt;
        cities
      &lt;/kml:name&gt;
      &lt;kml:Schema kml:name="cities" kml:id="cities"&gt;
        &lt;kml:SimpleField kml:name="id" kml:type="Integer"/&gt;
        &lt;kml:SimpleField kml:name="name" kml:type="String"/&gt;
      &lt;/kml:Schema&gt;
      &lt;kml:Placemark&gt;
        &lt;kml:name&gt;
          fid-430c8eb2_16d5549ff60_-69d4
        &lt;/kml:name&gt;
        &lt;kml:Style&gt;
          &lt;kml:IconStyle&gt;
            &lt;kml:color&gt;
              ff0000ff
            &lt;/kml:color&gt;
          &lt;/kml:IconStyle&gt;
        &lt;/kml:Style&gt;
        &lt;kml:ExtendedData&gt;
          &lt;kml:SchemaData kml:schemaUrl="#cities"&gt;
            &lt;kml:SimpleData kml:name="id"&gt;
              1
            &lt;/kml:SimpleData&gt;
            &lt;kml:SimpleData kml:name="name"&gt;
              Seattle
            &lt;/kml:SimpleData&gt;
          &lt;/kml:SchemaData&gt;
        &lt;/kml:ExtendedData&gt;
        &lt;kml:Point&gt;
          &lt;kml:coordinates&gt;
            -122.3204,47.6024
          &lt;/kml:coordinates&gt;
        &lt;/kml:Point&gt;
      &lt;/kml:Placemark&gt;
      &lt;kml:Placemark&gt;
        &lt;kml:name&gt;
          fid-430c8eb2_16d5549ff60_-69d2
        &lt;/kml:name&gt;
        &lt;kml:Style&gt;
          &lt;kml:IconStyle&gt;
            &lt;kml:color&gt;
              ff0000ff
            &lt;/kml:color&gt;
          &lt;/kml:IconStyle&gt;
        &lt;/kml:Style&gt;
        &lt;kml:ExtendedData&gt;
          &lt;kml:SchemaData kml:schemaUrl="#cities"&gt;
            &lt;kml:SimpleData kml:name="id"&gt;
              2
            &lt;/kml:SimpleData&gt;
            &lt;kml:SimpleData kml:name="name"&gt;
              Tacoma
            &lt;/kml:SimpleData&gt;
          &lt;/kml:SchemaData&gt;
        &lt;/kml:ExtendedData&gt;
        &lt;kml:Point&gt;
          &lt;kml:coordinates&gt;
            -122.48416,47.2619
          &lt;/kml:coordinates&gt;
        &lt;/kml:Point&gt;
      &lt;/kml:Placemark&gt;
    &lt;/kml:Folder&gt;
  &lt;/kml:Document&gt;
&lt;/kml:kml&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Write a Layer to a KML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

KmlWriter writer = <span class="keyword">new</span> KmlWriter()
<span class="predefined-type">String</span> kml = writer.write(layer)
println kml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;kml:kml xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:kml="http://earth.google.com/kml/2.1"&gt;
&lt;kml:Document&gt;
&lt;kml:Placemark id="fid-430c8eb2_16d5549ff60_-7388"&gt;
&lt;kml:name&gt;Seattle&lt;/kml:name&gt;
&lt;kml:Point&gt;
&lt;kml:coordinates&gt;-122.3204,47.6024&lt;/kml:coordinates&gt;
&lt;/kml:Point&gt;
&lt;/kml:Placemark&gt;
&lt;kml:Placemark id="fid-430c8eb2_16d5549ff60_-7386"&gt;
&lt;kml:name&gt;Tacoma&lt;/kml:name&gt;
&lt;kml:Point&gt;
&lt;kml:coordinates&gt;-122.48416,47.2619&lt;/kml:coordinates&gt;
&lt;/kml:Point&gt;
&lt;/kml:Placemark&gt;
&lt;/kml:Document&gt;
&lt;/kml:kml&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Layer from a KML String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> kml = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
&lt;kml:kml xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:kml=&quot;http://earth.google.com/kml/2.1&quot;&gt;
    &lt;kml:Document&gt;
        &lt;kml:Placemark id=&quot;fid-61215c1b_1634ca279f5_-7fff&quot;&gt;
            &lt;kml:name&gt;Seattle&lt;/kml:name&gt;
            &lt;kml:Point&gt;
                &lt;kml:coordinates&gt;-122.3204,47.6024&lt;/kml:coordinates&gt;
            &lt;/kml:Point&gt;
        &lt;/kml:Placemark&gt;
        &lt;kml:Placemark id=&quot;fid-61215c1b_1634ca279f5_-7ffd&quot;&gt;
            &lt;kml:name&gt;Portland&lt;/kml:name&gt;
            &lt;kml:Point&gt;
                &lt;kml:coordinates&gt;-122.681944,45.52&lt;/kml:coordinates&gt;
            &lt;/kml:Point&gt;
        &lt;/kml:Placemark&gt;
    &lt;/kml:Document&gt;
&lt;/kml:kml&gt;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        KmlReader reader = <span class="keyword">new</span> KmlReader()
        Layer layer = reader.read(kml)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_kml.png" alt="layer read kml">
</div>
</div>
</div>
<div class="sect3">
<h4 id="csv"><a class="anchor" href="#csv"></a>CSV</h4>
<div class="listingblock">
<div class="title">Write a Layer to a CSV String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

CsvWriter writer = <span class="keyword">new</span> CsvWriter()
<span class="predefined-type">String</span> csv = writer.write(layer)
println csv</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>"geom:Point:EPSG:4326","id:Integer","name:String"
"POINT (-122.3204 47.6024)","1","Seattle"
"POINT (-122.48416 47.2619)","2","Tacoma"</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Layer from a CSV String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> csv = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&quot;geom:Point:EPSG:4326&quot;,&quot;id:Integer&quot;,&quot;name:String&quot;
&quot;POINT (-122.3204 47.6024)&quot;,&quot;1&quot;,&quot;Seattle&quot;
&quot;POINT (-122.681944 45.52)&quot;,&quot;2&quot;,&quot;Portland&quot;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        CsvReader reader = <span class="keyword">new</span> CsvReader()
        Layer layer = reader.read(csv)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_csv.png" alt="layer read csv">
</div>
</div>
</div>
<div class="sect3">
<h4 id="georss-3"><a class="anchor" href="#georss-3"></a>GeoRSS</h4>
<div class="listingblock">
<div class="title">Write a Layer to a GeoRSS String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

GeoRSSWriter writer = <span class="keyword">new</span> GeoRSSWriter()
<span class="predefined-type">String</span> georss = writer.write(layer)
println georss</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;feed xmlns:georss="http://www.georss.org/georss" xmlns="http://www.w3.org/2005/Atom"&gt;
&lt;title&gt;cities&lt;/title&gt;
&lt;subtitle&gt;cities geom: Point(EPSG:4326), id: Integer, name: String&lt;/subtitle&gt;
&lt;link&gt;http://geoscript.org/feature&lt;/link&gt;
&lt;entry&gt;
&lt;title&gt;fid-430c8eb2_16d5549ff60_-7a18&lt;/title&gt;
&lt;summary&gt;[geom:POINT (-122.3204 47.6024), id:1, name:Seattle]&lt;/summary&gt;
&lt;updated&gt;Sat Sep 21 19:26:37 UTC 2019&lt;/updated&gt;
&lt;georss:point&gt;47.6024 -122.3204&lt;/georss:point&gt;
&lt;/entry&gt;
&lt;entry&gt;
&lt;title&gt;fid-430c8eb2_16d5549ff60_-7a16&lt;/title&gt;
&lt;summary&gt;[geom:POINT (-122.48416 47.2619), id:2, name:Tacoma]&lt;/summary&gt;
&lt;updated&gt;Sat Sep 21 19:26:37 UTC 2019&lt;/updated&gt;
&lt;georss:point&gt;47.2619 -122.48416&lt;/georss:point&gt;
&lt;/entry&gt;
&lt;/feed&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Layer from a GeoRSS String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> georss = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;feed xmlns:georss=&quot;http://www.georss.org/georss&quot; xmlns=&quot;http://www.w3.org/2005/Atom&quot;&gt;
&lt;title&gt;cities&lt;/title&gt;
&lt;subtitle&gt;cities geom: Point(EPSG:4326), id: Integer, name: String&lt;/subtitle&gt;
&lt;link&gt;http://geoscript.org/feature&lt;/link&gt;
&lt;entry&gt;
&lt;title&gt;Seattle&lt;/title&gt;
&lt;summary&gt;[geom:POINT (-122.3204 47.6024), id:1, name:Seattle]&lt;/summary&gt;
&lt;updated&gt;Fri May 11 15:23:05 PDT 2018&lt;/updated&gt;
&lt;georss:point&gt;47.6024 -122.3204&lt;/georss:point&gt;
&lt;/entry&gt;
&lt;entry&gt;
&lt;title&gt;Portland&lt;/title&gt;
&lt;summary&gt;[geom:POINT (-122.681944 45.52), id:2, name:Portland]&lt;/summary&gt;
&lt;updated&gt;Fri May 11 15:23:05 PDT 2018&lt;/updated&gt;
&lt;georss:point&gt;45.52 -122.681944&lt;/georss:point&gt;
&lt;/entry&gt;
&lt;/feed&gt;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        GeoRSSReader reader = <span class="keyword">new</span> GeoRSSReader()
        Layer layer = reader.read(georss)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_georss.png" alt="layer read georss">
</div>
</div>
</div>
<div class="sect3">
<h4 id="gpx-3"><a class="anchor" href="#gpx-3"></a>GPX</h4>
<div class="listingblock">
<div class="title">Write a Layer to a GPX String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

GpxWriter writer = <span class="keyword">new</span> GpxWriter()
<span class="predefined-type">String</span> gpx = writer.write(layer)
println gpx</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;gpx xmlns="http://www.topografix.com/GPX/1/1" version="1.1" creator="geoscript"&gt;
&lt;wpt lat="47.6024" lon="-122.3204"&gt;
&lt;name&gt;fid-430c8eb2_16d5549ff60_-738c&lt;/name&gt;
&lt;/wpt&gt;
&lt;wpt lat="47.2619" lon="-122.48416"&gt;
&lt;name&gt;fid-430c8eb2_16d5549ff60_-738a&lt;/name&gt;
&lt;/wpt&gt;
&lt;/gpx&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Layer from a GPX String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> gpx = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;gpx xmlns=&quot;http://www.topografix.com/GPX/1/1&quot; version=&quot;1.1&quot; creator=&quot;geoscript&quot;&gt;
&lt;wpt lat=&quot;47.6024&quot; lon=&quot;-122.3204&quot;&gt;
&lt;name&gt;Seattle&lt;/name&gt;
&lt;/wpt&gt;
&lt;wpt lat=&quot;45.52&quot; lon=&quot;-122.681944&quot;&gt;
&lt;name&gt;Portland&lt;/name&gt;
&lt;/wpt&gt;
&lt;/gpx&gt;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>
        GpxReader reader = <span class="keyword">new</span> GpxReader()
        Layer layer = reader.read(gpx)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_gpx.png" alt="layer read gpx">
</div>
</div>
</div>
<div class="sect3">
<h4 id="mvt"><a class="anchor" href="#mvt"></a>MVT</h4>
<div class="listingblock">
<div class="title">Write a Layer to a MVT String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

MvtWriter writer = <span class="keyword">new</span> MvtWriter()
<span class="predefined-type">String</span> mvt = writer.write(layer.reproject(<span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)))
println mvt</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>iU1WVAAAAGF4nGNgYGBiYGAQBWIGxoOZPw5M6bBa6xjOnRDd8rIcKCZZrZSZomRlqKOUl5ibqmSlFJyaWFKSk6pUi9CVxbjcy9Mh0zHsygrWwt2vgGISEF1GcF0hicn5uYlKtQBZLx7y</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Layer from a MVT String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> mvt = <span class="string"><span class="delimiter">&quot;</span><span class="content">iU1WVAAAAGF4nGNgYGBiYGAQBWIGxoOZPw5M6bBa6xjOnRDd8rIcKCZZrZSZomRlqKOUl5ibqmSlFJyaWFKSk6pUi9CVxbjcy9Mh0zHsygrWwt2vgGISEF1GcF0hicn5uYlKtQBZLx7y=</span><span class="delimiter">&quot;</span></span>
MvtReader reader = <span class="keyword">new</span> MvtReader()
Layer layer = reader.read(mvt)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_mvt.png" alt="layer read mvt">
</div>
</div>
</div>
<div class="sect3">
<h4 id="pbf"><a class="anchor" href="#pbf"></a>PBF</h4>
<div class="listingblock">
<div class="title">Write a Layer to PBF bytes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Memory()
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cities</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Point</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
])
Layer layer = workspace.create(schema)
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.3204</span>, <span class="float">47.6024</span>),
        <span class="key">id</span>: <span class="integer">1</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seattle</span><span class="delimiter">&quot;</span></span>
])
layer.add([
        <span class="key">geom</span>: <span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">122.48416</span>, <span class="float">47.2619</span>),
        <span class="key">id</span>: <span class="integer">2</span>,
        <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tacoma</span><span class="delimiter">&quot;</span></span>
])

Pyramid pyramid = Pyramid.createGlobalMercatorPyramid(<span class="key">origin</span>: Pyramid.Origin.TOP_LEFT)
Tile tile = <span class="keyword">new</span> Tile(<span class="integer">4</span>,<span class="integer">2</span>,<span class="integer">5</span>)
Bounds bounds = pyramid.bounds(tile)

<span class="type">byte</span><span class="type">[]</span> bytes = Pbf.write([layer], bounds)
println bytes.encodeBase64()</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GlYKBmNpdGllcxIPEgQAAAEBGAEiBQmGJNIlEg8SBAACAQMYASIFCcojiicaAmlkGgRuYW1lIgIwAiIJCgdTZWF0dGxlIgIwBCIICgZUYWNvbWEogCB4Ag==</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Read a Layer from a PBF Base64 encoded String</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">byte</span><span class="type">[]</span> bytes = <span class="string"><span class="delimiter">&quot;</span><span class="content">GlYKBmNpdGllcxIPEgQAAAEBGAEiBQmGJNIlEg8SBAACAQMYASIFCcojiicaAmlkGgRuYW1lIgIwAiIJCgdTZWF0dGxlIgIwBCIICgZUYWNvbWEogCB4Ag</span><span class="delimiter">&quot;</span></span>.decodeBase64()

Pyramid pyramid = Pyramid.createGlobalMercatorPyramid(<span class="key">origin</span>: Pyramid.Origin.TOP_LEFT)
Tile tile = <span class="keyword">new</span> Tile(<span class="integer">4</span>,<span class="integer">2</span>,<span class="integer">5</span>)
Bounds bounds = pyramid.bounds(tile)

<span class="predefined-type">List</span>&lt;Layer&gt; layers = Pbf.read(bytes, bounds)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_read_pbf.png" alt="layer read pbf">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="graticules"><a class="anchor" href="#graticules"></a>Graticules</h3>
<div class="sect3">
<h4 id="square"><a class="anchor" href="#square"></a>Square</h4>
<div class="listingblock">
<div class="title">Create a square graticules Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> length = <span class="integer">20</span>
<span class="type">double</span> spacing = <span class="integer">5</span>
Layer layer = Graticule.createSquares(bounds, length, spacing)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_graticule_square.png" alt="layer graticule square">
</div>
</div>
<div class="listingblock">
<div class="title">Create a square graticules Shapefile Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> length = <span class="integer">30</span>
<span class="type">double</span> spacing = -<span class="integer">1</span>
Workspace workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>)
Layer layer = Graticule.createSquares(bounds, length, spacing, <span class="key">workspace</span>: workspace, <span class="key">layer</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">squares</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_graticule_square_shp.png" alt="layer graticule square shp">
</div>
</div>
</div>
<div class="sect3">
<h4 id="hexagon"><a class="anchor" href="#hexagon"></a>Hexagon</h4>
<div class="listingblock">
<div class="title">Create a flat hexagon graticules Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> length = <span class="integer">20</span>
<span class="type">double</span> spacing = <span class="integer">5</span>
<span class="predefined-type">String</span> orientation = <span class="string"><span class="delimiter">&quot;</span><span class="content">flat</span><span class="delimiter">&quot;</span></span>
Layer layer = Graticule.createHexagons(bounds, length, spacing, orientation)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_graticule_hexagon.png" alt="layer graticule hexagon">
</div>
</div>
<div class="listingblock">
<div class="title">Create a angled hexagon graticules Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> length = <span class="integer">10</span>
<span class="type">double</span> spacing = <span class="integer">5</span>
<span class="predefined-type">String</span> orientation = <span class="string"><span class="delimiter">&quot;</span><span class="content">angled</span><span class="delimiter">&quot;</span></span>
Layer layer = Graticule.createHexagons(bounds, length, spacing, orientation)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_graticule_hexagon_angled.png" alt="layer graticule hexagon angled">
</div>
</div>
<div class="listingblock">
<div class="title">Create a hexagon graticules Layer intersecting Washington States</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Layer states = <span class="keyword">new</span> Shapefile(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data/states.shp</span><span class="delimiter">&quot;</span></span>)
Feature feature = states.first(<span class="key">filter</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">STATE_NAME = 'Washington'</span><span class="delimiter">&quot;</span></span>)
Layer layer = Graticule.createHexagons(feature.bounds.expandBy(<span class="float">1.0</span>), <span class="float">0.2</span>, -<span class="float">1.0</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">flat</span><span class="delimiter">&quot;</span></span>, <span class="key">createFeature</span>: { GridElement e -&gt;
    <span class="keyword">new</span> <span class="predefined-type">Point</span>(e.center.x, e.center.y).buffer(<span class="float">0.2</span>).intersects(feature.geom)
})</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_graticule_hexagon_intersecting.png" alt="layer graticule hexagon intersecting">
</div>
</div>
<div class="listingblock">
<div class="title">Create a hexagon graticules Layer with a custom schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Layer states = <span class="keyword">new</span> Shapefile(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data/states.shp</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Schema</span> schema = <span class="keyword">new</span> <span class="predefined-type">Schema</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">hexagon</span><span class="delimiter">&quot;</span></span>, [
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Polygon</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">color</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">java.awt.Color</span><span class="delimiter">&quot;</span></span>)
])
Bounds b = states.bounds.expandBy(<span class="integer">1</span>)
Layer layer = Graticule.createHexagons(b, <span class="float">2.0</span>, -<span class="float">1.0</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">flat</span><span class="delimiter">&quot;</span></span>, <span class="key">schema</span>: schema, <span class="key">setAttributes</span>: { GridElement e, <span class="predefined-type">Map</span> attributes -&gt;
    attributes[<span class="string"><span class="delimiter">&quot;</span><span class="content">color</span><span class="delimiter">&quot;</span></span>] = <span class="predefined-type">Color</span>.randomPastel.asColor()
})
layer.style = <span class="keyword">new</span> Fill(<span class="keyword">new</span> Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">color</span><span class="delimiter">&quot;</span></span>), <span class="float">0.5</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_graticule_hexagon_customschema.png" alt="layer graticule hexagon customschema">
</div>
</div>
</div>
<div class="sect3">
<h4 id="line"><a class="anchor" href="#line"></a>Line</h4>
<div class="listingblock">
<div class="title">Create a line graticules Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
Layer layer = Graticule.createLines(bounds, [
        [<span class="key">orientation</span>: <span class="string"><span class="delimiter">'</span><span class="content">vertical</span><span class="delimiter">'</span></span>,   <span class="key">level</span>: <span class="integer">2</span>, <span class="key">spacing</span>: <span class="integer">20</span>],
        [<span class="key">orientation</span>: <span class="string"><span class="delimiter">'</span><span class="content">vertical</span><span class="delimiter">'</span></span>,   <span class="key">level</span>: <span class="integer">1</span>, <span class="key">spacing</span>: <span class="integer">10</span> ],
        [<span class="key">orientation</span>: <span class="string"><span class="delimiter">'</span><span class="content">horizontal</span><span class="delimiter">'</span></span>, <span class="key">level</span>: <span class="integer">2</span>, <span class="key">spacing</span>: <span class="integer">20</span>],
        [<span class="key">orientation</span>: <span class="string"><span class="delimiter">'</span><span class="content">horizontal</span><span class="delimiter">'</span></span>, <span class="key">level</span>: <span class="integer">1</span>, <span class="key">spacing</span>: <span class="integer">10</span> ]
], <span class="float">2.0</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_graticule_lines.png" alt="layer graticule lines">
</div>
</div>
</div>
<div class="sect3">
<h4 id="rectangle"><a class="anchor" href="#rectangle"></a>Rectangle</h4>
<div class="listingblock">
<div class="title">Create a rectangular graticules Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> width = <span class="integer">20</span>
<span class="type">double</span> height = <span class="integer">10</span>
Layer layer = Graticule.createRectangles(bounds, width, height, -<span class="integer">1</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/layer_graticule_rect.png" alt="layer graticule rect">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="format-recipes"><a class="anchor" href="#format-recipes"></a>Format Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Format classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/layer/package-summary.html">geoscript.layer</a></strong> package.</p>
</div>
<div class="paragraph">
<p>A Format is a collection of Rasters.</p>
</div>
<div class="sect2">
<h3 id="get-a-format"><a class="anchor" href="#get-a-format"></a>Get a Format</h3>
<div class="paragraph">
<p>Get a Format from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
println format.name</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>GeoTIFF</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get-names"><a class="anchor" href="#get-names"></a>Get Names</h3>
<div class="paragraph">
<p>Get names of the Rasters in a Format.  Some Formats can contain more than one Raster.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; names = format.names
names.each { <span class="predefined-type">String</span> name -&gt;
    println name
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>earth</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="read-a-raster"><a class="anchor" href="#read-a-raster"></a>Read a Raster</h3>
<div class="paragraph">
<p>Read a Raster from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/format_read.png" alt="format read">
</div>
</div>
</div>
<div class="sect2">
<h3 id="write-a-raster"><a class="anchor" href="#write-a-raster"></a>Write a Raster</h3>
<div class="paragraph">
<p>Write a Raster to a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">File</span> outFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/earth.png</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> outFormat = <span class="predefined-type">Format</span>.getFormat(outFile)
outFormat.write(raster)
<span class="predefined-type">Raster</span> outRaster = outFormat.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/format_write.png" alt="format write">
</div>
</div>
</div>
<div class="sect2">
<h3 id="check-for-a-raster"><a class="anchor" href="#check-for-a-raster"></a>Check for a Raster</h3>
<div class="paragraph">
<p>Check to see if the Format has a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)

<span class="type">boolean</span> hasEarth = format.has(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Has raster named earth? </span><span class="inline"><span class="inline-delimiter">${</span>hasEarth<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="type">boolean</span> hasWorld = format.has(<span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Has raster named world? </span><span class="inline"><span class="inline-delimiter">${</span>hasWorld<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Has raster named earth? true
Has raster named world? false</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="geotiff-2"><a class="anchor" href="#geotiff-2"></a>GeoTIFF</h3>
<div class="sect3">
<h4 id="read-3"><a class="anchor" href="#read-3"></a>Read</h4>
<div class="paragraph">
<p>Read a GeoTIFF Raster from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
GeoTIFF geotiff = <span class="keyword">new</span> GeoTIFF(file)
<span class="predefined-type">Raster</span> raster = geotiff.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/format_geotiff_read.png" alt="format geotiff read">
</div>
</div>
</div>
<div class="sect3">
<h4 id="write"><a class="anchor" href="#write"></a>Write</h4>
<div class="paragraph">
<p>Write a GeoTIFF Raster to an ArcGrid Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
GeoTIFF geotiff = <span class="keyword">new</span> GeoTIFF(file)
<span class="predefined-type">Raster</span> raster = geotiff.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">File</span> arcGridFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/earth.asc</span><span class="delimiter">&quot;</span></span>)
ArcGrid arcGrid = <span class="keyword">new</span> ArcGrid(arcGridFile)
arcGrid.write(raster)
<span class="predefined-type">Raster</span> arcGridRaster = arcGrid.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/format_write_geotiff_to_arcgrid.png" alt="format write geotiff to arcgrid">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="worldimage"><a class="anchor" href="#worldimage"></a>WorldImage</h3>
<div class="sect3">
<h4 id="read-4"><a class="anchor" href="#read-4"></a>Read</h4>
<div class="paragraph">
<p>Read a WorldImage Raster from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.png</span><span class="delimiter">&quot;</span></span>)
WorldImage worldImage = <span class="keyword">new</span> WorldImage(file)
<span class="predefined-type">Raster</span> raster = worldImage.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/format_worldimage_read.png" alt="format worldimage read">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arcgrid"><a class="anchor" href="#arcgrid"></a>ArcGrid</h3>
<div class="sect3">
<h4 id="read-5"><a class="anchor" href="#read-5"></a>Read</h4>
<div class="paragraph">
<p>Read an ArcGrid Raster from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/raster.asc</span><span class="delimiter">&quot;</span></span>)
ArcGrid arcGrid = <span class="keyword">new</span> ArcGrid(file)
<span class="predefined-type">Raster</span> raster = arcGrid.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">raster</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Read a Grass ArcGrid Raster from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/grass.arx</span><span class="delimiter">&quot;</span></span>)
ArcGrid arcGrid = <span class="keyword">new</span> ArcGrid(file)
<span class="predefined-type">Raster</span> raster = arcGrid.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">grass</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="netcdf"><a class="anchor" href="#netcdf"></a>NetCDF</h3>
<div class="sect3">
<h4 id="read-6"><a class="anchor" href="#read-6"></a>Read</h4>
<div class="paragraph">
<p>Read a NetCDF Raster from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/O3-NO2.nc</span><span class="delimiter">&quot;</span></span>)
NetCDF netCDF = <span class="keyword">new</span> NetCDF(file)
<span class="predefined-type">Raster</span> raster = netCDF.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">NO2</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mrsid"><a class="anchor" href="#mrsid"></a>MrSID</h3>
<div class="sect3">
<h4 id="read-7"><a class="anchor" href="#read-7"></a>Read</h4>
<div class="paragraph">
<p>Read a MrSID Raster from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/ortho.sid</span><span class="delimiter">&quot;</span></span>)
MrSID mrsid = <span class="keyword">new</span> MrSID(file)
<span class="predefined-type">Raster</span> raster = mrsid.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">ortho</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gtopo30"><a class="anchor" href="#gtopo30"></a>GTopo30</h3>
<div class="sect3">
<h4 id="read-8"><a class="anchor" href="#read-8"></a>Read</h4>
<div class="paragraph">
<p>Read a GTopo30 Raster from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/topo.dem</span><span class="delimiter">&quot;</span></span>)
GTopo30 gtopo30 = <span class="keyword">new</span> GTopo30(file)
<span class="predefined-type">Raster</span> raster = gtopo30.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">topo</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="raster-recipes"><a class="anchor" href="#raster-recipes"></a>Raster Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Raster classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/layer/package-summary.html">geoscript.layer</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="raster-properties"><a class="anchor" href="#raster-properties"></a>Raster Properties</h3>
<div class="paragraph">
<p>Read a Raster from a File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_properties.png" alt="raster properties">
</div>
</div>
<div class="paragraph">
<p>Get the Raster&#8217;s Bounds.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = raster.bounds
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Bounds: (-179.99999999999997,-89.99999999998205,179.99999999996405,90.0,EPSG:4326)</pre>
</div>
</div>
<div class="paragraph">
<p>Get the Raster&#8217;s Projection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection projection = raster.proj
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Projection: </span><span class="inline"><span class="inline-delimiter">${</span>projection<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Projection: EPSG:4326</pre>
</div>
</div>
<div class="paragraph">
<p>Get the Raster&#8217;s Size.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> size = raster.size
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Size: </span><span class="inline"><span class="inline-delimiter">${</span>size[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content">x</span><span class="inline"><span class="inline-delimiter">${</span>size[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Size: 800x400</pre>
</div>
</div>
<div class="paragraph">
<p>Get the Raster&#8217;s number of columns and rows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">int</span> cols = raster.cols
<span class="type">int</span> rows = raster.rows
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Columns: </span><span class="inline"><span class="inline-delimiter">${</span>cols<span class="inline-delimiter">}</span></span><span class="content"> Rows: </span><span class="inline"><span class="inline-delimiter">${</span>rows<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Columns: 800 Rows: 400</pre>
</div>
</div>
<div class="paragraph">
<p>Get the Raster&#8217;s Bands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;Band&gt; bands = raster.bands
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bands:</span><span class="delimiter">&quot;</span></span>
bands.each { Band band -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  </span><span class="inline"><span class="inline-delimiter">${</span>band<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Band:
  RED_BAND
  GREEN_BAND
  BLUE_BAND</pre>
</div>
</div>
<div class="paragraph">
<p>Get the Raster&#8217;s block size.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> blockSize = raster.blockSize
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Block size: </span><span class="inline"><span class="inline-delimiter">${</span>blockSize[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content">x</span><span class="inline"><span class="inline-delimiter">${</span>blockSize[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Block size: 800x8</pre>
</div>
</div>
<div class="paragraph">
<p>Get the Raster&#8217;s pixel size.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> pixelSize = raster.pixelSize
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Pixel size: </span><span class="inline"><span class="inline-delimiter">${</span>pixelSize[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content">x</span><span class="inline"><span class="inline-delimiter">${</span>pixelSize[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Pixel size: 0.44999999999995505x0.4499999999999551</pre>
</div>
</div>
<div class="paragraph">
<p>Get more information about a Raster&#8217;s Bounds.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">List</span>&lt;Band&gt; bands = raster.bands
bands.each { Band band -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>band<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  Min = </span><span class="inline"><span class="inline-delimiter">${</span>band.min<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  Max = </span><span class="inline"><span class="inline-delimiter">${</span>band.max<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  No Data = </span><span class="inline"><span class="inline-delimiter">${</span>band.noData<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  Is No Data = </span><span class="inline"><span class="inline-delimiter">${</span>band.isNoData(<span class="float">12.45</span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  Unit = </span><span class="inline"><span class="inline-delimiter">${</span>band.unit<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  Scale = </span><span class="inline"><span class="inline-delimiter">${</span>band.scale<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  Offset = </span><span class="inline"><span class="inline-delimiter">${</span>band.offset<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">  Type = </span><span class="inline"><span class="inline-delimiter">${</span>band.type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>RED_BAND
  Min = 0.0
  Max = 255.0
  No Data = [0.0]
  Is No Data = false
  Unit = null
  Scale = 1.0
  Offset = 0.0
  Type = byte

GREEN_BAND
  Min = 0.0
  Max = 255.0
  No Data = [0.0]
  Is No Data = false
  Unit = null
  Scale = 1.0
  Offset = 0.0
  Type = byte

BLUE_BAND
  Min = 0.0
  Max = 255.0
  No Data = [0.0]
  Is No Data = false
  Unit = null
  Scale = 1.0
  Offset = 0.0
  Type = byte</pre>
</div>
</div>
<div class="paragraph">
<p>Get the minimum and maximum values from a Raster for a band</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> minValue = raster.getMinValue(<span class="integer">0</span>)
<span class="type">double</span> maxValue = raster.getMaxValue(<span class="integer">0</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Min values: </span><span class="inline"><span class="inline-delimiter">${</span>minValue<span class="inline-delimiter">}</span></span><span class="content"> Max values: </span><span class="inline"><span class="inline-delimiter">${</span>maxValue<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Min values: 56.0 Max values: 255.0</pre>
</div>
</div>
<div class="paragraph">
<p>Get the minimum and maximum values from a Raster for each band</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> extrema = raster.extrema
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Min values: </span><span class="inline"><span class="inline-delimiter">${</span>extrema.min<span class="inline-delimiter">}</span></span><span class="content"> Max values: </span><span class="inline"><span class="inline-delimiter">${</span>extrema.max<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Min value: [56.0, 84.0, 91.0] Max value: [255.0, 255.0, 255.0]</pre>
</div>
</div>
<div class="paragraph">
<p>Get a Point at the given pixel location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Point</span> point = raster.getPoint(<span class="integer">7</span>,<span class="integer">9</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Geographic location at pixel 7,9 is </span><span class="inline"><span class="inline-delimiter">${</span>point<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Geographic location at pixel 7,9 is POINT (-176.625 85.7249984741211)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a Pixel location at the given Point.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> pixel = raster.getPixel(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">176.625</span>, <span class="float">85.72499</span>))
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Pixel coordinates at POINT (-176.625 85.7249984741211) is </span><span class="inline"><span class="inline-delimiter">${</span>pixel[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content">, </span><span class="inline"><span class="inline-delimiter">${</span>pixel[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Pixel coordinates at POINT (-176.625 85.7249984741211) is 7.0, 9.0</pre>
</div>
</div>
<div class="paragraph">
<p>Determine whether the Raster covers the given Point.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">boolean</span> containsPoint = raster.contains(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="integer">180</span>, -<span class="integer">90</span>))
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does raster cover point? </span><span class="inline"><span class="inline-delimiter">${</span>containsPoint<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Does raster cover point? true</pre>
</div>
</div>
<div class="paragraph">
<p>Determine whether the Raster covers the given Pixel.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">boolean</span> containsPixel = raster.contains(<span class="integer">500</span>,<span class="integer">600</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Does raster cover pixel? </span><span class="inline"><span class="inline-delimiter">${</span>containsPixel<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Does raster cover pixel? false</pre>
</div>
</div>
<div class="paragraph">
<p>Get a RenderedImage from the Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">RenderedImage</span> image = raster.image</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_properies_image.png" alt="raster properies image">
</div>
</div>
<div class="paragraph">
<p>Dispose of the Raster when you are done</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">raster.dispose()</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="raster-bands"><a class="anchor" href="#raster-bands"></a>Raster Bands</h3>
<div class="paragraph">
<p>Create a Band</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Band band = <span class="keyword">new</span> Band(
    <span class="string"><span class="delimiter">&quot;</span><span class="content">red</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="integer">0</span>,     <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="integer">255</span>    <i class="conum" data-value="3"></i><b>(3)</b>
)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Band = </span><span class="inline"><span class="inline-delimiter">${</span>band.toString()<span class="inline-delimiter">}</span></span><span class="content"> Min = </span><span class="inline"><span class="inline-delimiter">${</span>band.min<span class="inline-delimiter">}</span></span><span class="content"> Max = </span><span class="inline"><span class="inline-delimiter">${</span>band.max<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Description</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Minimum value</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Maximum value</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>Band = red Min = 0.0 Max = 255.0</pre>
</div>
</div>
<div class="paragraph">
<p>Create a Band with a no data value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Band band = <span class="keyword">new</span> Band(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">red</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="integer">0</span>,     <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="integer">255</span>,   <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="integer">255</span>    <i class="conum" data-value="4"></i><b>(4)</b>
)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Band = </span><span class="inline"><span class="inline-delimiter">${</span>band.toString()<span class="inline-delimiter">}</span></span><span class="content"> Min = </span><span class="inline"><span class="inline-delimiter">${</span>band.min<span class="inline-delimiter">}</span></span><span class="content"> Max = </span><span class="inline"><span class="inline-delimiter">${</span>band.max<span class="inline-delimiter">}</span></span><span class="content"> No Data = </span><span class="inline"><span class="inline-delimiter">${</span>band.noData[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Description</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Minimum value</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Maximum value</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>No data value</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>Band = red Min = 0.0 Max = 255.0 No Data = 255.0</pre>
</div>
</div>
<div class="paragraph">
<p>Create a new Raster from Bands and set values to a random color.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> raster = <span class="keyword">new</span> <span class="predefined-type">Raster</span>(
        <span class="keyword">new</span> Bounds(-<span class="integer">180</span>,-<span class="integer">90</span>,<span class="integer">180</span>,<span class="integer">90</span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>),
        <span class="integer">400</span>,<span class="integer">300</span>,
        [
                <span class="keyword">new</span> Band(<span class="string"><span class="delimiter">&quot;</span><span class="content">red</span><span class="delimiter">&quot;</span></span>, <span class="integer">0</span>, <span class="integer">255</span>, <span class="integer">256</span>),
                <span class="keyword">new</span> Band(<span class="string"><span class="delimiter">&quot;</span><span class="content">green</span><span class="delimiter">&quot;</span></span>, <span class="integer">0</span>, <span class="integer">255</span>, <span class="integer">256</span>),
                <span class="keyword">new</span> Band(<span class="string"><span class="delimiter">&quot;</span><span class="content">blue</span><span class="delimiter">&quot;</span></span>, <span class="integer">0</span>, <span class="integer">255</span>, <span class="integer">256</span>)
        ]
)

<span class="comment">// Set values of each pixel</span>
raster.eachCell { <span class="type">double</span> value, <span class="type">double</span> x, <span class="type">double</span> y -&gt;
    <span class="predefined-type">Color</span> color = <span class="predefined-type">Color</span>.randomPastel
    raster.setValue([x,y], color.rgb[<span class="integer">0</span>], <span class="integer">0</span>)
    raster.setValue([x,y], color.rgb[<span class="integer">1</span>], <span class="integer">1</span>)
    raster.setValue([x,y], color.rgb[<span class="integer">2</span>], <span class="integer">2</span>)
}</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_create_from_bands.png" alt="raster create from bands">
</div>
</div>
</div>
<div class="sect2">
<h3 id="raster-values"><a class="anchor" href="#raster-values"></a>Raster Values</h3>
<div class="paragraph">
<p>Get values from a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_values.png" alt="raster values">
</div>
</div>
<div class="paragraph">
<p>Get values from a Raster with a Point.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">double</span> elevation = raster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>3069.0</pre>
</div>
</div>
<div class="paragraph">
<p>Get values from a Raster with a Pixel Location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> pixel = [<span class="integer">100</span>,<span class="integer">200</span>]
elevation = raster.getValue(pixel)
println elevation</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>288.0</pre>
</div>
</div>
<div class="paragraph">
<p>Get neighboring values from a Raster with a Point Location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> neighborsOfPoint = raster.getNeighbors(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">176.625</span>, <span class="float">85.72499</span>), <span class="integer">0</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Values neighboring POINT (-176.625 85.7249984741211) = </span><span class="inline"><span class="inline-delimiter">${</span>neighborsOfPoint<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Values neighboring POINT (-176.625 85.7249984741211) = [nw:103.0, n:104.0, ne:109.0, e:109.0, se:111.0, s:110.0, sw:110.0, w:108.0]</pre>
</div>
</div>
<div class="paragraph">
<p>Get neighboring values from a Raster with a Pixel Location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Map</span> neighborsOfPixel = raster.getNeighbors([<span class="integer">7</span>,<span class="integer">9</span>], <span class="integer">0</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Values neighboring pixel 7,9 = </span><span class="inline"><span class="inline-delimiter">${</span>neighborsOfPixel<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Values neighboring pixel 7,9 = [nw:103.0, n:104.0, ne:109.0, e:109.0, se:111.0, s:110.0, sw:110.0, w:108.0]</pre>
</div>
</div>
<div class="paragraph">
<p>Get values from a Raster for a range of pixels in a list of lists.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">int</span> x = <span class="integer">10</span>
<span class="type">int</span> y = <span class="integer">8</span>
<span class="type">int</span> w = <span class="integer">5</span>
<span class="type">int</span> h = <span class="integer">6</span>
<span class="type">int</span> band = <span class="integer">0</span>
<span class="predefined-type">List</span> values = raster.getValues(x, y, w, h, band, <span class="predefined-constant">false</span>)
println values</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[[1032, 1186, 1340, 1435, 1301], [1143, 1143, 1193, 1224, 1313], [942, 938, 966, 982, 1129], [746, 835, 912, 949, 1028], [723, 948, 1130, 1244, 1211], [673, 890, 1100, 1133, 1024]]</pre>
</div>
</div>
<div class="paragraph">
<p>Get values from a Raster for a range of pixels in a flat list.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span> flatValues = raster.getValues(x, y, w, h, band, <span class="predefined-constant">true</span>)
println flatValues</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[1032, 1186, 1340, 1435, 1301, 1143, 1143, 1193, 1224, 1313, 942, 938, 966, 982, 1129, 746, 835, 912, 949, 1028, 723, 948, 1130, 1244, 1211, 673, 890, 1100, 1133, 1024]</pre>
</div>
</div>
<div class="paragraph">
<p>Get values from a Raster for a range of pixels as a pretty printed string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> valuesAsString = raster.getValuesAsString(x, y, w, h, band, <span class="key">prettyPrint</span>: <span class="predefined-constant">true</span>)
println valuesAsString</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>---------------------------------------------------
| 1032.00 | 1186.00 | 1340.00 | 1435.00 | 1301.00 |
---------------------------------------------------
| 1143.00 | 1143.00 | 1193.00 | 1224.00 | 1313.00 |
---------------------------------------------------
|  942.00 |  938.00 |  966.00 |  982.00 | 1129.00 |
---------------------------------------------------
|  746.00 |  835.00 |  912.00 |  949.00 | 1028.00 |
---------------------------------------------------
|  723.00 |  948.00 | 1130.00 | 1244.00 | 1211.00 |
---------------------------------------------------
|  673.00 |  890.00 | 1100.00 | 1133.00 | 1024.00 |
---------------------------------------------------</pre>
</div>
</div>
<div class="paragraph">
<p>Iterate over the cells in a Raster.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">raster.eachCell(<span class="key">bounds</span>: [<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">5</span>,<span class="integer">5</span>]) { <span class="type">double</span> value, <span class="type">double</span> pixelX, <span class="type">double</span> pixelY -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>pixelX<span class="inline-delimiter">}</span></span><span class="content">,</span><span class="inline"><span class="inline-delimiter">${</span>pixelY<span class="inline-delimiter">}</span></span><span class="content"> = </span><span class="inline"><span class="inline-delimiter">${</span>value<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0.0,0.0 = 1061.0
1.0,0.0 = 996.0
2.0,0.0 = 945.0
3.0,0.0 = 960.0
4.0,0.0 = 904.0
0.0,1.0 = 1167.0
1.0,1.0 = 1149.0
2.0,1.0 = 1085.0
3.0,1.0 = 966.0
4.0,1.0 = 862.0
0.0,2.0 = 1112.0
1.0,2.0 = 998.0
2.0,2.0 = 882.0
3.0,2.0 = 775.0
4.0,2.0 = 700.0
0.0,3.0 = 990.0
1.0,3.0 = 850.0
2.0,3.0 = 715.0
3.0,3.0 = 638.0
4.0,3.0 = 654.0
0.0,4.0 = 833.0
1.0,4.0 = 706.0
2.0,4.0 = 611.0
3.0,4.0 = 681.0
4.0,4.0 = 841.0</pre>
</div>
</div>
<div class="paragraph">
<p>Iterate over a window of cells in a Raster.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">raster.eachWindow (<span class="key">bounds</span>: [<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">8</span>,<span class="integer">8</span>], <span class="key">window</span>: [<span class="integer">2</span>,<span class="integer">2</span>]) { <span class="predefined-type">Number</span><span class="type">[]</span><span class="type">[]</span> windowsValues, <span class="type">double</span> pixelX, <span class="type">double</span> pixelY -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>pixelX<span class="inline-delimiter">}</span></span><span class="content">,</span><span class="inline"><span class="inline-delimiter">${</span>pixelY<span class="inline-delimiter">}</span></span><span class="content"> = </span><span class="inline"><span class="inline-delimiter">${</span>windowsValues<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0.0,0.0 = [[1061, 996], [1167, 1149]]
1.0,0.0 = [[996, 945], [1149, 1085]]
2.0,0.0 = [[945, 960], [1085, 966]]
3.0,0.0 = [[960, 904], [966, 862]]
4.0,0.0 = [[904, 727], [862, 696]]
5.0,0.0 = [[727, 744], [696, 748]]
6.0,0.0 = [[744, 934], [748, 900]]
7.0,0.0 = [[934, 1099], [900, 1042]]
0.0,1.0 = [[1167, 1149], [1112, 998]]
1.0,1.0 = [[1149, 1085], [998, 882]]
2.0,1.0 = [[1085, 966], [882, 775]]
3.0,1.0 = [[966, 862], [775, 700]]
4.0,1.0 = [[862, 696], [700, 661]]
5.0,1.0 = [[696, 748], [661, 818]]
6.0,1.0 = [[748, 900], [818, 995]]
7.0,1.0 = [[900, 1042], [995, 1125]]
0.0,2.0 = [[1112, 998], [990, 850]]
1.0,2.0 = [[998, 882], [850, 715]]
2.0,2.0 = [[882, 775], [715, 638]]
3.0,2.0 = [[775, 700], [638, 654]]
4.0,2.0 = [[700, 661], [654, 826]]
5.0,2.0 = [[661, 818], [826, 945]]
6.0,2.0 = [[818, 995], [945, 922]]
7.0,2.0 = [[995, 1125], [922, 1078]]
0.0,3.0 = [[990, 850], [833, 706]]
1.0,3.0 = [[850, 715], [706, 611]]
2.0,3.0 = [[715, 638], [611, 681]]
3.0,3.0 = [[638, 654], [681, 841]]
4.0,3.0 = [[654, 826], [841, 949]]
5.0,3.0 = [[826, 945], [949, 1084]]
6.0,3.0 = [[945, 922], [1084, 1054]]
7.0,3.0 = [[922, 1078], [1054, 1093]]
0.0,4.0 = [[833, 706], [652, 618]]
1.0,4.0 = [[706, 611], [618, 548]]
2.0,4.0 = [[611, 681], [548, 631]]
3.0,4.0 = [[681, 841], [631, 694]]
4.0,4.0 = [[841, 949], [694, 877]]
5.0,4.0 = [[949, 1084], [877, 1018]]
6.0,4.0 = [[1084, 1054], [1018, 1142]]
7.0,4.0 = [[1054, 1093], [1142, 1172]]
0.0,5.0 = [[652, 618], [631, 579]]
1.0,5.0 = [[618, 548], [579, 506]]
2.0,5.0 = [[548, 631], [506, 483]]
3.0,5.0 = [[631, 694], [483, 556]]
4.0,5.0 = [[694, 877], [556, 686]]
5.0,5.0 = [[877, 1018], [686, 825]]
6.0,5.0 = [[1018, 1142], [825, 1004]]
7.0,5.0 = [[1142, 1172], [1004, 1053]]
0.0,6.0 = [[631, 579], [772, 766]]
1.0,6.0 = [[579, 506], [766, 627]]
2.0,6.0 = [[506, 483], [627, 529]]
3.0,6.0 = [[483, 556], [529, 473]]
4.0,6.0 = [[556, 686], [473, 556]]
5.0,6.0 = [[686, 825], [556, 669]]
6.0,6.0 = [[825, 1004], [669, 810]]
7.0,6.0 = [[1004, 1053], [810, 917]]
0.0,7.0 = [[772, 766], [900, 880]]
1.0,7.0 = [[766, 627], [880, 778]]
2.0,7.0 = [[627, 529], [778, 671]]
3.0,7.0 = [[529, 473], [671, 540]]
4.0,7.0 = [[473, 556], [540, 483]]
5.0,7.0 = [[556, 669], [483, 536]]
6.0,7.0 = [[669, 810], [536, 641]]</pre>
</div>
</div>
<div class="paragraph">
<p>Set values on a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
GeoTIFF geotiff = <span class="keyword">new</span> GeoTIFF(file)
<span class="predefined-type">Raster</span> raster = geotiff.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">File</span> arcGridFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/earth.asc</span><span class="delimiter">&quot;</span></span>)
ArcGrid arcGrid = <span class="keyword">new</span> ArcGrid(arcGridFile)
arcGrid.write(raster)
<span class="predefined-type">Raster</span> arcGridRaster = arcGrid.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)

arcGridRaster.eachCell {<span class="type">double</span> value, <span class="type">double</span> x, <span class="type">double</span> y -&gt;
    <span class="type">double</span> newValue = value + <span class="integer">100</span>
    arcGridRaster.setValue([x <span class="keyword">as</span> <span class="type">int</span>, y <span class="keyword">as</span> <span class="type">int</span>], newValue)
}

<span class="predefined-type">File</span> arcGridAddFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/earth_100.asc</span><span class="delimiter">&quot;</span></span>)
ArcGrid arcGridAdd = <span class="keyword">new</span> ArcGrid(arcGridAddFile)
arcGridAdd.write(arcGridRaster)
<span class="predefined-type">Raster</span> arcGridRasterAdd = arcGridAdd.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth_100</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">List</span> pixels = [
    [<span class="integer">92</span>, <span class="integer">298</span>],
    [<span class="float">393.0</span>, <span class="float">343.0</span>],
    [<span class="float">795.0</span>, <span class="float">399.0</span>]
]
pixels.each { <span class="predefined-type">List</span> pixel -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original: </span><span class="inline"><span class="inline-delimiter">${</span>raster.getValue(pixel)<span class="inline-delimiter">}</span></span><span class="content"> New: </span><span class="inline"><span class="inline-delimiter">${</span>arcGridRasterAdd.getValue(pixel)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Original: 97.0 New: 197.0
Original: 96.0 New: 196.0
Original: 237.0 New: 337.0</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_math_orig.png" alt="raster math orig">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_math_100.png" alt="raster math 100">
</div>
</div>
</div>
<div class="sect2">
<h3 id="raster-processing"><a class="anchor" href="#raster-processing"></a>Raster Processing</h3>
<div class="sect3">
<h4 id="crop"><a class="anchor" href="#crop"></a>Crop</h4>
<div class="paragraph">
<p>Crop a Raster with a Bounds</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> croppedRaster = raster.crop(<span class="keyword">new</span> Bounds(-<span class="float">160.927734</span>,<span class="float">6.751896</span>,-<span class="float">34.716797</span>,<span class="float">57.279043</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_crop.png" alt="raster crop">
</div>
</div>
</div>
<div class="sect3">
<h4 id="project"><a class="anchor" href="#project"></a>Project</h4>
<div class="paragraph">
<p>Reproject a Raster to another Projection</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)
Projection projection = <span class="keyword">new</span> Projection(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> projectedRaster = raster.crop(projection.geoBounds).reproject(projection)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_reproject.png" alt="raster reproject">
</div>
</div>
</div>
<div class="sect3">
<h4 id="transform-2"><a class="anchor" href="#transform-2"></a>Transform</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Scale a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> scaledRaster = raster.transform(<span class="key">scalex</span>: <span class="integer">10</span>, <span class="key">scaley</span>: <span class="integer">10</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_transform_scale.png" alt="raster transform scale">
</div>
</div>
<div class="paragraph">
<p>Shear a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> shearedRaster = raster.transform(<span class="key">shearx</span>: <span class="integer">10</span>, <span class="key">sheary</span>: <span class="integer">10</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_transform_shear.png" alt="raster transform shear">
</div>
</div>
<div class="paragraph">
<p>Translate a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> translatedRaster = raster.transform(<span class="key">translatex</span>: <span class="float">10.1</span>, <span class="key">translatey</span>: <span class="float">12.6</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_transform_translate.png" alt="raster transform translate">
</div>
</div>
<div class="paragraph">
<p>Transform a Raster with a combination of parameters</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> transformedRaster = raster.transform(
    <span class="key">scalex</span>: <span class="float">1.1</span>, <span class="key">scaley</span>: <span class="float">2.1</span>,
    <span class="key">shearx</span>: <span class="float">0.4</span>, <span class="key">sheary</span>: <span class="float">0.3</span>,
    <span class="key">translatex</span>: <span class="float">10.1</span>, <span class="key">translatey</span>: <span class="float">12.6</span>,
    <span class="key">nodata</span>: [-<span class="integer">255</span>],
    <span class="key">interpolation</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">NEAREST</span><span class="delimiter">&quot;</span></span>
)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_transform_transformed.png" alt="raster transform transformed">
</div>
</div>
</div>
<div class="sect3">
<h4 id="select-bands"><a class="anchor" href="#select-bands"></a>Select Bands</h4>
<div class="paragraph">
<p>Extract a band from a Raster to create a new Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">Raster</span> band1 = raster.selectBands([<span class="integer">0</span>])
<span class="predefined-type">Raster</span> band2 = raster.selectBands([<span class="integer">1</span>])
<span class="predefined-type">Raster</span> band3 = raster.selectBands([<span class="integer">2</span>])</code></pre>
</div>
</div>
<div class="paragraph">
<p>Band 1</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_selectband_r.png" alt="raster selectband r">
</div>
</div>
<div class="paragraph">
<p>Band 2</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_selectband_g.png" alt="raster selectband g">
</div>
</div>
<div class="paragraph">
<p>Band 3</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_selectband_b.png" alt="raster selectband b">
</div>
</div>
</div>
<div class="sect3">
<h4 id="merge-2"><a class="anchor" href="#merge-2"></a>Merge</h4>
<div class="paragraph">
<p>Merge a List of Rasters representing different bands together to create a single Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">Raster</span> band1 = raster.selectBands([<span class="integer">0</span>])
<span class="predefined-type">Raster</span> band2 = raster.selectBands([<span class="integer">1</span>])
<span class="predefined-type">Raster</span> band3 = raster.selectBands([<span class="integer">2</span>])

<span class="predefined-type">Raster</span> mergedRaster = <span class="predefined-type">Raster</span>.merge([band1,band2,band3], <span class="key">transform</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">FIRST</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_merged.png" alt="raster merged">
</div>
</div>
</div>
<div class="sect3">
<h4 id="mosaic"><a class="anchor" href="#mosaic"></a>Mosaic</h4>
<div class="paragraph">
<p>Mosaic a List of Rasters together to create a single Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)

Bounds bounds = raster.bounds
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Raster</span>&gt; rasters = bounds.tile(<span class="float">0.5</span>).collect { Bounds b -&gt;
    raster.crop(b)
}

<span class="predefined-type">Raster</span> mosaicedRaster = <span class="predefined-type">Raster</span>.mosaic(rasters)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_mosaic_1.png" alt="raster mosaic 1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_mosaic_2.png" alt="raster mosaic 2">
</div>
</div>
</div>
<div class="sect3">
<h4 id="contours"><a class="anchor" href="#contours"></a>Contours</h4>
<div class="paragraph">
<p>Create vector contours from a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> band = <span class="integer">0</span>
<span class="type">int</span> interval = <span class="integer">300</span>
<span class="type">boolean</span> simplify = <span class="predefined-constant">true</span>
<span class="type">boolean</span> smooth = <span class="predefined-constant">true</span>
Layer contours = raster.contours(band, interval, simplify, smooth)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_contours.png" alt="raster contours">
</div>
</div>
</div>
<div class="sect3">
<h4 id="stylize"><a class="anchor" href="#stylize"></a>Stylize</h4>
<div class="paragraph">
<p>Stylize a Raster by baking in a style to create a new Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> stylizedRaster = raster.stylize(<span class="keyword">new</span> ColorMap([
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#9fd182</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">25</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#3e7f3c</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">470</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#133912</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">920</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#08306b</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">1370</span>],
        [<span class="key">color</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#fffff5</span><span class="delimiter">&quot;</span></span>, <span class="key">quantity</span>:<span class="integer">1820</span>],
]))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_stylize.png" alt="raster stylize">
</div>
</div>
</div>
<div class="sect3">
<h4 id="shaded-relief"><a class="anchor" href="#shaded-relief"></a>Shaded Relief</h4>
<div class="paragraph">
<p>Create a shaded relief Raster from another Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> shadedReliefRaster = raster.createShadedRelief(
    <span class="float">1.0</span>, <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="integer">25</span>,  <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="integer">260</span>  <i class="conum" data-value="3"></i><b>(3)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>scale</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>altitude</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>azimuth</td>
</tr>
</table>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_shadedrelief.png" alt="raster shadedrelief">
</div>
</div>
</div>
<div class="sect3">
<h4 id="reclassify"><a class="anchor" href="#reclassify"></a>Reclassify</h4>
<div class="paragraph">
<p>Reclassify a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> reclassifiedRaster = raster.reclassify([
        [<span class="key">min</span>:<span class="integer">0</span>,    <span class="key">max</span>:<span class="integer">0</span>,    <span class="key">value</span>: <span class="integer">1</span>],
        [<span class="key">min</span>:<span class="integer">0</span>,    <span class="key">max</span>:<span class="integer">50</span>,   <span class="key">value</span>: <span class="integer">2</span>],
        [<span class="key">min</span>:<span class="integer">50</span>,   <span class="key">max</span>:<span class="integer">200</span>,  <span class="key">value</span>: <span class="integer">3</span>],
        [<span class="key">min</span>:<span class="integer">200</span>,  <span class="key">max</span>:<span class="integer">1000</span>, <span class="key">value</span>: <span class="integer">4</span>],
        [<span class="key">min</span>:<span class="integer">1000</span>, <span class="key">max</span>:<span class="integer">1500</span>, <span class="key">value</span>: <span class="integer">5</span>],
        [<span class="key">min</span>:<span class="integer">1500</span>, <span class="key">max</span>:<span class="integer">4000</span>, <span class="key">value</span>: <span class="integer">6</span>]
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_reclassify.png" alt="raster reclassify">
</div>
</div>
</div>
<div class="sect3">
<h4 id="scale"><a class="anchor" href="#scale"></a>Scale</h4>
<div class="paragraph">
<p>Scale a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original Raster Size = </span><span class="inline"><span class="inline-delimiter">${</span>raster.size[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content">x</span><span class="inline"><span class="inline-delimiter">${</span>raster.size[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="predefined-type">Raster</span> scaledRaster = raster.scale(<span class="float">0.5</span>, <span class="float">0.5</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Scaled Raster Size = </span><span class="inline"><span class="inline-delimiter">${</span>scaledRaster.size[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content">x</span><span class="inline"><span class="inline-delimiter">${</span>scaledRaster.size[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Original Raster Size = 800x400
Scaled Raster Size = 400x200</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_scaled.png" alt="raster scaled">
</div>
</div>
</div>
<div class="sect3">
<h4 id="resample"><a class="anchor" href="#resample"></a>Resample</h4>
<div class="paragraph">
<p>Resample a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original Raster Bounds = </span><span class="inline"><span class="inline-delimiter">${</span>raster.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original Raster Size = </span><span class="inline"><span class="inline-delimiter">${</span>raster.size[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content">x</span><span class="inline"><span class="inline-delimiter">${</span>raster.size[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="predefined-type">Raster</span> resampledRaster = raster.resample(<span class="key">size</span>: [<span class="integer">400</span>, <span class="integer">400</span>], <span class="key">bbox</span>: raster.bounds.scale(-<span class="integer">2</span>))
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Resampled Raster Bounds = </span><span class="inline"><span class="inline-delimiter">${</span>resampledRaster.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Resampled Raster Size = </span><span class="inline"><span class="inline-delimiter">${</span>resampledRaster.size[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content">x</span><span class="inline"><span class="inline-delimiter">${</span>resampledRaster.size[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Original Raster Bounds = (-123.55291606131708,46.25375026634816,-120.73958272798374,47.522916933014834,EPSG:4326)
Original Raster Size = 800x400
Resampled Raster Bounds = (-124.95958272798374,45.619166933014824,-119.33291606131708,48.157500266348165,EPSG:4326)
Resampled Raster Size = 400x400</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_resample.png" alt="raster resample">
</div>
</div>
</div>
<div class="sect3">
<h4 id="normalize"><a class="anchor" href="#normalize"></a>Normalize</h4>
<div class="paragraph">
<p>Normalize a Raster by diving all values by the maximum value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original Raster Min Max values = </span><span class="inline"><span class="inline-delimiter">${</span>raster.extrema.min[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">${</span>raster.extrema.max[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="predefined-type">Raster</span> normalizedRaster = raster.normalize()
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Normalized Raster Min Max values = </span><span class="inline"><span class="inline-delimiter">${</span>normalizedRaster.extrema.min[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">${</span>normalizedRaster.extrema.max[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Original Raster Min Max values = -23.0 - 4370.0
Normalized Raster Min Max values = -0.005263158120214939 - 1.0</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_normalize.png" alt="raster normalize">
</div>
</div>
</div>
<div class="sect3">
<h4 id="convolve"><a class="anchor" href="#convolve"></a>Convolve</h4>
<div class="paragraph">
<p>Convolve a Raster with a radius.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original Raster Min Max values = </span><span class="inline"><span class="inline-delimiter">${</span>raster.extrema.min[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">${</span>raster.extrema.max[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="predefined-type">Raster</span> convolvedRaster = raster.convolve(<span class="integer">2</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Convolved Raster Min Max values = </span><span class="inline"><span class="inline-delimiter">${</span>convolvedRaster.extrema.min[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">${</span>convolvedRaster.extrema.max[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Original Raster Min Max values = -23.0 - 4370.0
Convolved Raster Min Max values = -32767.0 - 32767.0</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_convolve_radius.png" alt="raster convolve radius">
</div>
</div>
<div class="paragraph">
<p>Convolve a Raster with a width and height.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Original Raster Min Max values = </span><span class="inline"><span class="inline-delimiter">${</span>raster.extrema.min[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">${</span>raster.extrema.max[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

<span class="predefined-type">Raster</span> convolvedRaster = raster.convolve(<span class="integer">1</span>,<span class="integer">2</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Convolved Raster Min Max values = </span><span class="inline"><span class="inline-delimiter">${</span>convolvedRaster.extrema.min[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">${</span>convolvedRaster.extrema.max[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Original Raster Min Max values = -23.0 - 4370.0
Convolved Raster Min Max values = -32767.0 - 8675.0</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_convolve_wh.png" alt="raster convolve wh">
</div>
</div>
</div>
<div class="sect3">
<h4 id="invert"><a class="anchor" href="#invert"></a>Invert</h4>
<div class="paragraph">
<p>Invert the values of a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> invertedRaster = raster.invert()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_invert.png" alt="raster invert">
</div>
</div>
</div>
<div class="sect3">
<h4 id="exponent"><a class="anchor" href="#exponent"></a>Exponent</h4>
<div class="paragraph">
<p>Calculate the exponent of the values of a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> expRaster = raster.exp()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_exp.png" alt="raster exp">
</div>
</div>
</div>
<div class="sect3">
<h4 id="absolute"><a class="anchor" href="#absolute"></a>Absolute</h4>
<div class="paragraph">
<p>Calculate the absolute value of the values of a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/absolute.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">absolute</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> absolute = raster.absolute()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_absolute_1.png" alt="raster absolute 1">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_absolute_2.png" alt="raster absolute 2">
</div>
</div>
</div>
<div class="sect3">
<h4 id="log"><a class="anchor" href="#log"></a>Log</h4>
<div class="paragraph">
<p>Calculate the log of the values of a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> logRaster = raster.log()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_log.png" alt="raster log">
</div>
</div>
</div>
<div class="sect3">
<h4 id="vectorize"><a class="anchor" href="#vectorize"></a>Vectorize</h4>
<div class="paragraph">
<p>Create a Polygon Layer from a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> reclassifiedRaster = raster.reclassify([
        [<span class="key">min</span>:<span class="integer">0</span>,    <span class="key">max</span>:<span class="integer">0</span>,    <span class="key">value</span>: <span class="integer">1</span>],
        [<span class="key">min</span>:<span class="integer">0</span>,    <span class="key">max</span>:<span class="integer">50</span>,   <span class="key">value</span>: <span class="integer">2</span>],
        [<span class="key">min</span>:<span class="integer">50</span>,   <span class="key">max</span>:<span class="integer">200</span>,  <span class="key">value</span>: <span class="integer">3</span>],
        [<span class="key">min</span>:<span class="integer">200</span>,  <span class="key">max</span>:<span class="integer">1000</span>, <span class="key">value</span>: <span class="integer">4</span>],
        [<span class="key">min</span>:<span class="integer">1000</span>, <span class="key">max</span>:<span class="integer">1500</span>, <span class="key">value</span>: <span class="integer">5</span>],
        [<span class="key">min</span>:<span class="integer">1500</span>, <span class="key">max</span>:<span class="integer">4000</span>, <span class="key">value</span>: <span class="integer">6</span>]
])
Layer layer = reclassifiedRaster.polygonLayer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_polygonLayer.png" alt="raster polygonLayer">
</div>
</div>
<div class="paragraph">
<p>Create a Point Layer from a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>).crop(<span class="keyword">new</span> Bounds(-<span class="float">121.878548</span>,<span class="float">46.808402</span>,-<span class="float">121.636505</span>,<span class="float">46.896097</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>))
Layer layer = raster.pointLayer</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_pointLayer.png" alt="raster pointLayer">
</div>
</div>
<div class="paragraph">
<p>Extract a foot print from a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)
Layer layer = raster.extractFootPrint()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_footprint.png" alt="raster footprint">
</div>
</div>
<div class="paragraph">
<p>Calculate zonal statistics</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)

Layer zones = <span class="keyword">new</span> Memory().create(<span class="string"><span class="delimiter">&quot;</span><span class="content">zones</span><span class="delimiter">&quot;</span></span>, [<span class="keyword">new</span> <span class="predefined-type">Field</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">geom</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">Geometry</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>)])
Bounds bounds = raster.bounds
bounds.tile(<span class="float">0.5</span>).each{b -&gt; zones.add([b.geometry])}

Layer stats = raster.zonalStatistics(<span class="integer">0</span>, zones)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_zonalStats.png" alt="raster zonalStats">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">count</th>
<th class="tableblock halign-left valign-top">min</th>
<th class="tableblock halign-left valign-top">max</th>
<th class="tableblock halign-left valign-top">sum</th>
<th class="tableblock halign-left valign-top">avg</th>
<th class="tableblock halign-left valign-top">stddev</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">79950</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1718.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.6618944E7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">332.94489055659943</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">262.73459374414483</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">80000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">254.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4370.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.2963902E7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1162.0487749999913</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">439.0841907966851</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">71728</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-23.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1755.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1585759E7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">161.52351940664724</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">179.29389227723505</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">80000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2728.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.9051464E7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">988.1433000000056</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">465.8407188458327</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="histogram"><a class="anchor" href="#histogram"></a>Histogram</h4>
<div class="paragraph">
<p>Get histogram of the Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/earth.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">earth</span><span class="delimiter">&quot;</span></span>)

Histogram histogram = raster.getHistogram()
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of bands = </span><span class="inline"><span class="inline-delimiter">${</span>histogram.numberOfBands<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Counts = </span><span class="inline"><span class="inline-delimiter">${</span>histogram.counts().size()<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># Bins = </span><span class="inline"><span class="inline-delimiter">${</span>histogram.bins().size()<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Count 25 = </span><span class="inline"><span class="inline-delimiter">${</span>histogram.count(<span class="integer">25</span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bin 45 = </span><span class="inline"><span class="inline-delimiter">${</span>histogram.bin(<span class="integer">45</span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

Chart chart = Bar.xy(histogram.counts(<span class="integer">0</span>).withIndex().collect {<span class="type">int</span> count, <span class="type">int</span> index -&gt; [index, count]})</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># of bands = 3
# Counts = 256
# Bins = 256
Count 25 = 0
Bin 45 = [45.0, 46.0]</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_gethistogram.png" alt="raster gethistogram">
</div>
</div>
</div>
<div class="sect3">
<h4 id="raster-algebra"><a class="anchor" href="#raster-algebra"></a>Raster Algebra</h4>
<div class="sect4">
<h5 id="add"><a class="anchor" href="#add"></a>Add</h5>
<div class="paragraph">
<p>Add a constant value to a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> elevation1 = raster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation1

<span class="predefined-type">Raster</span> higherRaster = raster.add(<span class="float">100.00</span>)
<span class="type">double</span> elevation2 = higherRaster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation2</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>3069.0
3169.0</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_add.png" alt="raster add">
</div>
</div>
<div class="paragraph">
<p>Add two Raster together</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> lowRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/low.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">low</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> highRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/high.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">high</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> lowPlusHighRaster = lowRaster.add(highRaster)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Low</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_addraster_low.png" alt="raster addraster low">
</div>
</div>
<div class="paragraph">
<p>High</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_addraster_high.png" alt="raster addraster high">
</div>
</div>
<div class="paragraph">
<p>Low + High</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_addraster_add.png" alt="raster addraster add">
</div>
</div>
</div>
<div class="sect4">
<h5 id="subtract"><a class="anchor" href="#subtract"></a>Subtract</h5>
<div class="paragraph">
<p>Subtract a constant value from a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> elevation1 = raster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation1

<span class="predefined-type">Raster</span> lowerRaster = raster.minus(<span class="float">50.00</span>)
<span class="type">double</span> elevation2 = lowerRaster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation2</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>3069.0
3019.0</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_minus.png" alt="raster minus">
</div>
</div>
<div class="paragraph">
<p>Subtract the Raster from a constant value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> elevation1 = raster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation1

<span class="predefined-type">Raster</span> lowerRaster = raster.minusFrom(<span class="float">2000.0</span>)
<span class="type">double</span> elevation2 = lowerRaster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation2</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>3069.0
-1069.0</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_minusfrom.png" alt="raster minusfrom">
</div>
</div>
<div class="paragraph">
<p>Subtract a Raster from another Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> lowRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/low.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">low</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> highRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/high.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">high</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> highMinusLowRaster = highRaster.minus(lowRaster)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Low</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_subtractraster_low.png" alt="raster subtractraster low">
</div>
</div>
<div class="paragraph">
<p>High</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_subtractraster_high.png" alt="raster subtractraster high">
</div>
</div>
<div class="paragraph">
<p>High - Low</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_subtractraster_subtract.png" alt="raster subtractraster subtract">
</div>
</div>
</div>
<div class="sect4">
<h5 id="multiply"><a class="anchor" href="#multiply"></a>Multiply</h5>
<div class="paragraph">
<p>Multiply a constant value against a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> elevation1 = raster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation1

<span class="predefined-type">Raster</span> higherRaster = raster.multiply(<span class="float">2.0</span>)
<span class="type">double</span> elevation2 = higherRaster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation2</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>3069.0
6138.0</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_multiply.png" alt="raster multiply">
</div>
</div>
<div class="paragraph">
<p>Multiply a Raster with another Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> lowRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/low.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">low</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> highRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/high.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">high</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> multiplyRaster = highRaster.multiply(lowRaster)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Low</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_multiplyraster_low.png" alt="raster multiplyraster low">
</div>
</div>
<div class="paragraph">
<p>High</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_multiplyraster_high.png" alt="raster multiplyraster high">
</div>
</div>
<div class="paragraph">
<p>High * Low</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_multiplyraster_subtract.png" alt="raster multiplyraster subtract">
</div>
</div>
</div>
<div class="sect4">
<h5 id="divide"><a class="anchor" href="#divide"></a>Divide</h5>
<div class="paragraph">
<p>Divide a constant value against a Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> elevation1 = raster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation1

<span class="predefined-type">Raster</span> lowerRaster = raster.divide(<span class="float">2.0</span>)
<span class="type">double</span> elevation2 = lowerRaster.getValue(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">121.799927</span>,<span class="float">46.867703</span>))
println elevation2</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>3069.0
1534.5</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_divide.png" alt="raster divide">
</div>
</div>
<div class="paragraph">
<p>Divide a Raster by another Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> lowRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/low.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">low</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> highRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/high.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">high</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> divideRaster = highRaster.divide(lowRaster)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Low</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_divideraster_low.png" alt="raster divideraster low">
</div>
</div>
<div class="paragraph">
<p>High</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_divideraster_high.png" alt="raster divideraster high">
</div>
</div>
<div class="paragraph">
<p>High / Low</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_divideraster_subtract.png" alt="raster divideraster subtract">
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="world-file"><a class="anchor" href="#world-file"></a>World File</h3>
<div class="paragraph">
<p>Create a world file from a Bounds and size.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/worldfile.txt</span><span class="delimiter">&quot;</span></span>)
WorldFile worldFile = <span class="keyword">new</span> WorldFile(<span class="keyword">new</span> Bounds(-<span class="float">123.06</span>, <span class="float">46.66</span>, -<span class="float">121.15</span>, <span class="float">47.48</span>), [<span class="integer">500</span>,<span class="integer">500</span>], file)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Pixel Size = </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.pixelSize[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> x </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.pixelSize[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Rotation = </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.rotation[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> x </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.rotation[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Upper Left Coordinate = </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.ulc.x<span class="inline-delimiter">}</span></span><span class="content">, </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.ulc.y<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">File = </span><span class="inline"><span class="inline-delimiter">${</span>file.text<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Pixel Size = 0.003819999999999993 x -0.0016400000000000006
Rotation = 0.0 x 0.0
Upper Left Coordinate = -123.05809, 47.47918
File = 0.003819999999999993
0.0
0.0
-0.0016400000000000006
-123.05809
47.47918</pre>
</div>
</div>
<div class="paragraph">
<p>Create a world file from an existing file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/worldfile.txt</span><span class="delimiter">&quot;</span></span>)
WorldFile worldFile = <span class="keyword">new</span> WorldFile(file)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Pixel Size = </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.pixelSize[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> x </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.pixelSize[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Rotation = </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.rotation[<span class="integer">0</span>]<span class="inline-delimiter">}</span></span><span class="content"> x </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.rotation[<span class="integer">1</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Upper Left Coordinate = </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.ulc.x<span class="inline-delimiter">}</span></span><span class="content">, </span><span class="inline"><span class="inline-delimiter">${</span>worldFile.ulc.y<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Pixel Size = 0.003819999999999993 x -0.0016400000000000006
Rotation = 0.0 x 0.0
Upper Left Coordinate = -123.05809, 47.47918</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="map-algebra"><a class="anchor" href="#map-algebra"></a>Map Algebra</h3>
<div class="paragraph">
<p>GeoScript uses Jiffle to perform map or raster algebra.</p>
</div>
<div class="paragraph">
<p>Add two Rasters together</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">Raster</span> lowRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/low.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">low</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> highRaster = <span class="predefined-type">Format</span>.getFormat(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/high.tif</span><span class="delimiter">&quot;</span></span>)).read(<span class="string"><span class="delimiter">&quot;</span><span class="content">high</span><span class="delimiter">&quot;</span></span>)

MapAlgebra mapAlgebra = <span class="keyword">new</span> MapAlgebra()
<span class="predefined-type">Raster</span> output = mapAlgebra.calculate(<span class="string"><span class="delimiter">&quot;</span><span class="content">dest = raster1 + raster2;</span><span class="delimiter">&quot;</span></span>, [<span class="key">raster1</span>: lowRaster, <span class="key">raster2</span>: highRaster], <span class="key">size</span>: [<span class="integer">300</span>, <span class="integer">200</span>])</code></pre>
</div>
</div>
<div class="paragraph">
<p>Low</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_mapalgebra_add_low.png" alt="raster mapalgebra add low">
</div>
</div>
<div class="paragraph">
<p>High</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_mapalgebra_add_high.png" alt="raster mapalgebra add high">
</div>
</div>
<div class="paragraph">
<p>High + Low</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_mapalgebra_add_result.png" alt="raster mapalgebra add result">
</div>
</div>
<div class="paragraph">
<p>Generate a wave Raster</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MapAlgebra algebra = <span class="keyword">new</span> MapAlgebra()

<span class="predefined-type">String</span> script = <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
    init {
      // image centre coordinates
      xc = width() / 2;
      yc = height() / 2;

      // constant term
      C = M_PI * 8;
    }

    dx = (x() - xc) / xc;
    dy = (y() - yc) / yc;
    d = sqrt(dx*dx + dy*dy);

    destImg = sin(C * d);
</span><span class="delimiter">&quot;&quot;&quot;</span></span>

<span class="predefined-type">Raster</span> output = algebra.calculate(script, [:], <span class="key">outputName</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">destImg</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_mapalgebra_waves.png" alt="raster mapalgebra waves">
</div>
</div>
<div class="paragraph">
<p>Create a Raster of all cells greater than a given value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pc.tif</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Format</span> format = <span class="predefined-type">Format</span>.getFormat(file)
<span class="predefined-type">Raster</span> raster = format.read(<span class="string"><span class="delimiter">&quot;</span><span class="content">pc</span><span class="delimiter">&quot;</span></span>)
println raster.size
MapAlgebra mapAlgebra = <span class="keyword">new</span> MapAlgebra()
<span class="predefined-type">Raster</span> output = mapAlgebra.calculate(<span class="string"><span class="delimiter">&quot;</span><span class="content">dest = src &gt; 1100;</span><span class="delimiter">&quot;</span></span>, [<span class="key">src</span>: raster], <span class="key">size</span>: [<span class="integer">800</span>, <span class="integer">400</span>])
println output.extrema</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/raster_mapalgebra_gt.png" alt="raster mapalgebra gt">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="wms-recipes"><a class="anchor" href="#wms-recipes"></a>WMS Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The WMS classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/layer/package-summary.html">geoscript.layer</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="wms-server"><a class="anchor" href="#wms-server"></a>WMS Server</h3>
<div class="listingblock">
<div class="title">Connect to a WMS Server and list properties</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">WMS wms = <span class="keyword">new</span> WMS(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://lpdaacsvc.cr.usgs.gov/ogc/wms</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Name = </span><span class="inline"><span class="inline-delimiter">${</span>wms.name<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Title = </span><span class="inline"><span class="inline-delimiter">${</span>wms.title<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Abstract = </span><span class="inline"><span class="inline-delimiter">${</span>wms.abstract<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Keywords = </span><span class="inline"><span class="inline-delimiter">${</span>wms.keywords.join(<span class="string"><span class="delimiter">'</span><span class="content">, </span><span class="delimiter">'</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Online Resource = </span><span class="inline"><span class="inline-delimiter">${</span>wms.onlineResource<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Update Sequence = </span><span class="inline"><span class="inline-delimiter">${</span>wms.updateSequence<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Version = </span><span class="inline"><span class="inline-delimiter">${</span>wms.version<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Map Formats = </span><span class="inline"><span class="inline-delimiter">${</span>wms.getMapFormats.join(<span class="string"><span class="delimiter">'</span><span class="content">, </span><span class="delimiter">'</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Name = WMS
Title = GeoServer Web Map Service
Abstract = A compliant implementation of WMS plus most of the SLD extension (dynamic styling). Can also generate PDF, SVG, KML, GeoRSS
Keywords = WFS, WMS, GEOSERVER
Online Resource = http://geoserver.sourceforge.net/html/index.php
Update Sequence = 35327
Version = 1.3.0
Map Formats = image/png, application/atom+xml, application/pdf, application/rss+xml, application/vnd.google-earth.kml+xml, application/vnd.google-earth.kml+xml;mode=networklink, application/vnd.google-earth.kmz, image/geotiff, image/geotiff8, image/gif, image/jpeg, image/png; mode=8bit, image/svg+xml, image/tiff, image/tiff8, text/html; subtype=openlayers</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a list of Layers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">WMS wms = <span class="keyword">new</span> WMS(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://lpdaacsvc.cr.usgs.gov/ogc/wms</span><span class="delimiter">&quot;</span></span>)
wms.layers.subList(<span class="integer">0</span>,<span class="integer">10</span>).each { WMS.Layer layer -&gt;
    println layer
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>MODIS:MCD12Q1.2016001.006.LandCover
MODIS:MOD09A1.2018073.006.SurRefl
MODIS:MOD09A1.2018081.006.SurRefl
MODIS:MOD09A1.2018089.006.SurRefl
MODIS:MOD09A1.2018097.006.SurRefl
MODIS:MOD09A1.2018105.006.SurRefl
MODIS:MOD09A1.2018113.006.SurRefl
MODIS:MOD09A1.2018121.006.SurRefl
MODIS:MOD09A1.2018129.006.SurRefl
MODIS:MOD09A1.2018137.006.SurRefl</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Layer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">WMS wms = <span class="keyword">new</span> WMS(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://lpdaacsvc.cr.usgs.gov/ogc/wms</span><span class="delimiter">&quot;</span></span>)
WMS.Layer layer = wms.getLayer(<span class="string"><span class="delimiter">&quot;</span><span class="content">MODIS:MOD09A1.2018185.006.SurRefl</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Name = </span><span class="inline"><span class="inline-delimiter">${</span>layer.name<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Title = </span><span class="inline"><span class="inline-delimiter">${</span>layer.title<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds = </span><span class="inline"><span class="inline-delimiter">${</span>layer.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Lat/Lon Bounds = </span><span class="inline"><span class="inline-delimiter">${</span>layer.latLonBounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Queryable = </span><span class="inline"><span class="inline-delimiter">${</span>layer.queryable<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Min Scale = </span><span class="inline"><span class="inline-delimiter">${</span>layer.minScale<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max Scale = </span><span class="inline"><span class="inline-delimiter">${</span>layer.maxScale<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Name = MODIS:MOD09A1.2018185.006.SurRefl
Title = MOD09A1.2018185.006.SurRefl
Bounds = [(-90.00000143999999,-180.0,90.0,180.00000287999998,EPSG:4326), (-180.0,-90.00000143999999,180.00000287999998,90.0,EPSG:4326)]
Lat/Lon Bounds = (-180.0,-90.00000143999999,180.00000287999998,90.0,EPSG:4326)
Queryable = true
Min Scale = NaN
Max Scale = NaN</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Get a Raster</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">WMS wms = <span class="keyword">new</span> WMS(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://lpdaacsvc.cr.usgs.gov/ogc/wms</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Raster</span> raster = wms.getRaster([<span class="string"><span class="delimiter">&quot;</span><span class="content">MODIS:MOD14A2.2018209.006.Fire</span><span class="delimiter">&quot;</span></span>])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/wms_raster.png" alt="wms raster">
</div>
</div>
<div class="listingblock">
<div class="title">Get an Image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">WMS wms = <span class="keyword">new</span> WMS(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://lpdaacsvc.cr.usgs.gov/ogc/wms</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">BufferedImage</span> image = wms.getImage([<span class="string"><span class="delimiter">&quot;</span><span class="content">MODIS:MOD17A2H.2019041.006.GPP</span><span class="delimiter">&quot;</span></span>])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/wms_image.png" alt="wms image">
</div>
</div>
</div>
<div class="sect2">
<h3 id="wmslayer"><a class="anchor" href="#wmslayer"></a>WMSLayer</h3>
<div class="paragraph">
<p>A WMSLayer is a way to draw one or more WMS layers on a Map.</p>
</div>
<div class="listingblock">
<div class="title">Use WMS Layers to render a Map</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">WMS wms = <span class="keyword">new</span> WMS(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://1maps.geo-solutions.it/geoserver/osm/wms?service=wms&amp;version=1.1.1&amp;request=GetCapabilities</span><span class="delimiter">&quot;</span></span>)
WMSLayer layer = <span class="keyword">new</span> WMSLayer(wms, [<span class="string"><span class="delimiter">&quot;</span><span class="content">icesheet_polygons</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">ne_10m_admin_0_countries</span><span class="delimiter">&quot;</span></span>])
<span class="predefined-type">Map</span> map = <span class="keyword">new</span> <span class="predefined-type">Map</span>(<span class="key">layers</span>: [layer], <span class="key">backgroundColor</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#B0C4DE</span><span class="delimiter">&quot;</span></span>, <span class="key">bounds</span>: <span class="keyword">new</span> Bounds(-<span class="integer">179</span>, -<span class="integer">85</span>, <span class="integer">179</span>, <span class="integer">85</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>))
<span class="predefined-type">BufferedImage</span> image = map.renderToImage()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/wms_layer_map.png" alt="wms layer map">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tile-recipes"><a class="anchor" href="#tile-recipes"></a>Tile Recipes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Tile classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/layer/package-summary.html">geoscript.layer</a></strong> package.</p>
</div>
<div class="sect2">
<h3 id="tile"><a class="anchor" href="#tile"></a>Tile</h3>
<div class="sect3">
<h4 id="tile-properties"><a class="anchor" href="#tile-properties"></a>Tile Properties</h4>
<div class="paragraph">
<p>Get a Tile&#8217;s Properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">byte</span><span class="type">[]</span> data = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tile.png</span><span class="delimiter">&quot;</span></span>).bytes
Tile tile = <span class="keyword">new</span> Tile(<span class="integer">2</span>,<span class="integer">1</span>,<span class="integer">3</span>,data)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Z = </span><span class="inline"><span class="inline-delimiter">${</span>tile.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">X = </span><span class="inline"><span class="inline-delimiter">${</span>tile.x<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Y = </span><span class="inline"><span class="inline-delimiter">${</span>tile.y<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tile = </span><span class="inline"><span class="inline-delimiter">${</span>tile.toString()<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># bytes = </span><span class="inline"><span class="inline-delimiter">${</span>tile.data.length<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Data as base64 encoded string = </span><span class="inline"><span class="inline-delimiter">${</span>tile.base64String<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Z = 2
X = 1
Y = 3
Tile = Tile(x:1, y:3, z:2)
# bytes = 11738
Data as base64 encoded string = iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAtoU...</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="imagetile-properties"><a class="anchor" href="#imagetile-properties"></a>ImageTile Properties</h4>
<div class="paragraph">
<p>Some Tiles contain an Image. ImageTile&#8217;s have an image property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">byte</span><span class="type">[]</span> data = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tile.png</span><span class="delimiter">&quot;</span></span>).bytes
ImageTile tile = <span class="keyword">new</span> ImageTile(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>,data)
<span class="predefined-type">BufferedImage</span> image = tile.image</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_image_tile.png" alt="tile image tile">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="grid"><a class="anchor" href="#grid"></a>Grid</h3>
<div class="paragraph">
<p>A Grid describes a level in a Pyramid of Tiles.</p>
</div>
<div class="sect3">
<h4 id="grid-properties"><a class="anchor" href="#grid-properties"></a>Grid Properties</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Grid grid = <span class="keyword">new</span> Grid(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">2</span>, <span class="float">78206.0</span>, <span class="float">78206.0</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>grid.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>grid.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>grid.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Size / # Tiles: </span><span class="inline"><span class="inline-delimiter">${</span>grid.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">X Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.xResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Y Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.yResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 1
Width / # Columns: 2
Height / # Rows: 2
Size / # Tiles: 4
X Resolution: 78206.0
Y Resolution: 78206.0</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pyramid"><a class="anchor" href="#pyramid"></a>Pyramid</h3>
<div class="sect3">
<h4 id="pyramid-properties"><a class="anchor" href="#pyramid-properties"></a>Pyramid Properties</h4>
<div class="paragraph">
<p>Get the Pyramid&#8217;s Bounds.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()

Bounds bounds = pyramid.bounds
println bounds</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857)</pre>
</div>
</div>
<div class="paragraph">
<p>Get the Pyramid&#8217;s projection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection proj = pyramid.proj
println proj</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>EPSG:3857</pre>
</div>
</div>
<div class="paragraph">
<p>Get the Pyramid&#8217;s Origin.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid.Origin origin = pyramid.origin
println origin</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>BOTTOM_LEFT</pre>
</div>
</div>
<div class="paragraph">
<p>Get the Pyramid&#8217;s Tile Width and Height.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">int</span> tileWidth = pyramid.tileWidth
<span class="type">int</span> tileHeight = pyramid.tileHeight
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>tileWidth<span class="inline-delimiter">}</span></span><span class="content"> x </span><span class="inline"><span class="inline-delimiter">${</span>tileHeight<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>256 x 256</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="create-pyramids"><a class="anchor" href="#create-pyramids"></a>Create Pyramids</h4>
<div class="paragraph">
<p>Create a Global Mercator Pyramid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Projection: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.proj<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Origin: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.origin<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max Zoom: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.maxGrid.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Projection: EPSG:3857
Origin: BOTTOM_LEFT
Bounds: (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857)
Max Zoom: 19</pre>
</div>
</div>
<div class="paragraph">
<p>Create a Global Geodetic Pyramid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalGeodeticPyramid()
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Projection: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.proj<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Origin: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.origin<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max Zoom: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.maxGrid.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Projection: EPSG:4326
Origin: BOTTOM_LEFT
Bounds: (-179.99,-89.99,179.99,89.99,EPSG:4326)
Max Zoom: 19</pre>
</div>
</div>
<div class="paragraph">
<p>Create a Global Mercator Pyramid from a well known name.</p>
</div>
<div class="paragraph">
<p>Well known names include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GlobalMercator</p>
</li>
<li>
<p>Mercator</p>
</li>
<li>
<p>GlobalMercatorBottomLeft</p>
</li>
<li>
<p>GlobalMercatorTopLeft</p>
</li>
<li>
<p>GlobalGeodetic</p>
</li>
<li>
<p>Geodetic</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.fromString(<span class="string"><span class="delimiter">&quot;</span><span class="content">mercator</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Projection: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.proj<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Origin: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.origin<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max Zoom: </span><span class="inline"><span class="inline-delimiter">${</span>pyramid.maxGrid.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Projection: EPSG:3857
Origin: BOTTOM_LEFT
Bounds: (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857)
Max Zoom: 19</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="get-bounds-from-a-pyramid"><a class="anchor" href="#get-bounds-from-a-pyramid"></a>Get Bounds from a Pyramid</h4>
<div class="paragraph">
<p>Get the Bounds for a Tile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
Tile tile = <span class="keyword">new</span> Tile(<span class="integer">2</span>, <span class="integer">1</span>, <span class="integer">1</span>)
Bounds bounds = pyramid.bounds(tile)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">The bounds of </span><span class="inline"><span class="inline-delimiter">${</span>tile<span class="inline-delimiter">}</span></span><span class="content"> is </span><span class="inline"><span class="inline-delimiter">${</span>bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>The bounds of Tile(x:1, y:1, z:2) is (-1.0018197573940657E7,-1.0018735602568535E7,0.0,-3.725290298461914E-9,EPSG:3857)</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_pyramid_bounds_tiles.png" alt="tile pyramid bounds tiles">
</div>
</div>
<div class="paragraph">
<p>Get the Bounds for an area around a Point at a zoom level.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
<span class="predefined-type">Point</span> point = Projection.transform(<span class="keyword">new</span> <span class="predefined-type">Point</span>(<span class="float">22.1539306640625</span>, <span class="float">37.67077737288316</span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> zoomLevel = <span class="integer">8</span>
<span class="type">int</span> width = <span class="integer">400</span>
<span class="type">int</span> height = <span class="integer">400</span>
Bounds bounds = pyramid.bounds(point, zoomLevel, width, height)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">The bounds around </span><span class="inline"><span class="inline-delimiter">${</span>point<span class="inline-delimiter">}</span></span><span class="content"> is </span><span class="inline"><span class="inline-delimiter">${</span>bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>The bounds around POINT (2466164.2805929263 4533021.525424092) is (2343967.4055929263,4410824.650424092,2588361.1555929263,4655218.400424092,EPSG:3857)</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_pyramid_bounds_around_point.png" alt="tile pyramid bounds around point">
</div>
</div>
</div>
<div class="sect3">
<h4 id="get-a-grid-from-a-pyramid"><a class="anchor" href="#get-a-grid-from-a-pyramid"></a>Get a Grid from a Pyramid</h4>
<div class="paragraph">
<p>Get a the min Grid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
Grid grid = pyramid.minGrid
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>grid.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>grid.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>grid.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Size / # Tiles: </span><span class="inline"><span class="inline-delimiter">${</span>grid.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">X Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.xResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Y Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.yResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 0
Width / # Columns: 1
Height / # Rows: 1
Size / # Tiles: 1
X Resolution: 156412.0
Y Resolution: 156412.0</pre>
</div>
</div>
<div class="paragraph">
<p>Get a the max Grid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
Grid grid = pyramid.maxGrid
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>grid.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>grid.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>grid.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Size / # Tiles: </span><span class="inline"><span class="inline-delimiter">${</span>grid.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">X Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.xResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Y Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.yResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 19
Width / # Columns: 524288
Height / # Rows: 524288
Size / # Tiles: 274877906944
X Resolution: 0.29833221435546875
Y Resolution: 0.29833221435546875</pre>
</div>
</div>
<div class="paragraph">
<p>Get a Grid from a Pyramid by Zoom Level.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
Grid grid = pyramid.grid(<span class="integer">1</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>grid.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>grid.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>grid.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Size / # Tiles: </span><span class="inline"><span class="inline-delimiter">${</span>grid.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">X Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.xResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Y Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.yResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 1
Width / # Columns: 2
Height / # Rows: 2
Size / # Tiles: 4
X Resolution: 78206.0
Y Resolution: 78206.0</pre>
</div>
</div>
<div class="paragraph">
<p>Get a Grid from a Pyramid by a Bounds and Resolution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">123.09</span>, <span class="float">46.66</span>, -<span class="float">121.13</span>, <span class="float">47.48</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
Grid grid = pyramid.grid(bounds, bounds.width / <span class="float">400.0</span>, bounds.height / <span class="float">200.0</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>grid.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>grid.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>grid.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Size / # Tiles: </span><span class="inline"><span class="inline-delimiter">${</span>grid.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">X Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.xResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Y Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.yResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 8
Width / # Columns: 256
Height / # Rows: 256
Size / # Tiles: 65536
X Resolution: 610.984375
Y Resolution: 610.984375</pre>
</div>
</div>
<div class="paragraph">
<p>Get a Grid from a Pyramid by a Bounds and Size.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">123.09</span>, <span class="float">46.66</span>, -<span class="float">121.13</span>, <span class="float">47.48</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
Grid grid = pyramid.grid(bounds, <span class="integer">400</span>, <span class="integer">200</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>grid.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>grid.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>grid.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Size / # Tiles: </span><span class="inline"><span class="inline-delimiter">${</span>grid.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">X Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.xResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Y Resolution: </span><span class="inline"><span class="inline-delimiter">${</span>grid.yResolution<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 8
Width / # Columns: 256
Height / # Rows: 256
Size / # Tiles: 65536
X Resolution: 610.984375
Y Resolution: 610.984375</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="get-tile-coordinates"><a class="anchor" href="#get-tile-coordinates"></a>Get Tile Coordinates</h4>
<div class="paragraph">
<p>Get the tile coordinates from a Pyramid by Bounds and zoom level</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">124.73142200000001</span>, <span class="float">24.955967</span>, -<span class="float">66.969849</span>, <span class="float">49.371735</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">long</span> zoomLevel = <span class="integer">4</span>
<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; coords = pyramid.getTileCoordinates(bounds, zoomLevel)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Min X = </span><span class="inline"><span class="inline-delimiter">${</span>coords.minX<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Min Y = </span><span class="inline"><span class="inline-delimiter">${</span>coords.minY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max X = </span><span class="inline"><span class="inline-delimiter">${</span>coords.maxX<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max Y = </span><span class="inline"><span class="inline-delimiter">${</span>coords.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Min X = 2
Min Y = 9
Max X = 5
Max Y = 10</pre>
</div>
</div>
<div class="paragraph">
<p>Get the tile coordinates from a Pyramid by Bounds and Grid</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
Bounds bounds = <span class="keyword">new</span> Bounds(<span class="float">20.798492</span>,<span class="float">36.402494</span>,<span class="float">22.765045</span>,<span class="float">37.223768</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
Grid grid = pyramid.grid(<span class="integer">10</span>)
<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; coords = pyramid.getTileCoordinates(bounds, grid)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Min X = </span><span class="inline"><span class="inline-delimiter">${</span>coords.minX<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Min Y = </span><span class="inline"><span class="inline-delimiter">${</span>coords.minY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max X = </span><span class="inline"><span class="inline-delimiter">${</span>coords.maxX<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max Y = </span><span class="inline"><span class="inline-delimiter">${</span>coords.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Min X = 571
Min Y = 623
Max X = 576
Max Y = 626</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="reading-and-writing-pyramids"><a class="anchor" href="#reading-and-writing-pyramids"></a>Reading and Writing Pyramids</h4>
<div class="paragraph">
<p>The Pyramid IO classes are in the <strong><a href="http://geoscript.github.io/geoscript-groovy/api/1.14.0/geoscript/layer/io/package-summary.html">geoscript.layer.io</a></strong> package.</p>
</div>
<div class="sect4">
<h5 id="finding-pyramid-writer-and-readers"><a class="anchor" href="#finding-pyramid-writer-and-readers"></a>Finding Pyramid Writer and Readers</h5>
<div class="listingblock">
<div class="title">List all Pyramid Writers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;PyramidWriter&gt; writers = PyramidWriters.list()
writers.each { PyramidWriter writer -&gt;
    println writer.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>CsvPyramidWriter
GdalTmsPyramidWriter
JsonPyramidWriter
XmlPyramidWriter</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Pyramid Writer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalGeodeticPyramid(<span class="key">maxZoom</span>: <span class="integer">2</span>)
PyramidWriter writer = PyramidWriters.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">csv</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">String</span> pyramidStr = writer.write(pyramid)
println pyramidStr</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>EPSG:4326
-179.99,-89.99,179.99,89.99,EPSG:4326
BOTTOM_LEFT
256,256
0,2,1,0.703125,0.703125
1,4,2,0.3515625,0.3515625
2,8,4,0.17578125,0.17578125</pre>
</div>
</div>
<div class="listingblock">
<div class="title">List all Pyramid Readers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">List</span>&lt;PyramidReader&gt; readers = PyramidReaders.list()
readers.each { PyramidReader reader -&gt;
    println reader.class.simpleName
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>CsvPyramidReader
GdalTmsPyramidReader
JsonPyramidReader
XmlPyramidReader</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Find a Pyramid Reader</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        PyramidReader reader = PyramidReaders.find(<span class="string"><span class="delimiter">&quot;</span><span class="content">csv</span><span class="delimiter">&quot;</span></span>)
        Pyramid pyramid = reader.read(<span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">EPSG:3857
-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857
BOTTOM_LEFT
256,256
0,1,1,156412.0,156412.0
1,2,2,78206.0,78206.0
2,4,4,39103.0,39103.0
3,8,8,19551.5,19551.5
4,16,16,9775.75,9775.75
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
        println pyramid</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:BOTTOM_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="json-2"><a class="anchor" href="#json-2"></a>JSON</h5>
<div class="paragraph">
<p>Get a JSON String from a Pyramid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid(<span class="key">maxZoom</span>: <span class="integer">4</span>)
<span class="predefined-type">String</span> json = pyramid.json
println json</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{
    "proj": "EPSG:3857",
    "bounds": {
        "minX": -2.0036395147881314E7,
        "minY": -2.0037471205137067E7,
        "maxX": 2.0036395147881314E7,
        "maxY": 2.003747120513706E7
    },
    "origin": "BOTTOM_LEFT",
    "tileSize": {
        "width": 256,
        "height": 256
    },
    "grids": [
        {
            "z": 0,
            "width": 1,
            "height": 1,
            "xres": 156412.0,
            "yres": 156412.0
        },
        {
            "z": 1,
            "width": 2,
            "height": 2,
            "xres": 78206.0,
            "yres": 78206.0
        },
        {
            "z": 2,
            "width": 4,
            "height": 4,
            "xres": 39103.0,
            "yres": 39103.0
        },
        {
            "z": 3,
            "width": 8,
            "height": 8,
            "xres": 19551.5,
            "yres": 19551.5
        },
        {
            "z": 4,
            "width": 16,
            "height": 16,
            "xres": 9775.75,
            "yres": 9775.75
        }
    ]
}</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="xml-2"><a class="anchor" href="#xml-2"></a>XML</h5>
<div class="paragraph">
<p>Get a XML String from a Pyramid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid(<span class="key">maxZoom</span>: <span class="integer">4</span>)
<span class="predefined-type">String</span> xml = pyramid.xml
println xml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;pyramid&gt;
  &lt;proj&gt;EPSG:3857&lt;/proj&gt;
  &lt;bounds&gt;
    &lt;minX&gt;-2.0036395147881314E7&lt;/minX&gt;
    &lt;minY&gt;-2.0037471205137067E7&lt;/minY&gt;
    &lt;maxX&gt;2.0036395147881314E7&lt;/maxX&gt;
    &lt;maxY&gt;2.003747120513706E7&lt;/maxY&gt;
  &lt;/bounds&gt;
  &lt;origin&gt;BOTTOM_LEFT&lt;/origin&gt;
  &lt;tileSize&gt;
    &lt;width&gt;256&lt;/width&gt;
    &lt;height&gt;256&lt;/height&gt;
  &lt;/tileSize&gt;
  &lt;grids&gt;
    &lt;grid&gt;
      &lt;z&gt;0&lt;/z&gt;
      &lt;width&gt;1&lt;/width&gt;
      &lt;height&gt;1&lt;/height&gt;
      &lt;xres&gt;156412.0&lt;/xres&gt;
      &lt;yres&gt;156412.0&lt;/yres&gt;
    &lt;/grid&gt;
    &lt;grid&gt;
      &lt;z&gt;1&lt;/z&gt;
      &lt;width&gt;2&lt;/width&gt;
      &lt;height&gt;2&lt;/height&gt;
      &lt;xres&gt;78206.0&lt;/xres&gt;
      &lt;yres&gt;78206.0&lt;/yres&gt;
    &lt;/grid&gt;
    &lt;grid&gt;
      &lt;z&gt;2&lt;/z&gt;
      &lt;width&gt;4&lt;/width&gt;
      &lt;height&gt;4&lt;/height&gt;
      &lt;xres&gt;39103.0&lt;/xres&gt;
      &lt;yres&gt;39103.0&lt;/yres&gt;
    &lt;/grid&gt;
    &lt;grid&gt;
      &lt;z&gt;3&lt;/z&gt;
      &lt;width&gt;8&lt;/width&gt;
      &lt;height&gt;8&lt;/height&gt;
      &lt;xres&gt;19551.5&lt;/xres&gt;
      &lt;yres&gt;19551.5&lt;/yres&gt;
    &lt;/grid&gt;
    &lt;grid&gt;
      &lt;z&gt;4&lt;/z&gt;
      &lt;width&gt;16&lt;/width&gt;
      &lt;height&gt;16&lt;/height&gt;
      &lt;xres&gt;9775.75&lt;/xres&gt;
      &lt;yres&gt;9775.75&lt;/yres&gt;
    &lt;/grid&gt;
  &lt;/grids&gt;
&lt;/pyramid&gt;</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="csv-2"><a class="anchor" href="#csv-2"></a>CSV</h5>
<div class="paragraph">
<p>Get a CSV String from a Pyramid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid(<span class="key">maxZoom</span>: <span class="integer">4</span>)
<span class="predefined-type">String</span> csv = pyramid.csv
println csv</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>EPSG:3857
-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857
BOTTOM_LEFT
256,256
0,1,1,156412.0,156412.0
1,2,2,78206.0,78206.0
2,4,4,39103.0,39103.0
3,8,8,19551.5,19551.5
4,16,16,9775.75,9775.75</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="gdal-xml"><a class="anchor" href="#gdal-xml"></a>GDAL XML</h5>
<div class="paragraph">
<p>Write a Pyramid to a GDAL XML File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = Pyramid.createGlobalMercatorPyramid(<span class="key">maxZoom</span>: <span class="integer">4</span>)
GdalTmsPyramidWriter writer = <span class="keyword">new</span> GdalTmsPyramidWriter()
<span class="predefined-type">String</span> xml = writer.write(pyramid, <span class="key">serverUrl</span>: <span class="string"><span class="delimiter">'</span><span class="content">https://myserver.com/${z}/${x}/${y}</span><span class="delimiter">'</span></span>, <span class="key">imageFormat</span>: <span class="string"><span class="delimiter">'</span><span class="content">png</span><span class="delimiter">'</span></span>)
println xml</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;GDAL_WMS&gt;
  &lt;Service name='TMS'&gt;
    &lt;ServerURL&gt;https://myserver.com/${z}/${x}/${y}&lt;/ServerURL&gt;
    &lt;SRS&gt;EPSG:3857&lt;/SRS&gt;
    &lt;ImageFormat&gt;png&lt;/ImageFormat&gt;
  &lt;/Service&gt;
  &lt;DataWindow&gt;
    &lt;UpperLeftX&gt;-2.0036395147881314E7&lt;/UpperLeftX&gt;
    &lt;UpperLeftY&gt;2.003747120513706E7&lt;/UpperLeftY&gt;
    &lt;LowerRightX&gt;2.0036395147881314E7&lt;/LowerRightX&gt;
    &lt;LowerRightY&gt;-2.0037471205137067E7&lt;/LowerRightY&gt;
    &lt;TileLevel&gt;4&lt;/TileLevel&gt;
    &lt;TileCountX&gt;1&lt;/TileCountX&gt;
    &lt;TileCountY&gt;1&lt;/TileCountY&gt;
    &lt;YOrigin&gt;bottom&lt;/YOrigin&gt;
  &lt;/DataWindow&gt;
  &lt;Projection&gt;EPSG:3857&lt;/Projection&gt;
  &lt;BlockSizeX&gt;256&lt;/BlockSizeX&gt;
  &lt;BlockSizeY&gt;256&lt;/BlockSizeY&gt;
  &lt;BandsCount&gt;3&lt;/BandsCount&gt;
&lt;/GDAL_WMS&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Read a Pyramid from a GDAL XML File</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">        <span class="predefined-type">String</span> xml = <span class="string"><span class="delimiter">'''</span><span class="content">&lt;GDAL_WMS&gt;
  &lt;Service name='TMS'&gt;
    &lt;ServerURL&gt;https://myserver.com/${z}/${x}/${y}&lt;/ServerURL&gt;
    &lt;SRS&gt;EPSG:3857&lt;/SRS&gt;
    &lt;ImageFormat&gt;png&lt;/ImageFormat&gt;
  &lt;/Service&gt;
  &lt;DataWindow&gt;
    &lt;UpperLeftX&gt;-2.0036395147881314E7&lt;/UpperLeftX&gt;
    &lt;UpperLeftY&gt;2.003747120513706E7&lt;/UpperLeftY&gt;
    &lt;LowerRightX&gt;2.0036395147881314E7&lt;/LowerRightX&gt;
    &lt;LowerRightY&gt;-2.0037471205137067E7&lt;/LowerRightY&gt;
    &lt;TileLevel&gt;4&lt;/TileLevel&gt;
    &lt;TileCountX&gt;1&lt;/TileCountX&gt;
    &lt;TileCountY&gt;1&lt;/TileCountY&gt;
    &lt;YOrigin&gt;bottom&lt;/YOrigin&gt;
  &lt;/DataWindow&gt;
  &lt;Projection&gt;EPSG:3857&lt;/Projection&gt;
  &lt;BlockSizeX&gt;256&lt;/BlockSizeX&gt;
  &lt;BlockSizeY&gt;256&lt;/BlockSizeY&gt;
  &lt;BandsCount&gt;3&lt;/BandsCount&gt;
&lt;/GDAL_WMS&gt;</span><span class="delimiter">'''</span></span>
        GdalTmsPyramidReader reader = <span class="keyword">new</span> GdalTmsPyramidReader()
        Pyramid pyramid = reader.read(xml)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:BOTTOM_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="generating-tiles"><a class="anchor" href="#generating-tiles"></a>Generating Tiles</h3>
<div class="sect3">
<h4 id="generating-image-tiles"><a class="anchor" href="#generating-image-tiles"></a>Generating Image Tiles</h4>
<div class="sect4">
<h5 id="mbtiles"><a class="anchor" href="#mbtiles"></a>MBTiles</h5>
<div class="paragraph">
<p>Generate Image Tiles to a MBTiles file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/world.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file, <span class="string"><span class="delimiter">&quot;</span><span class="content">World</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">World Tiles</span><span class="delimiter">&quot;</span></span>)

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

ImageTileRenderer renderer = <span class="keyword">new</span> ImageTileRenderer(mbtiles, [ocean, countries])
TileGenerator generator = <span class="keyword">new</span> TileGenerator()
generator.generate(mbtiles, renderer, <span class="integer">0</span>, <span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_generate_mbtiles.png" alt="tile generate mbtiles">
</div>
</div>
<div class="paragraph">
<p>Generate Image Tiles to a MBTiles file with metatiles</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/world_meta.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file, <span class="string"><span class="delimiter">&quot;</span><span class="content">World</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">World Tiles</span><span class="delimiter">&quot;</span></span>)

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

ImageTileRenderer renderer = <span class="keyword">new</span> ImageTileRenderer(mbtiles, [ocean, countries])
TileGenerator generator = <span class="keyword">new</span> TileGenerator()
generator.generate(mbtiles, renderer,<span class="integer">0</span>, <span class="integer">2</span>, <span class="key">metatile</span>: [<span class="key">width</span>:<span class="integer">4</span>, <span class="key">height</span>: <span class="integer">4</span>])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_generate_mbtiles_metatile.png" alt="tile generate mbtiles metatile">
</div>
</div>
</div>
<div class="sect4">
<h5 id="dbtiles"><a class="anchor" href="#dbtiles"></a>DBTiles</h5>
<div class="paragraph">
<p>Generate Image Tiles to a MBTiles like JDBC Database.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/world_tiles.db</span><span class="delimiter">&quot;</span></span>)
DBTiles dbtiles = <span class="keyword">new</span> DBTiles(<span class="string"><span class="delimiter">&quot;</span><span class="content">jdbc:h2:</span><span class="inline"><span class="inline-delimiter">${</span>file<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">org.h2.Driver</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">World</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">World wide tiles</span><span class="delimiter">&quot;</span></span>)

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

ImageTileRenderer renderer = <span class="keyword">new</span> ImageTileRenderer(dbtiles, [ocean, countries])
TileGenerator generator = <span class="keyword">new</span> TileGenerator()
generator.generate(dbtiles, renderer, <span class="integer">0</span>, <span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_generate_dbtiles.png" alt="tile generate dbtiles">
</div>
</div>
</div>
<div class="sect4">
<h5 id="geopackage-2"><a class="anchor" href="#geopackage-2"></a>GeoPackage</h5>
<div class="paragraph">
<p>Generate Image Tiles to a GeoPackage file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/world.gpkg</span><span class="delimiter">&quot;</span></span>)
geoscript.layer.GeoPackage geopackage = <span class="keyword">new</span> geoscript.layer.GeoPackage(file, <span class="string"><span class="delimiter">&quot;</span><span class="content">World</span><span class="delimiter">&quot;</span></span>, Pyramid.createGlobalGeodeticPyramid())

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

ImageTileRenderer renderer = <span class="keyword">new</span> ImageTileRenderer(geopackage, [ocean, countries])
TileGenerator generator = <span class="keyword">new</span> TileGenerator()
generator.generate(geopackage, renderer, <span class="integer">0</span>, <span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_generate_geopackage.png" alt="tile generate geopackage">
</div>
</div>
</div>
<div class="sect4">
<h5 id="tms"><a class="anchor" href="#tms"></a>TMS</h5>
<div class="paragraph">
<p>Generate Image Tiles to a TMS directory</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> directory = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/tiles</span><span class="delimiter">&quot;</span></span>)
directory.mkdir()
TMS tms = <span class="keyword">new</span> TMS(<span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>, directory, Pyramid.createGlobalMercatorPyramid())

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

ImageTileRenderer renderer = <span class="keyword">new</span> ImageTileRenderer(tms, [ocean, countries])
TileGenerator generator = <span class="keyword">new</span> TileGenerator()
generator.generate(tms, renderer, <span class="integer">0</span>, <span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_generate_tms.png" alt="tile generate tms">
</div>
</div>
</div>
<div class="sect4">
<h5 id="utfgrid"><a class="anchor" href="#utfgrid"></a>UTFGrid</h5>
<div class="paragraph">
<p>Generate UTFGrid tiles to a directory</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> directory = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/utfgrid</span><span class="delimiter">&quot;</span></span>)
directory.mkdir()
UTFGrid utf = <span class="keyword">new</span> UTFGrid(directory)

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)

UTFGridTileRenderer renderer = <span class="keyword">new</span> UTFGridTileRenderer(utf, countries, [countries.schema.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>)])
TileGenerator generator = <span class="keyword">new</span> TileGenerator()
generator.generate(utf, renderer, <span class="integer">0</span>, <span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/utfgrid.png" alt="utfgrid">
</div>
</div>
</div>
<div class="sect4">
<h5 id="vector-tiles"><a class="anchor" href="#vector-tiles"></a>Vector Tiles</h5>
<div class="paragraph">
<p>Generate vector tiles to a directory</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> directory = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/pbf</span><span class="delimiter">&quot;</span></span>)
directory.mkdir()

Workspace workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/shapefiles</span><span class="delimiter">&quot;</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)

Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
pyramid.origin = Pyramid.Origin.TOP_LEFT
VectorTiles vectorTiles = <span class="keyword">new</span> VectorTiles(
    <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>,
    directory,
    pyramid,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">pbf</span><span class="delimiter">&quot;</span></span>,
    <span class="key">style</span>: [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>: <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="integer">1</span>),
        <span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>: <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">blue</span><span class="delimiter">&quot;</span></span>)
    ]
)

PbfVectorTileRenderer renderer = <span class="keyword">new</span> PbfVectorTileRenderer([countries, ocean], [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>],
    <span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">FeatureCla</span><span class="delimiter">&quot;</span></span>]
])
TileGenerator generator = <span class="keyword">new</span> TileGenerator()
generator.generate(vectorTiles, renderer, <span class="integer">0</span>, <span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/pbf_vectortiles.png" alt="pbf vectortiles">
</div>
</div>
<div class="paragraph">
<p>Generate vector tiles to a MBTiles file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/vectortiles.mbtiles</span><span class="delimiter">&quot;</span></span>)

Workspace workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/shapefiles</span><span class="delimiter">&quot;</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)

Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
pyramid.origin = Pyramid.Origin.TOP_LEFT
VectorTiles vectorTiles = <span class="keyword">new</span> VectorTiles(
    <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>,
    file,
    pyramid,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">pbf</span><span class="delimiter">&quot;</span></span>,
    <span class="key">style</span>: [
            <span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>: <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">white</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">black</span><span class="delimiter">&quot;</span></span>, <span class="integer">1</span>),
            <span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>: <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">blue</span><span class="delimiter">&quot;</span></span>)
    ]
)

PbfVectorTileRenderer renderer = <span class="keyword">new</span> PbfVectorTileRenderer([countries, ocean], [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>],
        <span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">FeatureCla</span><span class="delimiter">&quot;</span></span>]
])
TileGenerator generator = <span class="keyword">new</span> TileGenerator()
generator.generate(vectorTiles, renderer, <span class="integer">0</span>, <span class="integer">2</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/pbf_vectortiles.png" alt="pbf vectortiles">
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tile-layer"><a class="anchor" href="#tile-layer"></a>Tile Layer</h3>
<div class="sect3">
<h4 id="tile-layer-properties"><a class="anchor" href="#tile-layer-properties"></a>Tile Layer Properties</h4>
<div class="paragraph">
<p>Create a TileLayer from an MBTiles File.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Get the TileLayer&#8217;s name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">String</span> name = mbtiles.name
println name</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries</pre>
</div>
</div>
<div class="paragraph">
<p>Get the TileLayer&#8217;s Bounds.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Bounds bounds = mbtiles.bounds
println bounds</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857)</pre>
</div>
</div>
<div class="paragraph">
<p>Get the TileLayer&#8217;s Projection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Projection proj = mbtiles.proj
println proj</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>EPSG:3857</pre>
</div>
</div>
<div class="paragraph">
<p>Get the TileLayer&#8217;s Pyramid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Pyramid pyramid = mbtiles.pyramid
println pyramid</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:BOTTOM_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a Tile from a  TileLayer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Tile tile = mbtiles.get(<span class="integer">0</span>, <span class="integer">0</span>, <span class="integer">0</span>)
println tile</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Tile(x:0, y:0, z:0)</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tilelayer_properties_tile.png" alt="tilelayer properties tile">
</div>
</div>
</div>
<div class="sect3">
<h4 id="get-put-and-delete-a-tile-from-a-tilelayer"><a class="anchor" href="#get-put-and-delete-a-tile-from-a-tilelayer"></a>Get, put, and delete a Tile from a TileLayer</h4>
<div class="paragraph">
<p>Get a Tile from a  TileLayer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MBTiles layer = <span class="keyword">new</span> MBTiles(file)
ImageTile tile = layer.get(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tileLayerGetPutDelete_get.png" alt="tileLayerGetPutDelete get">
</div>
</div>
<div class="paragraph">
<p>Add a Tile to a TileLayer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> newTileFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/yellowtile.png</span><span class="delimiter">&quot;</span></span>)
ImageTile newTile = <span class="keyword">new</span> ImageTile(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>, newTileFile.bytes)
layer.put(newTile)
newTile = layer.get(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tileLayerGetPutDelete_put.png" alt="tileLayerGetPutDelete put">
</div>
</div>
<div class="paragraph">
<p>Remove a Tile from a TileLayer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">layer.delete(newTile)
newTile = layer.get(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Image = </span><span class="inline"><span class="inline-delimiter">${</span>newTile.image<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Image = null</pre>
</div>
</div>
<div class="paragraph">
<p>Close a TileLayer</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">layer.close()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="delete-tiles-from-a-tilelayer"><a class="anchor" href="#delete-tiles-from-a-tilelayer"></a>Delete Tiles from a TileLayer</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">MBTiles layer = <span class="keyword">new</span> MBTiles(file)
layer.tiles(<span class="integer">1</span>).each { Tile tile -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>tile<span class="inline-delimiter">}</span></span><span class="content"> = </span><span class="inline"><span class="inline-delimiter">${</span>tile.image == <span class="predefined-constant">null</span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Tile(x:0, y:0, z:1) = false
Tile(x:1, y:0, z:1) = false
Tile(x:0, y:1, z:1) = false
Tile(x:1, y:1, z:1) = false</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">layer.delete(layer.tiles(<span class="integer">1</span>))
layer.tiles(<span class="integer">1</span>).each { Tile tile -&gt;
    println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>tile<span class="inline-delimiter">}</span></span><span class="content"> = </span><span class="inline"><span class="inline-delimiter">${</span>tile.image == <span class="predefined-constant">null</span><span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Tile(x:0, y:0, z:1) = true
Tile(x:1, y:0, z:1) = true
Tile(x:0, y:1, z:1) = true
Tile(x:1, y:1, z:1) = true</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tiles"><a class="anchor" href="#tiles"></a>Tiles</h4>
<div class="paragraph">
<p>Get a TileCursor from a TileLayer with all of the Tiles in a zoom level.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

<span class="type">long</span> zoomLevel = <span class="integer">1</span>
TileCursor tileCursor = mbtiles.tiles(zoomLevel)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 1
# of tiles: 4
Bounds: (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857)
Width / # Columns: 2
Height / # Rows: 2
MinX: 0, MinY: 0, MaxX: 1, MaxY: 1

Tiles:
Tile(x:0, y:0, z:1)
Tile(x:1, y:0, z:1)
Tile(x:0, y:1, z:1)
Tile(x:1, y:1, z:1)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor from a TileLayer with Tiles from a zoom level between min and max x and y coordinates.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

<span class="type">long</span> zoomLevel = <span class="integer">4</span>
<span class="type">long</span> minX = <span class="integer">2</span>
<span class="type">long</span> minY = <span class="integer">4</span>
<span class="type">long</span> maxX = <span class="integer">5</span>
<span class="type">long</span> maxY = <span class="integer">8</span>
TileCursor tileCursor = mbtiles.tiles(zoomLevel, minX, minY, maxX, maxY)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 4
# of tiles: 20
Bounds: (-1.5027296360910986E7,-1.0018735602568535E7,-5009098.786970329,2504683.900642129,EPSG:3857)
Width / # Columns: 4
Height / # Rows: 5
MinX: 2, MinY: 4, MaxX: 5, MaxY: 8

Tiles:
Tile(x:2, y:4, z:4)
Tile(x:3, y:4, z:4)
Tile(x:4, y:4, z:4)
Tile(x:5, y:4, z:4)
Tile(x:2, y:5, z:4)
Tile(x:3, y:5, z:4)
Tile(x:4, y:5, z:4)
Tile(x:5, y:5, z:4)
Tile(x:2, y:6, z:4)
Tile(x:3, y:6, z:4)
Tile(x:4, y:6, z:4)
Tile(x:5, y:6, z:4)
Tile(x:2, y:7, z:4)
Tile(x:3, y:7, z:4)
Tile(x:4, y:7, z:4)
Tile(x:5, y:7, z:4)
Tile(x:2, y:8, z:4)
Tile(x:3, y:8, z:4)
Tile(x:4, y:8, z:4)
Tile(x:5, y:8, z:4)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor from a TileLayer for a zoom level and a given Bounds.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">102.875977</span>, <span class="float">45.433154</span>, -<span class="float">96.481934</span>, <span class="float">48.118434</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> zoomLevel = <span class="integer">8</span>
TileCursor tileCursor = mbtiles.tiles(bounds, zoomLevel)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 8
# of tiles: 24
Bounds: (-1.1583540944868885E7,5635538.7764447965,-1.0644334922311949E7,6261709.751605326,EPSG:3857)
Width / # Columns: 6
Height / # Rows: 4
MinX: 54, MinY: 164, MaxX: 59, MaxY: 167

Tiles:
Tile(x:54, y:164, z:8)
Tile(x:55, y:164, z:8)
Tile(x:56, y:164, z:8)
Tile(x:57, y:164, z:8)
Tile(x:58, y:164, z:8)
Tile(x:59, y:164, z:8)
Tile(x:54, y:165, z:8)
Tile(x:55, y:165, z:8)
Tile(x:56, y:165, z:8)
Tile(x:57, y:165, z:8)
Tile(x:58, y:165, z:8)
Tile(x:59, y:165, z:8)
Tile(x:54, y:166, z:8)
Tile(x:55, y:166, z:8)
Tile(x:56, y:166, z:8)
Tile(x:57, y:166, z:8)
Tile(x:58, y:166, z:8)
Tile(x:59, y:166, z:8)
Tile(x:54, y:167, z:8)
Tile(x:55, y:167, z:8)
Tile(x:56, y:167, z:8)
Tile(x:57, y:167, z:8)
Tile(x:58, y:167, z:8)
Tile(x:59, y:167, z:8)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor from a TileLayer for a zoom level and given x and y resolutions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">124.73142200000001</span>, <span class="float">24.955967</span>, -<span class="float">66.969849</span>, <span class="float">49.371735</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> resolutionX = bounds.width / <span class="integer">400</span>
<span class="type">double</span> resolutionY = bounds.height / <span class="integer">300</span>
TileCursor tileCursor = mbtiles.tiles(bounds, resolutionX, resolutionY)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 4
# of tiles: 8
Bounds: (-1.5027296360910986E7,2504683.9006421305,-5009098.786970329,7514051.701926393,EPSG:3857)
Width / # Columns: 4
Height / # Rows: 2
MinX: 2, MinY: 9, MaxX: 5, MaxY: 10

Tiles:
Tile(x:2, y:9, z:4)
Tile(x:3, y:9, z:4)
Tile(x:4, y:9, z:4)
Tile(x:5, y:9, z:4)
Tile(x:2, y:10, z:4)
Tile(x:3, y:10, z:4)
Tile(x:4, y:10, z:4)
Tile(x:5, y:10, z:4)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor from a TileLayer for a Bounds and a given canvas width and height.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">102.875977</span>, <span class="float">45.433154</span>, -<span class="float">96.481934</span>, <span class="float">48.118434</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> width = <span class="integer">400</span>
<span class="type">int</span> height = <span class="integer">400</span>
TileCursor tileCursor = mbtiles.tiles(bounds, width, height)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 7
# of tiles: 6
Bounds: (-1.1583540944868885E7,5635538.7764447965,-1.0644334922311949E7,6261709.751605329,EPSG:3857)
Width / # Columns: 3
Height / # Rows: 2
MinX: 27, MinY: 82, MaxX: 29, MaxY: 83

Tiles:
Tile(x:27, y:82, z:7)
Tile(x:28, y:82, z:7)
Tile(x:29, y:82, z:7)
Tile(x:27, y:83, z:7)
Tile(x:28, y:83, z:7)
Tile(x:29, y:83, z:7)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor from a TileLayer around a Point at a given zoom level for a given canvas width and height.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

<span class="predefined-type">Point</span> point = Projection.transform(<span class="keyword">new</span> <span class="predefined-type">Point</span>(-<span class="float">102.875977</span>, <span class="float">45.433154</span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> zoomLevel = <span class="integer">12</span>
<span class="type">int</span> width = <span class="integer">400</span>
<span class="type">int</span> height = <span class="integer">400</span>
TileCursor tileCursor = mbtiles.tiles(point, zoomLevel, width, height)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 12
# of tiles: 9
Bounds: (-1.1466140192049267E7,5674674.46239233,-1.1436790003844364E7,5704026.226852979,EPSG:3857)
Width / # Columns: 3
Height / # Rows: 3
MinX: 876, MinY: 2628, MaxX: 878, MaxY: 2630

Tiles:
Tile(x:876, y:2628, z:12)
Tile(x:877, y:2628, z:12)
Tile(x:878, y:2628, z:12)
Tile(x:876, y:2629, z:12)
Tile(x:877, y:2629, z:12)
Tile(x:878, y:2629, z:12)
Tile(x:876, y:2630, z:12)
Tile(x:877, y:2630, z:12)
Tile(x:878, y:2630, z:12)</pre>
</div>
</div>
<div class="paragraph">
<p>Get the tile coordinates from a TileLayer by Bounds and Grid</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)
Bounds bounds = <span class="keyword">new</span> Bounds(<span class="float">20.798492</span>,<span class="float">36.402494</span>,<span class="float">22.765045</span>,<span class="float">37.223768</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
Grid grid = mbtiles.pyramid.grid(<span class="integer">10</span>)
<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; coords = mbtiles.getTileCoordinates(bounds, grid)
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Min X = </span><span class="inline"><span class="inline-delimiter">${</span>coords.minX<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Min Y = </span><span class="inline"><span class="inline-delimiter">${</span>coords.minY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max X = </span><span class="inline"><span class="inline-delimiter">${</span>coords.maxX<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Max Y = </span><span class="inline"><span class="inline-delimiter">${</span>coords.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Min X = 571
Min Y = 623
Max X = 576
Max Y = 626</pre>
</div>
</div>
<div class="paragraph">
<p>Get a Layer from a TileLayer representing the outline of the Tiles in the TileCursor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)
Layer layer = mbtiles.getLayer(mbtiles.tiles(<span class="integer">1</span>))</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tileLayerGetLayer.png" alt="tileLayerGetLayer">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">z</th>
<th class="tableblock halign-left valign-top">x</th>
<th class="tableblock halign-left valign-top">y</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="using-tile-layers"><a class="anchor" href="#using-tile-layers"></a>Using Tile Layers</h4>
<div class="paragraph">
<p>Get a TileLayer and make sure it is closed when done.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
TileLayer.withTileLayer(<span class="keyword">new</span> MBTiles(file)) { TileLayer tileLayer -&gt;
    println tileLayer.name
    println tileLayer.proj
    println tileLayer.bounds
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries
EPSG:3857
(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="get-tile-layer-from-a-map"><a class="anchor" href="#get-tile-layer-from-a-map"></a>Get Tile Layer from a Map</h4>
<div class="paragraph">
<p>Get an MBTiles TileLayer from a Map</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer mbtiles = TileLayer.getTileLayer([<span class="key">type</span>:<span class="string"><span class="delimiter">'</span><span class="content">mbtiles</span><span class="delimiter">'</span></span>, <span class="key">file</span>: <span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">'</span></span>])
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>mbtiles.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>mbtiles.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>mbtiles.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>mbtiles.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:BOTTOM_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an GeoPackage TileLayer from a Map</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer geopackage = TileLayer.getTileLayer([<span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">geopackage</span><span class="delimiter">'</span></span>, <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">world</span><span class="delimiter">'</span></span>, <span class="key">file</span>: <span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/tiles.gpkg</span><span class="delimiter">'</span></span>])
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>geopackage.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>geopackage.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>geopackage.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>geopackage.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>world EPSG:4326 (-179.99,-89.99,179.99,89.99,EPSG:4326) geoscript.layer.Pyramid(proj:EPSG:4326, bounds:(-179.99,-89.99,179.99,89.99,EPSG:4326), origin:TOP_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an TMS TileLayer from a Map</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer tms = TileLayer.getTileLayer([<span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">tms</span><span class="delimiter">'</span></span>, <span class="key">file</span>: <span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/tms</span><span class="delimiter">'</span></span>, <span class="key">format</span>: <span class="string"><span class="delimiter">'</span><span class="content">png</span><span class="delimiter">'</span></span>, <span class="key">pyramid</span>: <span class="string"><span class="delimiter">'</span><span class="content">globalmercator</span><span class="delimiter">'</span></span>])
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>tms.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>tms.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>tms.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>tms.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>tms EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:BOTTOM_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an OSM TileLayer from a Map</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer osm = TileLayer.getTileLayer([<span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">osm</span><span class="delimiter">'</span></span>, <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="content">http://a.tile.openstreetmap.org</span><span class="delimiter">'</span></span>])
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>osm.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>osm.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>osm.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>osm.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>OSM EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:TOP_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an PBF Vector TileLayer from a Map</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer pbf = TileLayer.getTileLayer([<span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">vectortiles</span><span class="delimiter">'</span></span>, <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">world</span><span class="delimiter">'</span></span>, <span class="key">file</span>: <span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/pbf</span><span class="delimiter">'</span></span>, <span class="key">format</span>: <span class="string"><span class="delimiter">'</span><span class="content">pbf</span><span class="delimiter">'</span></span>, <span class="key">pyramid</span>: <span class="string"><span class="delimiter">'</span><span class="content">GlobalMercator</span><span class="delimiter">'</span></span>])
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>pbf.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>pbf.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>pbf.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>pbf.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>world EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:BOTTOM_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an UTF TileLayer from a Map</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer utf = TileLayer.getTileLayer([<span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">utfgrid</span><span class="delimiter">'</span></span>, <span class="key">file</span>: <span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/utf</span><span class="delimiter">'</span></span>])
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>utf.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>utf.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>utf.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>utf.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>utf EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:TOP_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="get-tile-layer-from-a-string"><a class="anchor" href="#get-tile-layer-from-a-string"></a>Get Tile Layer from a String</h4>
<div class="paragraph">
<p>Get an MBTiles TileLayer from a String</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer mbtiles = TileLayer.getTileLayer(<span class="string"><span class="delimiter">&quot;</span><span class="content">type=mbtiles file=src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>mbtiles.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>mbtiles.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>mbtiles.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>mbtiles.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>countries EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:BOTTOM_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an GeoPackage TileLayer from a String</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer geopackage = TileLayer.getTileLayer(<span class="string"><span class="delimiter">&quot;</span><span class="content">type=geopackage name=world file=src/main/resources/tiles.gpkg</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>geopackage.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>geopackage.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>geopackage.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>geopackage.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>world EPSG:4326 (-179.99,-89.99,179.99,89.99,EPSG:4326) geoscript.layer.Pyramid(proj:EPSG:4326, bounds:(-179.99,-89.99,179.99,89.99,EPSG:4326), origin:TOP_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an TMS TileLayer from a String</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer tms = TileLayer.getTileLayer(<span class="string"><span class="delimiter">&quot;</span><span class="content">type=tms file=src/main/resources/tms format=png pyramid=globalmercator</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>tms.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>tms.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>tms.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>tms.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>tms EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:BOTTOM_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an OSM TileLayer from a String</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer osm = TileLayer.getTileLayer(<span class="string"><span class="delimiter">&quot;</span><span class="content">type=osm url=http://a.tile.openstreetmap.org</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>osm.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>osm.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>osm.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>osm.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>OSM EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:TOP_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an PBF Vector TileLayer from a String</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer pbf = TileLayer.getTileLayer(<span class="string"><span class="delimiter">&quot;</span><span class="content">type=vectortiles name=world file=src/main/resources/pbf format=pbf pyramid=GlobalMercator</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>pbf.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>pbf.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>pbf.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>pbf.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>world EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:BOTTOM_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
<div class="paragraph">
<p>Get an UTF TileLayer from a String</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">TileLayer utf = TileLayer.getTileLayer(<span class="string"><span class="delimiter">&quot;</span><span class="content">type=utfgrid file=src/main/resources/utf</span><span class="delimiter">&quot;</span></span>)
println <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>utf.name<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>utf.proj<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>utf.bounds<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>utf.pyramid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>utf EPSG:3857 (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857) geoscript.layer.Pyramid(proj:EPSG:3857, bounds:(-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857), origin:TOP_LEFT, tileWidth:256, tileHeight:256)</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tilerenderer"><a class="anchor" href="#tilerenderer"></a>TileRenderer</h3>
<div class="paragraph">
<p>TileRenderers know how to create a Tile for a given Bounds.  GeoScript has TileRenderer for creating images,
vector tiles, and utfgrids.</p>
</div>
<div class="sect3">
<h4 id="get-default-tilerenderer"><a class="anchor" href="#get-default-tilerenderer"></a>Get default TileRenderer</h4>
<div class="paragraph">
<p>Get a default TileRenderer for a TileLayer</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

TileLayer tileLayer = TileLayer.getTileLayer([<span class="key">type</span>:<span class="string"><span class="delimiter">'</span><span class="content">mbtiles</span><span class="delimiter">'</span></span>, <span class="key">file</span>: <span class="string"><span class="delimiter">'</span><span class="content">target/countries.mbtiles</span><span class="delimiter">'</span></span>])
TileRenderer tileRenderer = TileLayer.getTileRenderer(tileLayer, [ocean, countries])
Pyramid pyramid = tileLayer.pyramid
Tile tile = tileLayer.get(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>)
Bounds bounds = pyramid.bounds(tile)
tile.data = tileRenderer.render(bounds)
tileLayer.put(tile)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_gettilerenderer.png" alt="tile gettilerenderer">
</div>
</div>
</div>
<div class="sect3">
<h4 id="imagetilerenderer"><a class="anchor" href="#imagetilerenderer"></a>ImageTileRenderer</h4>
<div class="paragraph">
<p>Use an ImageTileRenderer to create an image Tile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)

TileLayer tileLayer = TileLayer.getTileLayer([<span class="key">type</span>:<span class="string"><span class="delimiter">'</span><span class="content">mbtiles</span><span class="delimiter">'</span></span>, <span class="key">file</span>: <span class="string"><span class="delimiter">'</span><span class="content">target/countries.mbtiles</span><span class="delimiter">'</span></span>])
ImageTileRenderer tileRenderer = <span class="keyword">new</span> ImageTileRenderer(tileLayer, [ocean, countries])
Pyramid pyramid = tileLayer.pyramid
Tile tile = tileLayer.get(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>)
Bounds bounds = pyramid.bounds(tile)
tile.data = tileRenderer.render(bounds)
tileLayer.put(tile)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_imagetilerenderer.png" alt="tile imagetilerenderer">
</div>
</div>
</div>
<div class="sect3">
<h4 id="vectortilerenderer"><a class="anchor" href="#vectortilerenderer"></a>VectorTileRenderer</h4>
<div class="paragraph">
<p>Use an VectorTileRenderer to create a Vector Tile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/shapefiles</span><span class="delimiter">&quot;</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">File</span> directory = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/country_geojson_tiles</span><span class="delimiter">&quot;</span></span>)
directory.mkdir()

Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
VectorTiles tileLayer = <span class="keyword">new</span> VectorTiles(
    <span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>,
    directory,
    pyramid,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">geojson</span><span class="delimiter">&quot;</span></span>
)

GeoJSONWriter writer = <span class="keyword">new</span> GeoJSONWriter()
VectorTileRenderer tileRenderer = <span class="keyword">new</span> VectorTileRenderer(writer, countries, [countries.schema.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>)])
Tile tile = tileLayer.get(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>)
Bounds bounds = pyramid.bounds(tile)
tile.data = tileRenderer.render(bounds)
tileLayer.put(tile)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[180,-16.0671],[180,-16.5552],[179.3641,-16.8014],[178.7251,-17.012],[178.5968,-16.6392],[179.0966,-16.434],[179.4135,-16.3791],[180,-16.0671]]],[[[178.1256,-17.5048],[178.3736,-17.3399],[178.7181,-17.6285],[178.5527,-18.1506],[177.9327,-18.288],[177.3815,-18.1643],[177.285,-17.7246],[177.6709,-17.3811],[178.1256,-17.5048]]],[[[-179.7933,-16.0209],[-179.9174,-16.5018],[-180,-16.5552],[-180,-16.0671],[-179.7933,-16.0209]]]]},"properties":{"NAME":"Fiji"},"id":"fid-430c8eb2_16d5549ff60_-2828"},{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[33.9037,-0.95],[34.0726,-1.0598],[37.6987,-3.097],[37.7669,-3.6771],[39.2022,-4.6768],[38.7405,-5.9089],[38.7998,-6.4757],[39.44,-6.84],[39.47,-7.1],[39.1947,-7.7039],[39.252,-8.0078],[39.1865,-8.4855],[39.5357,-9.1124],[39.9</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="pbfvectortilerenderer"><a class="anchor" href="#pbfvectortilerenderer"></a>PbfVectorTileRenderer</h4>
<div class="paragraph">
<p>Use an PbfVectorTileRenderer to create a Vector Tile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> Directory(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/shapefiles</span><span class="delimiter">&quot;</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">File</span> directory = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/country_pbf_tiles</span><span class="delimiter">&quot;</span></span>)
directory.mkdir()

Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
pyramid.origin = Pyramid.Origin.TOP_LEFT
VectorTiles tileLayer = <span class="keyword">new</span> VectorTiles(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>,
        directory,
        pyramid,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">pbf</span><span class="delimiter">&quot;</span></span>
)

PbfVectorTileRenderer tileRenderer = <span class="keyword">new</span> PbfVectorTileRenderer(countries, [countries.schema.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>)])
Tile tile = tileLayer.get(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>)
Bounds bounds = pyramid.bounds(tile)
tile.data = tileRenderer.render(bounds)
tileLayer.put(tile)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="utfgridtilerenderer"><a class="anchor" href="#utfgridtilerenderer"></a>UTFGridTileRenderer</h4>
<div class="paragraph">
<p>Use an UTFGridTileRenderer to create a UTFGrid Tile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)

<span class="predefined-type">File</span> directory = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/countryUtfGrid</span><span class="delimiter">&quot;</span></span>)
directory.mkdir()
UTFGrid tileLayer = <span class="keyword">new</span> UTFGrid(directory)

UTFGridTileRenderer tileRenderer = <span class="keyword">new</span> UTFGridTileRenderer(tileLayer, countries, [countries.schema.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">NAME</span><span class="delimiter">&quot;</span></span>)])
Pyramid pyramid = tileLayer.pyramid
Tile tile = tileLayer.get(<span class="integer">0</span>,<span class="integer">0</span>,<span class="integer">0</span>)
Bounds bounds = pyramid.bounds(tile)
tile.data = tileRenderer.render(bounds)
tileLayer.put(tile)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{
    "grid": [
        "                                                                ",
        "                                                                ",
        "                                                                ",
        "                   !     ###                                    ",
        "                 !!!!!  #####                                   ",
        "                !!!!!#########                                  ",
        "               !!!!!!#########                   $              ",
        "               !!!!!#########     %%%            $              ",
        "             !  !!! #########     %%             $$             ",
        "            ! !! !!##########      %%             $             ",
        "           !  !!!!! #########      %        $     $$            ",
        "           !!!!!!!    #######</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tilecursor"><a class="anchor" href="#tilecursor"></a>TileCursor</h3>
<div class="paragraph">
<p>A TileCursor is a way to get a collection of Tiles from a TileLayer.</p>
</div>
<div class="paragraph">
<p>Get a TileCursor with all of the Tiles from a TileLayer in a zoom level.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

<span class="type">long</span> zoomLevel = <span class="integer">1</span>
TileCursor tileCursor = <span class="keyword">new</span> TileCursor(mbtiles, zoomLevel)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 1
# of tiles: 4
Bounds: (-2.0036395147881314E7,-2.0037471205137067E7,2.0036395147881314E7,2.003747120513706E7,EPSG:3857)
Width / # Columns: 2
Height / # Rows: 2
MinX: 0, MinY: 0, MaxX: 1, MaxY: 1

Tiles:
Tile(x:0, y:0, z:1)
Tile(x:1, y:0, z:1)
Tile(x:0, y:1, z:1)
Tile(x:1, y:1, z:1)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor with Tiles from a TileLayer in a zoom level between min and max x and y coordinates.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

<span class="type">long</span> zoomLevel = <span class="integer">4</span>
<span class="type">long</span> minX = <span class="integer">2</span>
<span class="type">long</span> minY = <span class="integer">4</span>
<span class="type">long</span> maxX = <span class="integer">5</span>
<span class="type">long</span> maxY = <span class="integer">8</span>
TileCursor tileCursor = <span class="keyword">new</span> TileCursor(mbtiles, zoomLevel, minX, minY, maxX, maxY)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 4
# of tiles: 20
Bounds: (-1.5027296360910986E7,-1.0018735602568535E7,-5009098.786970329,2504683.900642129,EPSG:3857)
Width / # Columns: 4
Height / # Rows: 5
MinX: 2, MinY: 4, MaxX: 5, MaxY: 8

Tiles:
Tile(x:2, y:4, z:4)
Tile(x:3, y:4, z:4)
Tile(x:4, y:4, z:4)
Tile(x:5, y:4, z:4)
Tile(x:2, y:5, z:4)
Tile(x:3, y:5, z:4)
Tile(x:4, y:5, z:4)
Tile(x:5, y:5, z:4)
Tile(x:2, y:6, z:4)
Tile(x:3, y:6, z:4)
Tile(x:4, y:6, z:4)
Tile(x:5, y:6, z:4)
Tile(x:2, y:7, z:4)
Tile(x:3, y:7, z:4)
Tile(x:4, y:7, z:4)
Tile(x:5, y:7, z:4)
Tile(x:2, y:8, z:4)
Tile(x:3, y:8, z:4)
Tile(x:4, y:8, z:4)
Tile(x:5, y:8, z:4)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor with Tiles from a TileLayer in a zoom level for a given Bounds.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">102.875977</span>, <span class="float">45.433154</span>, -<span class="float">96.481934</span>, <span class="float">48.118434</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> zoomLevel = <span class="integer">8</span>
TileCursor tileCursor = <span class="keyword">new</span> TileCursor(mbtiles, bounds, zoomLevel)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 8
# of tiles: 24
Bounds: (-1.1583540944868885E7,5635538.7764447965,-1.0644334922311949E7,6261709.751605326,EPSG:3857)
Width / # Columns: 6
Height / # Rows: 4
MinX: 54, MinY: 164, MaxX: 59, MaxY: 167

Tiles:
Tile(x:54, y:164, z:8)
Tile(x:55, y:164, z:8)
Tile(x:56, y:164, z:8)
Tile(x:57, y:164, z:8)
Tile(x:58, y:164, z:8)
Tile(x:59, y:164, z:8)
Tile(x:54, y:165, z:8)
Tile(x:55, y:165, z:8)
Tile(x:56, y:165, z:8)
Tile(x:57, y:165, z:8)
Tile(x:58, y:165, z:8)
Tile(x:59, y:165, z:8)
Tile(x:54, y:166, z:8)
Tile(x:55, y:166, z:8)
Tile(x:56, y:166, z:8)
Tile(x:57, y:166, z:8)
Tile(x:58, y:166, z:8)
Tile(x:59, y:166, z:8)
Tile(x:54, y:167, z:8)
Tile(x:55, y:167, z:8)
Tile(x:56, y:167, z:8)
Tile(x:57, y:167, z:8)
Tile(x:58, y:167, z:8)
Tile(x:59, y:167, z:8)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor with Tiles from a TileLayer in a zoom level for a given x and y resolution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">124.73142200000001</span>, <span class="float">24.955967</span>, -<span class="float">66.969849</span>, <span class="float">49.371735</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">double</span> resolutionX = bounds.width / <span class="integer">400</span>
<span class="type">double</span> resolutionY = bounds.height / <span class="integer">300</span>
TileCursor tileCursor = <span class="keyword">new</span> TileCursor(mbtiles, bounds, resolutionX, resolutionY)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 4
# of tiles: 8
Bounds: (-1.5027296360910986E7,2504683.9006421305,-5009098.786970329,7514051.701926393,EPSG:3857)
Width / # Columns: 4
Height / # Rows: 2
MinX: 2, MinY: 9, MaxX: 5, MaxY: 10

Tiles:
Tile(x:2, y:9, z:4)
Tile(x:3, y:9, z:4)
Tile(x:4, y:9, z:4)
Tile(x:5, y:9, z:4)
Tile(x:2, y:10, z:4)
Tile(x:3, y:10, z:4)
Tile(x:4, y:10, z:4)
Tile(x:5, y:10, z:4)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor with Tiles from a TileLayer within a Bounds for a given canvas width and height.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">102.875977</span>, <span class="float">45.433154</span>, -<span class="float">96.481934</span>, <span class="float">48.118434</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> width = <span class="integer">400</span>
<span class="type">int</span> height = <span class="integer">400</span>
TileCursor tileCursor = <span class="keyword">new</span> TileCursor(mbtiles, bounds, width, height)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 7
# of tiles: 6
Bounds: (-1.1583540944868885E7,5635538.7764447965,-1.0644334922311949E7,6261709.751605329,EPSG:3857)
Width / # Columns: 3
Height / # Rows: 2
MinX: 27, MinY: 82, MaxX: 29, MaxY: 83

Tiles:
Tile(x:27, y:82, z:7)
Tile(x:28, y:82, z:7)
Tile(x:29, y:82, z:7)
Tile(x:27, y:83, z:7)
Tile(x:28, y:83, z:7)
Tile(x:29, y:83, z:7)</pre>
</div>
</div>
<div class="paragraph">
<p>Get a TileCursor with Tiles from a TileLayer around a Point at a given zoom level for a given canvas width and height.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)

Bounds bounds = <span class="keyword">new</span> Bounds(-<span class="float">102.875977</span>, <span class="float">45.433154</span>, -<span class="float">96.481934</span>, <span class="float">48.118434</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:4326</span><span class="delimiter">&quot;</span></span>).reproject(<span class="string"><span class="delimiter">&quot;</span><span class="content">EPSG:3857</span><span class="delimiter">&quot;</span></span>)
<span class="type">int</span> width = <span class="integer">400</span>
<span class="type">int</span> height = <span class="integer">400</span>
TileCursor tileCursor = <span class="keyword">new</span> TileCursor(mbtiles, bounds, width, height)

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Zoom Level: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.z<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content"># of tiles: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.size<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Bounds: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.bounds<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Width / # Columns: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.width<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">Height / # Rows: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.height<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
println <span class="string"><span class="delimiter">&quot;</span><span class="content">MinX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minX<span class="inline-delimiter">}</span></span><span class="content">, MinY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.minY<span class="inline-delimiter">}</span></span><span class="content">, MaxX: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxX<span class="inline-delimiter">}</span></span><span class="content">, MaxY: </span><span class="inline"><span class="inline-delimiter">${</span>tileCursor.maxY<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

println <span class="string"><span class="delimiter">&quot;</span><span class="content">Tiles:</span><span class="delimiter">&quot;</span></span>
tileCursor.each { Tile t -&gt;
    println t
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Zoom Level: 7
# of tiles: 6
Bounds: (-1.1583540944868885E7,5635538.7764447965,-1.0644334922311949E7,6261709.751605329,EPSG:3857)
Width / # Columns: 3
Height / # Rows: 2
MinX: 27, MinY: 82, MaxX: 29, MaxY: 83

Tiles:
Tile(x:27, y:82, z:7)
Tile(x:28, y:82, z:7)
Tile(x:29, y:82, z:7)
Tile(x:27, y:83, z:7)
Tile(x:28, y:83, z:7)
Tile(x:29, y:83, z:7)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tms-2"><a class="anchor" href="#tms-2"></a>TMS</h3>
<div class="paragraph">
<p>Access a TileLayer from an TMS directory</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> dir = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tms</span><span class="delimiter">&quot;</span></span>)
Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
TMS tms = <span class="keyword">new</span> TMS(
    <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>,   <i class="conum" data-value="2"></i><b>(2)</b>
    dir,     <i class="conum" data-value="3"></i><b>(3)</b>
    pyramid  <i class="conum" data-value="4"></i><b>(4)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Image type</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Directory</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Pyramid</td>
</tr>
</table>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_tms.png" alt="tile tms">
</div>
</div>
</div>
<div class="sect2">
<h3 id="mbtiles-2"><a class="anchor" href="#mbtiles-2"></a>MBTiles</h3>
<div class="paragraph">
<p>Access a TileLayer from an MBTiles file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/tiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
MBTiles mbtiles = <span class="keyword">new</span> MBTiles(file)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_mbtiles.png" alt="tile mbtiles">
</div>
</div>
</div>
<div class="sect2">
<h3 id="dbtiles-2"><a class="anchor" href="#dbtiles-2"></a>DBTiles</h3>
<div class="paragraph">
<p>Access a TileLayer from an DBTiles H2 database</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/h2dbtiles/world_tiles.db</span><span class="delimiter">&quot;</span></span>)
DBTiles dbtiles = <span class="keyword">new</span> DBTiles(<span class="string"><span class="delimiter">&quot;</span><span class="content">jdbc:h2:</span><span class="inline"><span class="inline-delimiter">${</span>file<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">org.h2.Driver</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">World</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">World wide tiles</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_dbtiles.png" alt="tile dbtiles">
</div>
</div>
</div>
<div class="sect2">
<h3 id="geopackage-3"><a class="anchor" href="#geopackage-3"></a>GeoPackage</h3>
<div class="paragraph">
<p>Access a TileLayer with a Global Geodetic Pyramid from an GeoPackage file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
geoscript.layer.GeoPackage geopackage = <span class="keyword">new</span> geoscript.layer.GeoPackage(file, <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_geopackage_world.png" alt="tile geopackage world">
</div>
</div>
<div class="paragraph">
<p>Access a TileLayer with a Global Mercator Pyramid from an GeoPackage file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">&quot;</span></span>)
geoscript.layer.GeoPackage geopackage = <span class="keyword">new</span> geoscript.layer.GeoPackage(file, <span class="string"><span class="delimiter">&quot;</span><span class="content">world_mercator</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_geopackage_worldmerc.png" alt="tile geopackage worldmerc">
</div>
</div>
</div>
<div class="sect2">
<h3 id="utfgrid-2"><a class="anchor" href="#utfgrid-2"></a>UTFGrid</h3>
<div class="paragraph">
<p>Access a TileLayer from an UTFGrid directory</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> dir = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/utf</span><span class="delimiter">&quot;</span></span>)
UTFGrid utfGrid = <span class="keyword">new</span> UTFGrid(dir)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/utfgrid.png" alt="utfgrid">
</div>
</div>
</div>
<div class="sect2">
<h3 id="vectortiles"><a class="anchor" href="#vectortiles"></a>VectorTiles</h3>
<div class="paragraph">
<p>Access a TileLayer from an VectorTiles directory</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> dir = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/pbf</span><span class="delimiter">&quot;</span></span>)
Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
VectorTiles vectorTiles = <span class="keyword">new</span> VectorTiles(
    <span class="string"><span class="delimiter">&quot;</span><span class="content">World</span><span class="delimiter">&quot;</span></span>,  <i class="conum" data-value="1"></i><b>(1)</b>
    dir,      <i class="conum" data-value="2"></i><b>(2)</b>
    pyramid,  <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">pbf</span><span class="delimiter">&quot;</span></span>     <i class="conum" data-value="4"></i><b>(4)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Directory</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Pyramid</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Type</td>
</tr>
</table>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/pbf_vectortiles.png" alt="pbf vectortiles">
</div>
</div>
<div class="paragraph">
<p>Access a TileLayer from an VectorTiles MBTiles file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/vectortiles.mbtiles</span><span class="delimiter">&quot;</span></span>)
Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
VectorTiles vectorTiles = <span class="keyword">new</span> VectorTiles(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">World</span><span class="delimiter">&quot;</span></span>,  <i class="conum" data-value="1"></i><b>(1)</b>
        file,     <i class="conum" data-value="2"></i><b>(2)</b>
        pyramid,  <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="string"><span class="delimiter">&quot;</span><span class="content">pbf</span><span class="delimiter">&quot;</span></span>     <i class="conum" data-value="4"></i><b>(4)</b>
)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>MBTiles File</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Pyramid</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Type</td>
</tr>
</table>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/pbf_vectortiles.png" alt="pbf vectortiles">
</div>
</div>
</div>
<div class="sect2">
<h3 id="generating-tilelayer"><a class="anchor" href="#generating-tilelayer"></a>Generating TileLayer</h3>
<div class="paragraph">
<p>A GeneratingTileLayer can create tiles on demand when they are accessed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> dir = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target/worldtiles</span><span class="delimiter">&quot;</span></span>)
Pyramid pyramid = Pyramid.createGlobalMercatorPyramid()
TileLayer tileLayer = <span class="keyword">new</span> TMS(<span class="string"><span class="delimiter">&quot;</span><span class="content">World</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>, dir, pyramid)

Workspace workspace = <span class="keyword">new</span> GeoPackage(<span class="string"><span class="delimiter">'</span><span class="content">src/main/resources/data.gpkg</span><span class="delimiter">'</span></span>)
Layer countries = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">countries</span><span class="delimiter">&quot;</span></span>)
countries.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>) + <span class="keyword">new</span> <span class="predefined-type">Stroke</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#b2b2b2</span><span class="delimiter">&quot;</span></span>, <span class="float">0.5</span>)
Layer ocean = workspace.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">ocean</span><span class="delimiter">&quot;</span></span>)
ocean.style = <span class="keyword">new</span> Fill(<span class="string"><span class="delimiter">&quot;</span><span class="content">#a5bfdd</span><span class="delimiter">&quot;</span></span>)
TileRenderer tileRenderer = <span class="keyword">new</span> ImageTileRenderer(tileLayer, [ocean, countries])

GeneratingTileLayer generatingTileLayer = <span class="keyword">new</span> GeneratingTileLayer(tileLayer, tileRenderer)
Tile tile = generatingTileLayer.get(<span class="integer">0</span>, <span class="integer">0</span>, <span class="integer">0</span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_generatingtilelayer.png" alt="tile generatingtilelayer">
</div>
</div>
</div>
<div class="sect2">
<h3 id="osm"><a class="anchor" href="#osm"></a>OSM</h3>
<div class="paragraph">
<p>Create a TileLayer for OSM tiles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">OSM osm = <span class="keyword">new</span> OSM()</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_osm_default.png" alt="tile osm default">
</div>
</div>
<div class="paragraph">
<p>Create a TileLayer for OSM tiles with custom urls.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">OSM osm = <span class="keyword">new</span> OSM(<span class="string"><span class="delimiter">&quot;</span><span class="content">OSM</span><span class="delimiter">&quot;</span></span>, [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">http://a.tile.openstreetmap.org</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">http://b.tile.openstreetmap.org</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">http://c.tile.openstreetmap.org</span><span class="delimiter">&quot;</span></span>
])</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_osm_urls.png" alt="tile osm urls">
</div>
</div>
<div class="sect3">
<h4 id="standard-osm"><a class="anchor" href="#standard-osm"></a>Standard OSM</h4>
<div class="paragraph">
<p>Create a TileLayer for OSM tiles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">OSM osm = OSM.getWellKnownOSM(<span class="string"><span class="delimiter">&quot;</span><span class="content">osm</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_osm_wellknown.png" alt="tile osm wellknown">
</div>
</div>
</div>
<div class="sect3">
<h4 id="stamen-toner"><a class="anchor" href="#stamen-toner"></a>Stamen Toner</h4>
<div class="paragraph">
<p>Create a TileLayer for OSM Stamen Toner tiles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">OSM osm = OSM.getWellKnownOSM(<span class="string"><span class="delimiter">&quot;</span><span class="content">stamen-toner</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_osm_stamen_toner.png" alt="tile osm stamen toner">
</div>
</div>
</div>
<div class="sect3">
<h4 id="stamen-toner-lite"><a class="anchor" href="#stamen-toner-lite"></a>Stamen Toner Lite</h4>
<div class="paragraph">
<p>Create a TileLayer for OSM Stamen Toner Lite tiles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">OSM osm = OSM.getWellKnownOSM(<span class="string"><span class="delimiter">&quot;</span><span class="content">stamen-toner-lite</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_osm_stamen_toner_lite.png" alt="tile osm stamen toner lite">
</div>
</div>
</div>
<div class="sect3">
<h4 id="stamen-water-color"><a class="anchor" href="#stamen-water-color"></a>Stamen Water Color</h4>
<div class="paragraph">
<p>Create a TileLayer for OSM Stamen Water Color tiles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">OSM osm = OSM.getWellKnownOSM(<span class="string"><span class="delimiter">&quot;</span><span class="content">stamen-watercolor</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_osm_stamen_water_color.png" alt="tile osm stamen water color">
</div>
</div>
</div>
<div class="sect3">
<h4 id="stamen-terrain"><a class="anchor" href="#stamen-terrain"></a>Stamen Terrain</h4>
<div class="paragraph">
<p>Create a TileLayer for OSM Stamen Terrain tiles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">OSM osm = OSM.getWellKnownOSM(<span class="string"><span class="delimiter">&quot;</span><span class="content">stamen-terrain</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/tile_osm_stamen_terrain.png" alt="tile osm stamen terrain">
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.14.0<br>
Last updated 2019-09-21 19:18:15 UTC
</div>
</div>
</body>
</html>